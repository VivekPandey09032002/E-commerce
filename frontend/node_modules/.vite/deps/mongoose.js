import {
  __commonJS
} from "./chunk-MB5FDF5C.js";

// ../node_modules/mongoose/dist/browser.umd.js
var require_browser_umd = __commonJS({
  "../node_modules/mongoose/dist/browser.umd.js"(exports, module) {
    !function(t, e) {
      "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.mongoose = e() : t.mongoose = e();
    }("undefined" != typeof self ? self : exports, function() {
      return function(t) {
        var e = {};
        function r(n) {
          if (e[n])
            return e[n].exports;
          var o = e[n] = { i: n, l: false, exports: {} };
          return t[n].call(o.exports, o, o.exports, r), o.l = true, o.exports;
        }
        return r.m = t, r.c = e, r.d = function(t2, e2, n) {
          r.o(t2, e2) || Object.defineProperty(t2, e2, { enumerable: true, get: n });
        }, r.r = function(t2) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
        }, r.t = function(t2, e2) {
          if (1 & e2 && (t2 = r(t2)), 8 & e2)
            return t2;
          if (4 & e2 && "object" == typeof t2 && t2 && t2.__esModule)
            return t2;
          var n = /* @__PURE__ */ Object.create(null);
          if (r.r(n), Object.defineProperty(n, "default", { enumerable: true, value: t2 }), 2 & e2 && "string" != typeof t2)
            for (var o in t2)
              r.d(n, o, function(e3) {
                return t2[e3];
              }.bind(null, o));
          return n;
        }, r.n = function(t2) {
          var e2 = t2 && t2.__esModule ? function() {
            return t2.default;
          } : function() {
            return t2;
          };
          return r.d(e2, "a", e2), e2;
        }, r.o = function(t2, e2) {
          return Object.prototype.hasOwnProperty.call(t2, e2);
        }, r.p = "", r(r.s = 96);
      }([function(t, e, r) {
        "use strict";
        e.arrayAtomicsSymbol = Symbol("mongoose#Array#_atomics"), e.arrayParentSymbol = Symbol("mongoose#Array#_parent"), e.arrayPathSymbol = Symbol("mongoose#Array#_path"), e.arraySchemaSymbol = Symbol("mongoose#Array#_schema"), e.documentArrayParent = Symbol("mongoose:documentArrayParent"), e.documentIsSelected = Symbol("mongoose#Document#isSelected"), e.documentIsModified = Symbol("mongoose#Document#isModified"), e.documentModifiedPaths = Symbol("mongoose#Document#modifiedPaths"), e.documentSchemaSymbol = Symbol("mongoose#Document#schema"), e.getSymbol = Symbol("mongoose#Document#get"), e.modelSymbol = Symbol("mongoose#Model"), e.objectIdSymbol = Symbol("mongoose#ObjectId"), e.populateModelSymbol = Symbol("mongoose.PopulateOptions#Model"), e.schemaTypeSymbol = Symbol("mongoose#schemaType"), e.sessionNewDocuments = Symbol("mongoose:ClientSession#newDocuments"), e.scopeSymbol = Symbol("mongoose#Document#scope"), e.validatorErrorSymbol = Symbol("mongoose:validatorError");
      }, function(t, e, r) {
        "use strict";
        (function(t2) {
          function n(t3, e2) {
            var r2 = "undefined" != typeof Symbol && t3[Symbol.iterator] || t3["@@iterator"];
            if (!r2) {
              if (Array.isArray(t3) || (r2 = function(t4, e3) {
                if (!t4)
                  return;
                if ("string" == typeof t4)
                  return o(t4, e3);
                var r3 = Object.prototype.toString.call(t4).slice(8, -1);
                "Object" === r3 && t4.constructor && (r3 = t4.constructor.name);
                if ("Map" === r3 || "Set" === r3)
                  return Array.from(t4);
                if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                  return o(t4, e3);
              }(t3)) || e2 && t3 && "number" == typeof t3.length) {
                r2 && (t3 = r2);
                var n2 = 0, i2 = function() {
                };
                return { s: i2, n: function() {
                  return n2 >= t3.length ? { done: true } : { done: false, value: t3[n2++] };
                }, e: function(t4) {
                  throw t4;
                }, f: i2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s2, a2 = true, u2 = false;
            return { s: function() {
              r2 = r2.call(t3);
            }, n: function() {
              var t4 = r2.next();
              return a2 = t4.done, t4;
            }, e: function(t4) {
              u2 = true, s2 = t4;
            }, f: function() {
              try {
                a2 || null == r2.return || r2.return();
              } finally {
                if (u2)
                  throw s2;
              }
            } };
          }
          function o(t3, e2) {
            (null == e2 || e2 > t3.length) && (e2 = t3.length);
            for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
              n2[r2] = t3[r2];
            return n2;
          }
          function i(t3) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
              return typeof t4;
            } : function(t4) {
              return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
            })(t3);
          }
          var s, a = r(114), u = r(50), c = r(63), l = r(64).Buffer, f = r(20), p = r(11), h = r(117), y = r(26), d = r(22), _ = r(21), v = r(67), m = r(66), b = r(31), g = r(27), w = r(72), O = r(51);
          function S(t3) {
            if (Array.isArray(t3.populate)) {
              var r2 = [];
              t3.populate.forEach(function(t4) {
                if (/[\s]/.test(t4.path)) {
                  var n2 = Object.assign({}, t4);
                  n2.path.split(" ").forEach(function(t5) {
                    n2.path = t5, r2.push(e.populate(n2)[0]);
                  });
                } else
                  r2.push(e.populate(t4)[0]);
              }), t3.populate = e.populate(r2);
            } else
              null != t3.populate && "object" === i(t3.populate) && (t3.populate = e.populate(t3.populate));
            var o2 = [], s2 = t3.path.split(" ");
            null != t3.options && (t3.options = e.clone(t3.options));
            var a2, u2 = n(s2);
            try {
              for (u2.s(); !(a2 = u2.n()).done; ) {
                var c2 = a2.value;
                o2.push(new h(Object.assign({}, t3, { path: c2 })));
              }
            } catch (t4) {
              u2.e(t4);
            } finally {
              u2.f();
            }
            return o2;
          }
          e.specialProperties = O, e.toCollectionName = function(t3, e2) {
            return "system.profile" === t3 || "system.indexes" === t3 ? t3 : "function" == typeof e2 ? e2(t3) : t3;
          }, e.deepEqual = function t3(r2, n2) {
            if (r2 === n2)
              return true;
            if ("object" !== i(r2) && "object" !== i(n2))
              return r2 === n2;
            if (r2 instanceof Date && n2 instanceof Date)
              return r2.getTime() === n2.getTime();
            if (v(r2, "ObjectID") && v(n2, "ObjectID") || v(r2, "Decimal128") && v(n2, "Decimal128"))
              return r2.toString() === n2.toString();
            if (r2 instanceof RegExp && n2 instanceof RegExp)
              return r2.source === n2.source && r2.ignoreCase === n2.ignoreCase && r2.multiline === n2.multiline && r2.global === n2.global;
            if (null == r2 || null == n2)
              return false;
            if (r2.prototype !== n2.prototype)
              return false;
            if (r2 instanceof Map && n2 instanceof Map)
              return t3(Array.from(r2.keys()), Array.from(n2.keys())) && t3(Array.from(r2.values()), Array.from(n2.values()));
            if (r2 instanceof Number && n2 instanceof Number)
              return r2.valueOf() === n2.valueOf();
            if (l.isBuffer(r2))
              return e.buffer.areEqual(r2, n2);
            if (Array.isArray(r2) && Array.isArray(n2)) {
              var o2 = r2.length;
              if (o2 !== n2.length)
                return false;
              for (var s2 = 0; s2 < o2; ++s2)
                if (!t3(r2[s2], n2[s2]))
                  return false;
              return true;
            }
            null != r2.$__ ? r2 = r2._doc : b(r2) && (r2 = r2.toObject()), null != n2.$__ ? n2 = n2._doc : b(n2) && (n2 = n2.toObject());
            var a2 = Object.keys(r2), u2 = Object.keys(n2), c2 = a2.length;
            if (c2 !== u2.length)
              return false;
            a2.sort(), u2.sort();
            for (var f2 = c2 - 1; f2 >= 0; f2--)
              if (a2[f2] !== u2[f2])
                return false;
            for (var p2 = 0, h2 = a2; p2 < h2.length; p2++) {
              var y2 = h2[p2];
              if (!t3(r2[y2], n2[y2]))
                return false;
            }
            return true;
          }, e.last = function(t3) {
            if (t3.length > 0)
              return t3[t3.length - 1];
          }, e.clone = y, e.promiseOrCallback = g, e.omit = function(t3, e2) {
            if (null == e2)
              return Object.assign({}, t3);
            Array.isArray(e2) || (e2 = [e2]);
            var r2, o2 = Object.assign({}, t3), i2 = n(e2);
            try {
              for (i2.s(); !(r2 = i2.n()).done; ) {
                delete o2[r2.value];
              }
            } catch (t4) {
              i2.e(t4);
            } finally {
              i2.f();
            }
            return o2;
          }, e.options = function(t3, e2) {
            var r2, n2 = Object.keys(t3), o2 = n2.length;
            for (e2 = e2 || {}; o2--; )
              (r2 = n2[o2]) in e2 || (e2[r2] = t3[r2]);
            return e2;
          }, e.random = function() {
            return Math.random().toString().substr(3);
          }, e.merge = function t3(r2, n2, o2, i2) {
            o2 = o2 || {};
            var s2, a2 = Object.keys(n2), u2 = 0, c2 = a2.length;
            i2 = i2 || "";
            for (var l2 = o2.omitNested || {}; u2 < c2; )
              if (s2 = a2[u2++], !(o2.omit && o2.omit[s2] || l2[i2] || O.has(s2)))
                if (null == r2[s2])
                  r2[s2] = n2[s2];
                else if (e.isObject(n2[s2])) {
                  if (e.isObject(r2[s2]) || (r2[s2] = {}), null != n2[s2]) {
                    if (o2.isDiscriminatorSchemaMerge && n2[s2].$isSingleNested && r2[s2].$isMongooseDocumentArray || n2[s2].$isMongooseDocumentArray && r2[s2].$isSingleNested)
                      continue;
                    if (n2[s2].instanceOfSchema) {
                      r2[s2].instanceOfSchema ? w(r2[s2], n2[s2].clone(), o2.isDiscriminatorSchemaMerge) : r2[s2] = n2[s2].clone();
                      continue;
                    }
                    if (n2[s2] instanceof p) {
                      r2[s2] = new p(n2[s2]);
                      continue;
                    }
                  }
                  t3(r2[s2], n2[s2], o2, i2 ? i2 + "." + s2 : s2);
                } else
                  o2.overwrite && (r2[s2] = n2[s2]);
          }, e.toObject = function t3(o2) {
            var i2;
            if (s || (s = r(12)), null == o2)
              return o2;
            if (o2 instanceof s)
              return o2.toObject();
            if (Array.isArray(o2)) {
              i2 = [];
              var a2, u2 = n(o2);
              try {
                for (u2.s(); !(a2 = u2.n()).done; ) {
                  var c2 = a2.value;
                  i2.push(t3(c2));
                }
              } catch (t4) {
                u2.e(t4);
              } finally {
                u2.f();
              }
              return i2;
            }
            if (e.isPOJO(o2)) {
              i2 = {};
              for (var l2 = 0, f2 = Object.keys(o2); l2 < f2.length; l2++) {
                var p2 = f2[l2];
                O.has(p2) || (i2[p2] = t3(o2[p2]));
              }
              return i2;
            }
            return o2;
          }, e.isObject = _, e.isPOJO = function(t3) {
            if (null == t3 || "object" !== i(t3))
              return false;
            var e2 = Object.getPrototypeOf(t3);
            return !e2 || "Object" === e2.constructor.name;
          }, e.isNativeObject = function(t3) {
            return Array.isArray(t3) || t3 instanceof Date || t3 instanceof Boolean || t3 instanceof Number || t3 instanceof String;
          }, e.isEmptyObject = function(t3) {
            return null != t3 && "object" === i(t3) && 0 === Object.keys(t3).length;
          }, e.hasKey = function(t3, r2) {
            for (var n2 = 0, o2 = Object.keys(t3); n2 < o2.length; n2++) {
              var i2 = o2[n2];
              if (i2 === r2)
                return true;
              if (e.isPOJO(t3[i2]) && e.hasKey(t3[i2], r2))
                return true;
            }
            return false;
          }, e.args = c, e.tick = function(t3) {
            if ("function" == typeof t3)
              return function() {
                try {
                  t3.apply(this, arguments);
                } catch (t4) {
                  d(function() {
                    throw t4;
                  });
                }
              };
          }, e.isMongooseType = function(t3) {
            return t3 instanceof p || t3 instanceof f || t3 instanceof l;
          }, e.isMongooseObject = b, e.expires = function(t3) {
            var e2;
            t3 && "Object" === t3.constructor.name && ("expires" in t3 && (e2 = "string" != typeof t3.expires ? t3.expires : Math.round(a(t3.expires) / 1e3), t3.expireAfterSeconds = e2, delete t3.expires));
          }, e.populate = function(t3, r2, n2, o2, s2, a2, u2, c2) {
            var l2 = null;
            if (1 === arguments.length) {
              if (t3 instanceof h)
                return [t3];
              if (Array.isArray(t3)) {
                var f2 = p2(t3);
                return f2.map(function(t4) {
                  return e.populate(t4)[0];
                });
              }
              l2 = e.isObject(t3) ? Object.assign({}, t3) : { path: t3 };
            } else
              l2 = "object" === i(n2) ? { path: t3, select: r2, match: n2, options: o2 } : { path: t3, select: r2, model: n2, match: o2, options: s2, populate: a2, justOne: u2, count: c2 };
            if ("string" != typeof l2.path)
              throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `" + i(t3) + "`");
            return S(l2);
            function p2(t4) {
              var e2 = [];
              return t4.forEach(function(t5) {
                /[\s]/.test(t5.path) ? t5.path.split(" ").forEach(function(r3) {
                  var n3 = Object.assign({}, t5);
                  n3.path = r3, e2.push(n3);
                }) : e2.push(t5);
              }), e2;
            }
          }, e.getValue = function(t3, e2, r2) {
            return u.get(t3, e2, "_doc", r2);
          }, e.setValue = function(t3, e2, r2, n2, o2) {
            u.set(t3, e2, r2, "_doc", n2, o2);
          }, e.object = {}, e.object.vals = function(t3) {
            for (var e2 = Object.keys(t3), r2 = e2.length, n2 = []; r2--; )
              n2.push(t3[e2[r2]]);
            return n2;
          }, e.object.shallowCopy = e.options;
          var j = Object.prototype.hasOwnProperty;
          e.object.hasOwnProperty = function(t3, e2) {
            return j.call(t3, e2);
          }, e.isNullOrUndefined = function(t3) {
            return null == t3;
          }, e.array = {}, e.array.flatten = function t3(e2, r2, n2) {
            return n2 || (n2 = []), e2.forEach(function(e3) {
              Array.isArray(e3) ? t3(e3, r2, n2) : r2 && !r2(e3) || n2.push(e3);
            }), n2;
          };
          var A = Object.prototype.hasOwnProperty;
          e.hasUserDefinedProperty = function(t3, r2) {
            if (null == t3)
              return false;
            if (Array.isArray(r2)) {
              var o2, s2 = n(r2);
              try {
                for (s2.s(); !(o2 = s2.n()).done; ) {
                  var a2 = o2.value;
                  if (e.hasUserDefinedProperty(t3, a2))
                    return true;
                }
              } catch (t4) {
                s2.e(t4);
              } finally {
                s2.f();
              }
              return false;
            }
            if (A.call(t3, r2))
              return true;
            if ("object" === i(t3) && r2 in t3) {
              var u2 = t3[r2];
              return u2 !== Object.prototype[r2] && u2 !== Array.prototype[r2];
            }
            return false;
          };
          var $ = Math.pow(2, 32) - 1;
          e.isArrayIndex = function(t3) {
            return "number" == typeof t3 ? t3 >= 0 && t3 <= $ : "string" == typeof t3 && (!!/^\d+$/.test(t3) && ((t3 = +t3) >= 0 && t3 <= $));
          }, e.array.unique = function(t3) {
            var e2, r2 = /* @__PURE__ */ new Set(), o2 = /* @__PURE__ */ new Set(), i2 = [], s2 = n(t3);
            try {
              for (s2.s(); !(e2 = s2.n()).done; ) {
                var a2 = e2.value;
                if ("number" == typeof a2 || "string" == typeof a2 || null == a2) {
                  if (r2.has(a2))
                    continue;
                  i2.push(a2), r2.add(a2);
                } else if (a2 instanceof p) {
                  if (o2.has(a2.toString()))
                    continue;
                  i2.push(a2), o2.add(a2.toString());
                } else
                  i2.push(a2);
              }
            } catch (t4) {
              s2.e(t4);
            } finally {
              s2.f();
            }
            return i2;
          }, e.buffer = {}, e.buffer.areEqual = function(t3, e2) {
            if (!l.isBuffer(t3))
              return false;
            if (!l.isBuffer(e2))
              return false;
            if (t3.length !== e2.length)
              return false;
            for (var r2 = 0, n2 = t3.length; r2 < n2; ++r2)
              if (t3[r2] !== e2[r2])
                return false;
            return true;
          }, e.getFunctionName = m, e.decorate = function(t3, e2) {
            for (var r2 in e2)
              O.has(r2) || (t3[r2] = e2[r2]);
          }, e.mergeClone = function(t3, r2) {
            b(r2) && (r2 = r2.toObject({ transform: false, virtuals: false, depopulate: true, getters: false, flattenDecimals: false }));
            for (var n2, o2 = Object.keys(r2), i2 = o2.length, s2 = 0; s2 < i2; )
              if (n2 = o2[s2++], !O.has(n2))
                if (void 0 === t3[n2])
                  t3[n2] = e.clone(r2[n2], { transform: false, virtuals: false, depopulate: true, getters: false, flattenDecimals: false });
                else {
                  var a2 = r2[n2];
                  if (null == a2 || !a2.valueOf || a2 instanceof Date || (a2 = a2.valueOf()), e.isObject(a2)) {
                    var u2 = a2;
                    b(a2) && !a2.isMongooseBuffer && (u2 = u2.toObject({ transform: false, virtuals: false, depopulate: true, getters: false, flattenDecimals: false })), a2.isMongooseBuffer && (u2 = l.from(u2)), e.mergeClone(t3[n2], u2);
                  } else
                    t3[n2] = e.clone(a2, { flattenDecimals: false });
                }
          }, e.each = function(t3, e2) {
            var r2, o2 = n(t3);
            try {
              for (o2.s(); !(r2 = o2.n()).done; ) {
                e2(r2.value);
              }
            } catch (t4) {
              o2.e(t4);
            } finally {
              o2.f();
            }
          }, e.getOption = function(t3) {
            var e2, r2 = Array.prototype.slice.call(arguments, 1), o2 = n(r2);
            try {
              for (o2.s(); !(e2 = o2.n()).done; ) {
                var i2 = e2.value;
                if (null != i2[t3])
                  return i2[t3];
              }
            } catch (t4) {
              o2.e(t4);
            } finally {
              o2.f();
            }
            return null;
          }, e.noop = function() {
          }, e.errorToPOJO = function(t3) {
            if (!(t3 instanceof Error))
              throw new Error("`error` must be `instanceof Error`.");
            var e2, r2 = {}, o2 = n(Object.getOwnPropertyNames(t3));
            try {
              for (o2.s(); !(e2 = o2.n()).done; ) {
                var i2 = e2.value;
                r2[i2] = t3[i2];
              }
            } catch (t4) {
              o2.e(t4);
            } finally {
              o2.f();
            }
            return r2;
          }, e.nodeMajorVersion = parseInt(t2.versions.node.split(".")[0], 10);
        }).call(this, r(10));
      }, function(t, e, r) {
        "use strict";
        (function(t2) {
          var n = r(98), o = r(99), i = r(100);
          function s() {
            return u.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
          }
          function a(t3, e2) {
            if (s() < e2)
              throw new RangeError("Invalid typed array length");
            return u.TYPED_ARRAY_SUPPORT ? (t3 = new Uint8Array(e2)).__proto__ = u.prototype : (null === t3 && (t3 = new u(e2)), t3.length = e2), t3;
          }
          function u(t3, e2, r2) {
            if (!(u.TYPED_ARRAY_SUPPORT || this instanceof u))
              return new u(t3, e2, r2);
            if ("number" == typeof t3) {
              if ("string" == typeof e2)
                throw new Error("If encoding is specified then the first argument must be a string");
              return f(this, t3);
            }
            return c(this, t3, e2, r2);
          }
          function c(t3, e2, r2, n2) {
            if ("number" == typeof e2)
              throw new TypeError('"value" argument must not be a number');
            return "undefined" != typeof ArrayBuffer && e2 instanceof ArrayBuffer ? function(t4, e3, r3, n3) {
              if (e3.byteLength, r3 < 0 || e3.byteLength < r3)
                throw new RangeError("'offset' is out of bounds");
              if (e3.byteLength < r3 + (n3 || 0))
                throw new RangeError("'length' is out of bounds");
              e3 = void 0 === r3 && void 0 === n3 ? new Uint8Array(e3) : void 0 === n3 ? new Uint8Array(e3, r3) : new Uint8Array(e3, r3, n3);
              u.TYPED_ARRAY_SUPPORT ? (t4 = e3).__proto__ = u.prototype : t4 = p(t4, e3);
              return t4;
            }(t3, e2, r2, n2) : "string" == typeof e2 ? function(t4, e3, r3) {
              "string" == typeof r3 && "" !== r3 || (r3 = "utf8");
              if (!u.isEncoding(r3))
                throw new TypeError('"encoding" must be a valid string encoding');
              var n3 = 0 | y(e3, r3), o2 = (t4 = a(t4, n3)).write(e3, r3);
              o2 !== n3 && (t4 = t4.slice(0, o2));
              return t4;
            }(t3, e2, r2) : function(t4, e3) {
              if (u.isBuffer(e3)) {
                var r3 = 0 | h(e3.length);
                return 0 === (t4 = a(t4, r3)).length || e3.copy(t4, 0, 0, r3), t4;
              }
              if (e3) {
                if ("undefined" != typeof ArrayBuffer && e3.buffer instanceof ArrayBuffer || "length" in e3)
                  return "number" != typeof e3.length || (n3 = e3.length) != n3 ? a(t4, 0) : p(t4, e3);
                if ("Buffer" === e3.type && i(e3.data))
                  return p(t4, e3.data);
              }
              var n3;
              throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
            }(t3, e2);
          }
          function l(t3) {
            if ("number" != typeof t3)
              throw new TypeError('"size" argument must be a number');
            if (t3 < 0)
              throw new RangeError('"size" argument must not be negative');
          }
          function f(t3, e2) {
            if (l(e2), t3 = a(t3, e2 < 0 ? 0 : 0 | h(e2)), !u.TYPED_ARRAY_SUPPORT)
              for (var r2 = 0; r2 < e2; ++r2)
                t3[r2] = 0;
            return t3;
          }
          function p(t3, e2) {
            var r2 = e2.length < 0 ? 0 : 0 | h(e2.length);
            t3 = a(t3, r2);
            for (var n2 = 0; n2 < r2; n2 += 1)
              t3[n2] = 255 & e2[n2];
            return t3;
          }
          function h(t3) {
            if (t3 >= s())
              throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + s().toString(16) + " bytes");
            return 0 | t3;
          }
          function y(t3, e2) {
            if (u.isBuffer(t3))
              return t3.length;
            if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(t3) || t3 instanceof ArrayBuffer))
              return t3.byteLength;
            "string" != typeof t3 && (t3 = "" + t3);
            var r2 = t3.length;
            if (0 === r2)
              return 0;
            for (var n2 = false; ; )
              switch (e2) {
                case "ascii":
                case "latin1":
                case "binary":
                  return r2;
                case "utf8":
                case "utf-8":
                case void 0:
                  return L(t3).length;
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return 2 * r2;
                case "hex":
                  return r2 >>> 1;
                case "base64":
                  return U(t3).length;
                default:
                  if (n2)
                    return L(t3).length;
                  e2 = ("" + e2).toLowerCase(), n2 = true;
              }
          }
          function d(t3, e2, r2) {
            var n2 = false;
            if ((void 0 === e2 || e2 < 0) && (e2 = 0), e2 > this.length)
              return "";
            if ((void 0 === r2 || r2 > this.length) && (r2 = this.length), r2 <= 0)
              return "";
            if ((r2 >>>= 0) <= (e2 >>>= 0))
              return "";
            for (t3 || (t3 = "utf8"); ; )
              switch (t3) {
                case "hex":
                  return x(this, e2, r2);
                case "utf8":
                case "utf-8":
                  return $(this, e2, r2);
                case "ascii":
                  return E(this, e2, r2);
                case "latin1":
                case "binary":
                  return P(this, e2, r2);
                case "base64":
                  return A(this, e2, r2);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return T(this, e2, r2);
                default:
                  if (n2)
                    throw new TypeError("Unknown encoding: " + t3);
                  t3 = (t3 + "").toLowerCase(), n2 = true;
              }
          }
          function _(t3, e2, r2) {
            var n2 = t3[e2];
            t3[e2] = t3[r2], t3[r2] = n2;
          }
          function v(t3, e2, r2, n2, o2) {
            if (0 === t3.length)
              return -1;
            if ("string" == typeof r2 ? (n2 = r2, r2 = 0) : r2 > 2147483647 ? r2 = 2147483647 : r2 < -2147483648 && (r2 = -2147483648), r2 = +r2, isNaN(r2) && (r2 = o2 ? 0 : t3.length - 1), r2 < 0 && (r2 = t3.length + r2), r2 >= t3.length) {
              if (o2)
                return -1;
              r2 = t3.length - 1;
            } else if (r2 < 0) {
              if (!o2)
                return -1;
              r2 = 0;
            }
            if ("string" == typeof e2 && (e2 = u.from(e2, n2)), u.isBuffer(e2))
              return 0 === e2.length ? -1 : m(t3, e2, r2, n2, o2);
            if ("number" == typeof e2)
              return e2 &= 255, u.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? o2 ? Uint8Array.prototype.indexOf.call(t3, e2, r2) : Uint8Array.prototype.lastIndexOf.call(t3, e2, r2) : m(t3, [e2], r2, n2, o2);
            throw new TypeError("val must be string, number or Buffer");
          }
          function m(t3, e2, r2, n2, o2) {
            var i2, s2 = 1, a2 = t3.length, u2 = e2.length;
            if (void 0 !== n2 && ("ucs2" === (n2 = String(n2).toLowerCase()) || "ucs-2" === n2 || "utf16le" === n2 || "utf-16le" === n2)) {
              if (t3.length < 2 || e2.length < 2)
                return -1;
              s2 = 2, a2 /= 2, u2 /= 2, r2 /= 2;
            }
            function c2(t4, e3) {
              return 1 === s2 ? t4[e3] : t4.readUInt16BE(e3 * s2);
            }
            if (o2) {
              var l2 = -1;
              for (i2 = r2; i2 < a2; i2++)
                if (c2(t3, i2) === c2(e2, -1 === l2 ? 0 : i2 - l2)) {
                  if (-1 === l2 && (l2 = i2), i2 - l2 + 1 === u2)
                    return l2 * s2;
                } else
                  -1 !== l2 && (i2 -= i2 - l2), l2 = -1;
            } else
              for (r2 + u2 > a2 && (r2 = a2 - u2), i2 = r2; i2 >= 0; i2--) {
                for (var f2 = true, p2 = 0; p2 < u2; p2++)
                  if (c2(t3, i2 + p2) !== c2(e2, p2)) {
                    f2 = false;
                    break;
                  }
                if (f2)
                  return i2;
              }
            return -1;
          }
          function b(t3, e2, r2, n2) {
            r2 = Number(r2) || 0;
            var o2 = t3.length - r2;
            n2 ? (n2 = Number(n2)) > o2 && (n2 = o2) : n2 = o2;
            var i2 = e2.length;
            if (i2 % 2 != 0)
              throw new TypeError("Invalid hex string");
            n2 > i2 / 2 && (n2 = i2 / 2);
            for (var s2 = 0; s2 < n2; ++s2) {
              var a2 = parseInt(e2.substr(2 * s2, 2), 16);
              if (isNaN(a2))
                return s2;
              t3[r2 + s2] = a2;
            }
            return s2;
          }
          function g(t3, e2, r2, n2) {
            return V(L(e2, t3.length - r2), t3, r2, n2);
          }
          function w(t3, e2, r2, n2) {
            return V(function(t4) {
              for (var e3 = [], r3 = 0; r3 < t4.length; ++r3)
                e3.push(255 & t4.charCodeAt(r3));
              return e3;
            }(e2), t3, r2, n2);
          }
          function O(t3, e2, r2, n2) {
            return w(t3, e2, r2, n2);
          }
          function S(t3, e2, r2, n2) {
            return V(U(e2), t3, r2, n2);
          }
          function j(t3, e2, r2, n2) {
            return V(function(t4, e3) {
              for (var r3, n3, o2, i2 = [], s2 = 0; s2 < t4.length && !((e3 -= 2) < 0); ++s2)
                r3 = t4.charCodeAt(s2), n3 = r3 >> 8, o2 = r3 % 256, i2.push(o2), i2.push(n3);
              return i2;
            }(e2, t3.length - r2), t3, r2, n2);
          }
          function A(t3, e2, r2) {
            return 0 === e2 && r2 === t3.length ? n.fromByteArray(t3) : n.fromByteArray(t3.slice(e2, r2));
          }
          function $(t3, e2, r2) {
            r2 = Math.min(t3.length, r2);
            for (var n2 = [], o2 = e2; o2 < r2; ) {
              var i2, s2, a2, u2, c2 = t3[o2], l2 = null, f2 = c2 > 239 ? 4 : c2 > 223 ? 3 : c2 > 191 ? 2 : 1;
              if (o2 + f2 <= r2)
                switch (f2) {
                  case 1:
                    c2 < 128 && (l2 = c2);
                    break;
                  case 2:
                    128 == (192 & (i2 = t3[o2 + 1])) && (u2 = (31 & c2) << 6 | 63 & i2) > 127 && (l2 = u2);
                    break;
                  case 3:
                    i2 = t3[o2 + 1], s2 = t3[o2 + 2], 128 == (192 & i2) && 128 == (192 & s2) && (u2 = (15 & c2) << 12 | (63 & i2) << 6 | 63 & s2) > 2047 && (u2 < 55296 || u2 > 57343) && (l2 = u2);
                    break;
                  case 4:
                    i2 = t3[o2 + 1], s2 = t3[o2 + 2], a2 = t3[o2 + 3], 128 == (192 & i2) && 128 == (192 & s2) && 128 == (192 & a2) && (u2 = (15 & c2) << 18 | (63 & i2) << 12 | (63 & s2) << 6 | 63 & a2) > 65535 && u2 < 1114112 && (l2 = u2);
                }
              null === l2 ? (l2 = 65533, f2 = 1) : l2 > 65535 && (l2 -= 65536, n2.push(l2 >>> 10 & 1023 | 55296), l2 = 56320 | 1023 & l2), n2.push(l2), o2 += f2;
            }
            return function(t4) {
              var e3 = t4.length;
              if (e3 <= 4096)
                return String.fromCharCode.apply(String, t4);
              var r3 = "", n3 = 0;
              for (; n3 < e3; )
                r3 += String.fromCharCode.apply(String, t4.slice(n3, n3 += 4096));
              return r3;
            }(n2);
          }
          e.Buffer = u, e.SlowBuffer = function(t3) {
            +t3 != t3 && (t3 = 0);
            return u.alloc(+t3);
          }, e.INSPECT_MAX_BYTES = 50, u.TYPED_ARRAY_SUPPORT = void 0 !== t2.TYPED_ARRAY_SUPPORT ? t2.TYPED_ARRAY_SUPPORT : function() {
            try {
              var t3 = new Uint8Array(1);
              return t3.__proto__ = { __proto__: Uint8Array.prototype, foo: function() {
                return 42;
              } }, 42 === t3.foo() && "function" == typeof t3.subarray && 0 === t3.subarray(1, 1).byteLength;
            } catch (t4) {
              return false;
            }
          }(), e.kMaxLength = s(), u.poolSize = 8192, u._augment = function(t3) {
            return t3.__proto__ = u.prototype, t3;
          }, u.from = function(t3, e2, r2) {
            return c(null, t3, e2, r2);
          }, u.TYPED_ARRAY_SUPPORT && (u.prototype.__proto__ = Uint8Array.prototype, u.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && u[Symbol.species] === u && Object.defineProperty(u, Symbol.species, { value: null, configurable: true })), u.alloc = function(t3, e2, r2) {
            return function(t4, e3, r3, n2) {
              return l(e3), e3 <= 0 ? a(t4, e3) : void 0 !== r3 ? "string" == typeof n2 ? a(t4, e3).fill(r3, n2) : a(t4, e3).fill(r3) : a(t4, e3);
            }(null, t3, e2, r2);
          }, u.allocUnsafe = function(t3) {
            return f(null, t3);
          }, u.allocUnsafeSlow = function(t3) {
            return f(null, t3);
          }, u.isBuffer = function(t3) {
            return !(null == t3 || !t3._isBuffer);
          }, u.compare = function(t3, e2) {
            if (!u.isBuffer(t3) || !u.isBuffer(e2))
              throw new TypeError("Arguments must be Buffers");
            if (t3 === e2)
              return 0;
            for (var r2 = t3.length, n2 = e2.length, o2 = 0, i2 = Math.min(r2, n2); o2 < i2; ++o2)
              if (t3[o2] !== e2[o2]) {
                r2 = t3[o2], n2 = e2[o2];
                break;
              }
            return r2 < n2 ? -1 : n2 < r2 ? 1 : 0;
          }, u.isEncoding = function(t3) {
            switch (String(t3).toLowerCase()) {
              case "hex":
              case "utf8":
              case "utf-8":
              case "ascii":
              case "latin1":
              case "binary":
              case "base64":
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return true;
              default:
                return false;
            }
          }, u.concat = function(t3, e2) {
            if (!i(t3))
              throw new TypeError('"list" argument must be an Array of Buffers');
            if (0 === t3.length)
              return u.alloc(0);
            var r2;
            if (void 0 === e2)
              for (e2 = 0, r2 = 0; r2 < t3.length; ++r2)
                e2 += t3[r2].length;
            var n2 = u.allocUnsafe(e2), o2 = 0;
            for (r2 = 0; r2 < t3.length; ++r2) {
              var s2 = t3[r2];
              if (!u.isBuffer(s2))
                throw new TypeError('"list" argument must be an Array of Buffers');
              s2.copy(n2, o2), o2 += s2.length;
            }
            return n2;
          }, u.byteLength = y, u.prototype._isBuffer = true, u.prototype.swap16 = function() {
            var t3 = this.length;
            if (t3 % 2 != 0)
              throw new RangeError("Buffer size must be a multiple of 16-bits");
            for (var e2 = 0; e2 < t3; e2 += 2)
              _(this, e2, e2 + 1);
            return this;
          }, u.prototype.swap32 = function() {
            var t3 = this.length;
            if (t3 % 4 != 0)
              throw new RangeError("Buffer size must be a multiple of 32-bits");
            for (var e2 = 0; e2 < t3; e2 += 4)
              _(this, e2, e2 + 3), _(this, e2 + 1, e2 + 2);
            return this;
          }, u.prototype.swap64 = function() {
            var t3 = this.length;
            if (t3 % 8 != 0)
              throw new RangeError("Buffer size must be a multiple of 64-bits");
            for (var e2 = 0; e2 < t3; e2 += 8)
              _(this, e2, e2 + 7), _(this, e2 + 1, e2 + 6), _(this, e2 + 2, e2 + 5), _(this, e2 + 3, e2 + 4);
            return this;
          }, u.prototype.toString = function() {
            var t3 = 0 | this.length;
            return 0 === t3 ? "" : 0 === arguments.length ? $(this, 0, t3) : d.apply(this, arguments);
          }, u.prototype.equals = function(t3) {
            if (!u.isBuffer(t3))
              throw new TypeError("Argument must be a Buffer");
            return this === t3 || 0 === u.compare(this, t3);
          }, u.prototype.inspect = function() {
            var t3 = "", r2 = e.INSPECT_MAX_BYTES;
            return this.length > 0 && (t3 = this.toString("hex", 0, r2).match(/.{2}/g).join(" "), this.length > r2 && (t3 += " ... ")), "<Buffer " + t3 + ">";
          }, u.prototype.compare = function(t3, e2, r2, n2, o2) {
            if (!u.isBuffer(t3))
              throw new TypeError("Argument must be a Buffer");
            if (void 0 === e2 && (e2 = 0), void 0 === r2 && (r2 = t3 ? t3.length : 0), void 0 === n2 && (n2 = 0), void 0 === o2 && (o2 = this.length), e2 < 0 || r2 > t3.length || n2 < 0 || o2 > this.length)
              throw new RangeError("out of range index");
            if (n2 >= o2 && e2 >= r2)
              return 0;
            if (n2 >= o2)
              return -1;
            if (e2 >= r2)
              return 1;
            if (this === t3)
              return 0;
            for (var i2 = (o2 >>>= 0) - (n2 >>>= 0), s2 = (r2 >>>= 0) - (e2 >>>= 0), a2 = Math.min(i2, s2), c2 = this.slice(n2, o2), l2 = t3.slice(e2, r2), f2 = 0; f2 < a2; ++f2)
              if (c2[f2] !== l2[f2]) {
                i2 = c2[f2], s2 = l2[f2];
                break;
              }
            return i2 < s2 ? -1 : s2 < i2 ? 1 : 0;
          }, u.prototype.includes = function(t3, e2, r2) {
            return -1 !== this.indexOf(t3, e2, r2);
          }, u.prototype.indexOf = function(t3, e2, r2) {
            return v(this, t3, e2, r2, true);
          }, u.prototype.lastIndexOf = function(t3, e2, r2) {
            return v(this, t3, e2, r2, false);
          }, u.prototype.write = function(t3, e2, r2, n2) {
            if (void 0 === e2)
              n2 = "utf8", r2 = this.length, e2 = 0;
            else if (void 0 === r2 && "string" == typeof e2)
              n2 = e2, r2 = this.length, e2 = 0;
            else {
              if (!isFinite(e2))
                throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
              e2 |= 0, isFinite(r2) ? (r2 |= 0, void 0 === n2 && (n2 = "utf8")) : (n2 = r2, r2 = void 0);
            }
            var o2 = this.length - e2;
            if ((void 0 === r2 || r2 > o2) && (r2 = o2), t3.length > 0 && (r2 < 0 || e2 < 0) || e2 > this.length)
              throw new RangeError("Attempt to write outside buffer bounds");
            n2 || (n2 = "utf8");
            for (var i2 = false; ; )
              switch (n2) {
                case "hex":
                  return b(this, t3, e2, r2);
                case "utf8":
                case "utf-8":
                  return g(this, t3, e2, r2);
                case "ascii":
                  return w(this, t3, e2, r2);
                case "latin1":
                case "binary":
                  return O(this, t3, e2, r2);
                case "base64":
                  return S(this, t3, e2, r2);
                case "ucs2":
                case "ucs-2":
                case "utf16le":
                case "utf-16le":
                  return j(this, t3, e2, r2);
                default:
                  if (i2)
                    throw new TypeError("Unknown encoding: " + n2);
                  n2 = ("" + n2).toLowerCase(), i2 = true;
              }
          }, u.prototype.toJSON = function() {
            return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
          };
          function E(t3, e2, r2) {
            var n2 = "";
            r2 = Math.min(t3.length, r2);
            for (var o2 = e2; o2 < r2; ++o2)
              n2 += String.fromCharCode(127 & t3[o2]);
            return n2;
          }
          function P(t3, e2, r2) {
            var n2 = "";
            r2 = Math.min(t3.length, r2);
            for (var o2 = e2; o2 < r2; ++o2)
              n2 += String.fromCharCode(t3[o2]);
            return n2;
          }
          function x(t3, e2, r2) {
            var n2 = t3.length;
            (!e2 || e2 < 0) && (e2 = 0), (!r2 || r2 < 0 || r2 > n2) && (r2 = n2);
            for (var o2 = "", i2 = e2; i2 < r2; ++i2)
              o2 += F(t3[i2]);
            return o2;
          }
          function T(t3, e2, r2) {
            for (var n2 = t3.slice(e2, r2), o2 = "", i2 = 0; i2 < n2.length; i2 += 2)
              o2 += String.fromCharCode(n2[i2] + 256 * n2[i2 + 1]);
            return o2;
          }
          function k(t3, e2, r2) {
            if (t3 % 1 != 0 || t3 < 0)
              throw new RangeError("offset is not uint");
            if (t3 + e2 > r2)
              throw new RangeError("Trying to access beyond buffer length");
          }
          function N(t3, e2, r2, n2, o2, i2) {
            if (!u.isBuffer(t3))
              throw new TypeError('"buffer" argument must be a Buffer instance');
            if (e2 > o2 || e2 < i2)
              throw new RangeError('"value" argument is out of bounds');
            if (r2 + n2 > t3.length)
              throw new RangeError("Index out of range");
          }
          function B(t3, e2, r2, n2) {
            e2 < 0 && (e2 = 65535 + e2 + 1);
            for (var o2 = 0, i2 = Math.min(t3.length - r2, 2); o2 < i2; ++o2)
              t3[r2 + o2] = (e2 & 255 << 8 * (n2 ? o2 : 1 - o2)) >>> 8 * (n2 ? o2 : 1 - o2);
          }
          function C(t3, e2, r2, n2) {
            e2 < 0 && (e2 = 4294967295 + e2 + 1);
            for (var o2 = 0, i2 = Math.min(t3.length - r2, 4); o2 < i2; ++o2)
              t3[r2 + o2] = e2 >>> 8 * (n2 ? o2 : 3 - o2) & 255;
          }
          function R(t3, e2, r2, n2, o2, i2) {
            if (r2 + n2 > t3.length)
              throw new RangeError("Index out of range");
            if (r2 < 0)
              throw new RangeError("Index out of range");
          }
          function D(t3, e2, r2, n2, i2) {
            return i2 || R(t3, 0, r2, 4), o.write(t3, e2, r2, n2, 23, 4), r2 + 4;
          }
          function M(t3, e2, r2, n2, i2) {
            return i2 || R(t3, 0, r2, 8), o.write(t3, e2, r2, n2, 52, 8), r2 + 8;
          }
          u.prototype.slice = function(t3, e2) {
            var r2, n2 = this.length;
            if ((t3 = ~~t3) < 0 ? (t3 += n2) < 0 && (t3 = 0) : t3 > n2 && (t3 = n2), (e2 = void 0 === e2 ? n2 : ~~e2) < 0 ? (e2 += n2) < 0 && (e2 = 0) : e2 > n2 && (e2 = n2), e2 < t3 && (e2 = t3), u.TYPED_ARRAY_SUPPORT)
              (r2 = this.subarray(t3, e2)).__proto__ = u.prototype;
            else {
              var o2 = e2 - t3;
              r2 = new u(o2, void 0);
              for (var i2 = 0; i2 < o2; ++i2)
                r2[i2] = this[i2 + t3];
            }
            return r2;
          }, u.prototype.readUIntLE = function(t3, e2, r2) {
            t3 |= 0, e2 |= 0, r2 || k(t3, e2, this.length);
            for (var n2 = this[t3], o2 = 1, i2 = 0; ++i2 < e2 && (o2 *= 256); )
              n2 += this[t3 + i2] * o2;
            return n2;
          }, u.prototype.readUIntBE = function(t3, e2, r2) {
            t3 |= 0, e2 |= 0, r2 || k(t3, e2, this.length);
            for (var n2 = this[t3 + --e2], o2 = 1; e2 > 0 && (o2 *= 256); )
              n2 += this[t3 + --e2] * o2;
            return n2;
          }, u.prototype.readUInt8 = function(t3, e2) {
            return e2 || k(t3, 1, this.length), this[t3];
          }, u.prototype.readUInt16LE = function(t3, e2) {
            return e2 || k(t3, 2, this.length), this[t3] | this[t3 + 1] << 8;
          }, u.prototype.readUInt16BE = function(t3, e2) {
            return e2 || k(t3, 2, this.length), this[t3] << 8 | this[t3 + 1];
          }, u.prototype.readUInt32LE = function(t3, e2) {
            return e2 || k(t3, 4, this.length), (this[t3] | this[t3 + 1] << 8 | this[t3 + 2] << 16) + 16777216 * this[t3 + 3];
          }, u.prototype.readUInt32BE = function(t3, e2) {
            return e2 || k(t3, 4, this.length), 16777216 * this[t3] + (this[t3 + 1] << 16 | this[t3 + 2] << 8 | this[t3 + 3]);
          }, u.prototype.readIntLE = function(t3, e2, r2) {
            t3 |= 0, e2 |= 0, r2 || k(t3, e2, this.length);
            for (var n2 = this[t3], o2 = 1, i2 = 0; ++i2 < e2 && (o2 *= 256); )
              n2 += this[t3 + i2] * o2;
            return n2 >= (o2 *= 128) && (n2 -= Math.pow(2, 8 * e2)), n2;
          }, u.prototype.readIntBE = function(t3, e2, r2) {
            t3 |= 0, e2 |= 0, r2 || k(t3, e2, this.length);
            for (var n2 = e2, o2 = 1, i2 = this[t3 + --n2]; n2 > 0 && (o2 *= 256); )
              i2 += this[t3 + --n2] * o2;
            return i2 >= (o2 *= 128) && (i2 -= Math.pow(2, 8 * e2)), i2;
          }, u.prototype.readInt8 = function(t3, e2) {
            return e2 || k(t3, 1, this.length), 128 & this[t3] ? -1 * (255 - this[t3] + 1) : this[t3];
          }, u.prototype.readInt16LE = function(t3, e2) {
            e2 || k(t3, 2, this.length);
            var r2 = this[t3] | this[t3 + 1] << 8;
            return 32768 & r2 ? 4294901760 | r2 : r2;
          }, u.prototype.readInt16BE = function(t3, e2) {
            e2 || k(t3, 2, this.length);
            var r2 = this[t3 + 1] | this[t3] << 8;
            return 32768 & r2 ? 4294901760 | r2 : r2;
          }, u.prototype.readInt32LE = function(t3, e2) {
            return e2 || k(t3, 4, this.length), this[t3] | this[t3 + 1] << 8 | this[t3 + 2] << 16 | this[t3 + 3] << 24;
          }, u.prototype.readInt32BE = function(t3, e2) {
            return e2 || k(t3, 4, this.length), this[t3] << 24 | this[t3 + 1] << 16 | this[t3 + 2] << 8 | this[t3 + 3];
          }, u.prototype.readFloatLE = function(t3, e2) {
            return e2 || k(t3, 4, this.length), o.read(this, t3, true, 23, 4);
          }, u.prototype.readFloatBE = function(t3, e2) {
            return e2 || k(t3, 4, this.length), o.read(this, t3, false, 23, 4);
          }, u.prototype.readDoubleLE = function(t3, e2) {
            return e2 || k(t3, 8, this.length), o.read(this, t3, true, 52, 8);
          }, u.prototype.readDoubleBE = function(t3, e2) {
            return e2 || k(t3, 8, this.length), o.read(this, t3, false, 52, 8);
          }, u.prototype.writeUIntLE = function(t3, e2, r2, n2) {
            (t3 = +t3, e2 |= 0, r2 |= 0, n2) || N(this, t3, e2, r2, Math.pow(2, 8 * r2) - 1, 0);
            var o2 = 1, i2 = 0;
            for (this[e2] = 255 & t3; ++i2 < r2 && (o2 *= 256); )
              this[e2 + i2] = t3 / o2 & 255;
            return e2 + r2;
          }, u.prototype.writeUIntBE = function(t3, e2, r2, n2) {
            (t3 = +t3, e2 |= 0, r2 |= 0, n2) || N(this, t3, e2, r2, Math.pow(2, 8 * r2) - 1, 0);
            var o2 = r2 - 1, i2 = 1;
            for (this[e2 + o2] = 255 & t3; --o2 >= 0 && (i2 *= 256); )
              this[e2 + o2] = t3 / i2 & 255;
            return e2 + r2;
          }, u.prototype.writeUInt8 = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 1, 255, 0), u.TYPED_ARRAY_SUPPORT || (t3 = Math.floor(t3)), this[e2] = 255 & t3, e2 + 1;
          }, u.prototype.writeUInt16LE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 2, 65535, 0), u.TYPED_ARRAY_SUPPORT ? (this[e2] = 255 & t3, this[e2 + 1] = t3 >>> 8) : B(this, t3, e2, true), e2 + 2;
          }, u.prototype.writeUInt16BE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 2, 65535, 0), u.TYPED_ARRAY_SUPPORT ? (this[e2] = t3 >>> 8, this[e2 + 1] = 255 & t3) : B(this, t3, e2, false), e2 + 2;
          }, u.prototype.writeUInt32LE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 4, 4294967295, 0), u.TYPED_ARRAY_SUPPORT ? (this[e2 + 3] = t3 >>> 24, this[e2 + 2] = t3 >>> 16, this[e2 + 1] = t3 >>> 8, this[e2] = 255 & t3) : C(this, t3, e2, true), e2 + 4;
          }, u.prototype.writeUInt32BE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 4, 4294967295, 0), u.TYPED_ARRAY_SUPPORT ? (this[e2] = t3 >>> 24, this[e2 + 1] = t3 >>> 16, this[e2 + 2] = t3 >>> 8, this[e2 + 3] = 255 & t3) : C(this, t3, e2, false), e2 + 4;
          }, u.prototype.writeIntLE = function(t3, e2, r2, n2) {
            if (t3 = +t3, e2 |= 0, !n2) {
              var o2 = Math.pow(2, 8 * r2 - 1);
              N(this, t3, e2, r2, o2 - 1, -o2);
            }
            var i2 = 0, s2 = 1, a2 = 0;
            for (this[e2] = 255 & t3; ++i2 < r2 && (s2 *= 256); )
              t3 < 0 && 0 === a2 && 0 !== this[e2 + i2 - 1] && (a2 = 1), this[e2 + i2] = (t3 / s2 >> 0) - a2 & 255;
            return e2 + r2;
          }, u.prototype.writeIntBE = function(t3, e2, r2, n2) {
            if (t3 = +t3, e2 |= 0, !n2) {
              var o2 = Math.pow(2, 8 * r2 - 1);
              N(this, t3, e2, r2, o2 - 1, -o2);
            }
            var i2 = r2 - 1, s2 = 1, a2 = 0;
            for (this[e2 + i2] = 255 & t3; --i2 >= 0 && (s2 *= 256); )
              t3 < 0 && 0 === a2 && 0 !== this[e2 + i2 + 1] && (a2 = 1), this[e2 + i2] = (t3 / s2 >> 0) - a2 & 255;
            return e2 + r2;
          }, u.prototype.writeInt8 = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 1, 127, -128), u.TYPED_ARRAY_SUPPORT || (t3 = Math.floor(t3)), t3 < 0 && (t3 = 255 + t3 + 1), this[e2] = 255 & t3, e2 + 1;
          }, u.prototype.writeInt16LE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 2, 32767, -32768), u.TYPED_ARRAY_SUPPORT ? (this[e2] = 255 & t3, this[e2 + 1] = t3 >>> 8) : B(this, t3, e2, true), e2 + 2;
          }, u.prototype.writeInt16BE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 2, 32767, -32768), u.TYPED_ARRAY_SUPPORT ? (this[e2] = t3 >>> 8, this[e2 + 1] = 255 & t3) : B(this, t3, e2, false), e2 + 2;
          }, u.prototype.writeInt32LE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 4, 2147483647, -2147483648), u.TYPED_ARRAY_SUPPORT ? (this[e2] = 255 & t3, this[e2 + 1] = t3 >>> 8, this[e2 + 2] = t3 >>> 16, this[e2 + 3] = t3 >>> 24) : C(this, t3, e2, true), e2 + 4;
          }, u.prototype.writeInt32BE = function(t3, e2, r2) {
            return t3 = +t3, e2 |= 0, r2 || N(this, t3, e2, 4, 2147483647, -2147483648), t3 < 0 && (t3 = 4294967295 + t3 + 1), u.TYPED_ARRAY_SUPPORT ? (this[e2] = t3 >>> 24, this[e2 + 1] = t3 >>> 16, this[e2 + 2] = t3 >>> 8, this[e2 + 3] = 255 & t3) : C(this, t3, e2, false), e2 + 4;
          }, u.prototype.writeFloatLE = function(t3, e2, r2) {
            return D(this, t3, e2, true, r2);
          }, u.prototype.writeFloatBE = function(t3, e2, r2) {
            return D(this, t3, e2, false, r2);
          }, u.prototype.writeDoubleLE = function(t3, e2, r2) {
            return M(this, t3, e2, true, r2);
          }, u.prototype.writeDoubleBE = function(t3, e2, r2) {
            return M(this, t3, e2, false, r2);
          }, u.prototype.copy = function(t3, e2, r2, n2) {
            if (r2 || (r2 = 0), n2 || 0 === n2 || (n2 = this.length), e2 >= t3.length && (e2 = t3.length), e2 || (e2 = 0), n2 > 0 && n2 < r2 && (n2 = r2), n2 === r2)
              return 0;
            if (0 === t3.length || 0 === this.length)
              return 0;
            if (e2 < 0)
              throw new RangeError("targetStart out of bounds");
            if (r2 < 0 || r2 >= this.length)
              throw new RangeError("sourceStart out of bounds");
            if (n2 < 0)
              throw new RangeError("sourceEnd out of bounds");
            n2 > this.length && (n2 = this.length), t3.length - e2 < n2 - r2 && (n2 = t3.length - e2 + r2);
            var o2, i2 = n2 - r2;
            if (this === t3 && r2 < e2 && e2 < n2)
              for (o2 = i2 - 1; o2 >= 0; --o2)
                t3[o2 + e2] = this[o2 + r2];
            else if (i2 < 1e3 || !u.TYPED_ARRAY_SUPPORT)
              for (o2 = 0; o2 < i2; ++o2)
                t3[o2 + e2] = this[o2 + r2];
            else
              Uint8Array.prototype.set.call(t3, this.subarray(r2, r2 + i2), e2);
            return i2;
          }, u.prototype.fill = function(t3, e2, r2, n2) {
            if ("string" == typeof t3) {
              if ("string" == typeof e2 ? (n2 = e2, e2 = 0, r2 = this.length) : "string" == typeof r2 && (n2 = r2, r2 = this.length), 1 === t3.length) {
                var o2 = t3.charCodeAt(0);
                o2 < 256 && (t3 = o2);
              }
              if (void 0 !== n2 && "string" != typeof n2)
                throw new TypeError("encoding must be a string");
              if ("string" == typeof n2 && !u.isEncoding(n2))
                throw new TypeError("Unknown encoding: " + n2);
            } else
              "number" == typeof t3 && (t3 &= 255);
            if (e2 < 0 || this.length < e2 || this.length < r2)
              throw new RangeError("Out of range index");
            if (r2 <= e2)
              return this;
            var i2;
            if (e2 >>>= 0, r2 = void 0 === r2 ? this.length : r2 >>> 0, t3 || (t3 = 0), "number" == typeof t3)
              for (i2 = e2; i2 < r2; ++i2)
                this[i2] = t3;
            else {
              var s2 = u.isBuffer(t3) ? t3 : L(new u(t3, n2).toString()), a2 = s2.length;
              for (i2 = 0; i2 < r2 - e2; ++i2)
                this[i2 + e2] = s2[i2 % a2];
            }
            return this;
          };
          var I = /[^+\/0-9A-Za-z-_]/g;
          function F(t3) {
            return t3 < 16 ? "0" + t3.toString(16) : t3.toString(16);
          }
          function L(t3, e2) {
            var r2;
            e2 = e2 || 1 / 0;
            for (var n2 = t3.length, o2 = null, i2 = [], s2 = 0; s2 < n2; ++s2) {
              if ((r2 = t3.charCodeAt(s2)) > 55295 && r2 < 57344) {
                if (!o2) {
                  if (r2 > 56319) {
                    (e2 -= 3) > -1 && i2.push(239, 191, 189);
                    continue;
                  }
                  if (s2 + 1 === n2) {
                    (e2 -= 3) > -1 && i2.push(239, 191, 189);
                    continue;
                  }
                  o2 = r2;
                  continue;
                }
                if (r2 < 56320) {
                  (e2 -= 3) > -1 && i2.push(239, 191, 189), o2 = r2;
                  continue;
                }
                r2 = 65536 + (o2 - 55296 << 10 | r2 - 56320);
              } else
                o2 && (e2 -= 3) > -1 && i2.push(239, 191, 189);
              if (o2 = null, r2 < 128) {
                if ((e2 -= 1) < 0)
                  break;
                i2.push(r2);
              } else if (r2 < 2048) {
                if ((e2 -= 2) < 0)
                  break;
                i2.push(r2 >> 6 | 192, 63 & r2 | 128);
              } else if (r2 < 65536) {
                if ((e2 -= 3) < 0)
                  break;
                i2.push(r2 >> 12 | 224, r2 >> 6 & 63 | 128, 63 & r2 | 128);
              } else {
                if (!(r2 < 1114112))
                  throw new Error("Invalid code point");
                if ((e2 -= 4) < 0)
                  break;
                i2.push(r2 >> 18 | 240, r2 >> 12 & 63 | 128, r2 >> 6 & 63 | 128, 63 & r2 | 128);
              }
            }
            return i2;
          }
          function U(t3) {
            return n.toByteArray(function(t4) {
              if ((t4 = function(t5) {
                return t5.trim ? t5.trim() : t5.replace(/^\s+|\s+$/g, "");
              }(t4).replace(I, "")).length < 2)
                return "";
              for (; t4.length % 4 != 0; )
                t4 += "=";
              return t4;
            }(t3));
          }
          function V(t3, e2, r2, n2) {
            for (var o2 = 0; o2 < n2 && !(o2 + r2 >= e2.length || o2 >= t3.length); ++o2)
              e2[o2 + r2] = t3[o2];
            return o2;
          }
        }).call(this, r(9));
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s, a = true, u = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a = t3.done, t3;
          }, e: function(t3) {
            u = true, s = t3;
          }, f: function() {
            try {
              a || null == r2.return || r2.return();
            } finally {
              if (u)
                throw s;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        function i(t2, e2) {
          return null == t2 ? t2 : t2 instanceof Map ? t2.get(e2) : t2[e2];
        }
        t.exports = function(t2, e2, r2) {
          var o2, s = false;
          if ("string" == typeof e2) {
            if (-1 === e2.indexOf(".")) {
              var a = i(t2, e2);
              return null == a ? r2 : a;
            }
            o2 = e2.split(".");
          } else if (s = true, 1 === (o2 = e2).length) {
            var u = i(t2, o2[0]);
            return null == u ? r2 : u;
          }
          var c, l = e2, f = t2, p = n(o2);
          try {
            for (p.s(); !(c = p.n()).done; ) {
              var h = c.value;
              if (null == f)
                return r2;
              if (!s && null != f[l])
                return f[l];
              f = i(f, h), s || (l = l.substr(h.length + 1));
            }
          } catch (t3) {
            p.e(t3);
          } finally {
            p.f();
          }
          return null == f ? r2 : f;
        };
      }, function(t, e, r) {
        (function(t2) {
          function n(t3) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
              return typeof t4;
            } : function(t4) {
              return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
            })(t3);
          }
          var o = Object.getOwnPropertyDescriptors || function(t3) {
            for (var e2 = Object.keys(t3), r2 = {}, n2 = 0; n2 < e2.length; n2++)
              r2[e2[n2]] = Object.getOwnPropertyDescriptor(t3, e2[n2]);
            return r2;
          }, i = /%[sdj%]/g;
          e.format = function(t3) {
            if (!m(t3)) {
              for (var e2 = [], r2 = 0; r2 < arguments.length; r2++)
                e2.push(u(arguments[r2]));
              return e2.join(" ");
            }
            r2 = 1;
            for (var n2 = arguments, o2 = n2.length, s2 = String(t3).replace(i, function(t4) {
              if ("%%" === t4)
                return "%";
              if (r2 >= o2)
                return t4;
              switch (t4) {
                case "%s":
                  return String(n2[r2++]);
                case "%d":
                  return Number(n2[r2++]);
                case "%j":
                  try {
                    return JSON.stringify(n2[r2++]);
                  } catch (t5) {
                    return "[Circular]";
                  }
                default:
                  return t4;
              }
            }), a2 = n2[r2]; r2 < o2; a2 = n2[++r2])
              _(a2) || !w(a2) ? s2 += " " + a2 : s2 += " " + u(a2);
            return s2;
          }, e.deprecate = function(r2, n2) {
            if (void 0 !== t2 && true === t2.noDeprecation)
              return r2;
            if (void 0 === t2)
              return function() {
                return e.deprecate(r2, n2).apply(this, arguments);
              };
            var o2 = false;
            return function() {
              if (!o2) {
                if (t2.throwDeprecation)
                  throw new Error(n2);
                t2.traceDeprecation ? console.trace(n2) : console.error(n2), o2 = true;
              }
              return r2.apply(this, arguments);
            };
          };
          var s, a = {};
          function u(t3, r2) {
            var n2 = { seen: [], stylize: l };
            return arguments.length >= 3 && (n2.depth = arguments[2]), arguments.length >= 4 && (n2.colors = arguments[3]), d(r2) ? n2.showHidden = r2 : r2 && e._extend(n2, r2), b(n2.showHidden) && (n2.showHidden = false), b(n2.depth) && (n2.depth = 2), b(n2.colors) && (n2.colors = false), b(n2.customInspect) && (n2.customInspect = true), n2.colors && (n2.stylize = c), f(n2, t3, n2.depth);
          }
          function c(t3, e2) {
            var r2 = u.styles[e2];
            return r2 ? "\x1B[" + u.colors[r2][0] + "m" + t3 + "\x1B[" + u.colors[r2][1] + "m" : t3;
          }
          function l(t3, e2) {
            return t3;
          }
          function f(t3, r2, n2) {
            if (t3.customInspect && r2 && j(r2.inspect) && r2.inspect !== e.inspect && (!r2.constructor || r2.constructor.prototype !== r2)) {
              var o2 = r2.inspect(n2, t3);
              return m(o2) || (o2 = f(t3, o2, n2)), o2;
            }
            var i2 = function(t4, e2) {
              if (b(e2))
                return t4.stylize("undefined", "undefined");
              if (m(e2)) {
                var r3 = "'" + JSON.stringify(e2).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                return t4.stylize(r3, "string");
              }
              if (v(e2))
                return t4.stylize("" + e2, "number");
              if (d(e2))
                return t4.stylize("" + e2, "boolean");
              if (_(e2))
                return t4.stylize("null", "null");
            }(t3, r2);
            if (i2)
              return i2;
            var s2 = Object.keys(r2), a2 = function(t4) {
              var e2 = {};
              return t4.forEach(function(t5, r3) {
                e2[t5] = true;
              }), e2;
            }(s2);
            if (t3.showHidden && (s2 = Object.getOwnPropertyNames(r2)), S(r2) && (s2.indexOf("message") >= 0 || s2.indexOf("description") >= 0))
              return p(r2);
            if (0 === s2.length) {
              if (j(r2)) {
                var u2 = r2.name ? ": " + r2.name : "";
                return t3.stylize("[Function" + u2 + "]", "special");
              }
              if (g(r2))
                return t3.stylize(RegExp.prototype.toString.call(r2), "regexp");
              if (O(r2))
                return t3.stylize(Date.prototype.toString.call(r2), "date");
              if (S(r2))
                return p(r2);
            }
            var c2, l2 = "", w2 = false, A2 = ["{", "}"];
            (y(r2) && (w2 = true, A2 = ["[", "]"]), j(r2)) && (l2 = " [Function" + (r2.name ? ": " + r2.name : "") + "]");
            return g(r2) && (l2 = " " + RegExp.prototype.toString.call(r2)), O(r2) && (l2 = " " + Date.prototype.toUTCString.call(r2)), S(r2) && (l2 = " " + p(r2)), 0 !== s2.length || w2 && 0 != r2.length ? n2 < 0 ? g(r2) ? t3.stylize(RegExp.prototype.toString.call(r2), "regexp") : t3.stylize("[Object]", "special") : (t3.seen.push(r2), c2 = w2 ? function(t4, e2, r3, n3, o3) {
              for (var i3 = [], s3 = 0, a3 = e2.length; s3 < a3; ++s3)
                x(e2, String(s3)) ? i3.push(h(t4, e2, r3, n3, String(s3), true)) : i3.push("");
              return o3.forEach(function(o4) {
                o4.match(/^\d+$/) || i3.push(h(t4, e2, r3, n3, o4, true));
              }), i3;
            }(t3, r2, n2, a2, s2) : s2.map(function(e2) {
              return h(t3, r2, n2, a2, e2, w2);
            }), t3.seen.pop(), function(t4, e2, r3) {
              if (t4.reduce(function(t5, e3) {
                return e3.indexOf("\n") >= 0 && 0, t5 + e3.replace(/\u001b\[\d\d?m/g, "").length + 1;
              }, 0) > 60)
                return r3[0] + ("" === e2 ? "" : e2 + "\n ") + " " + t4.join(",\n  ") + " " + r3[1];
              return r3[0] + e2 + " " + t4.join(", ") + " " + r3[1];
            }(c2, l2, A2)) : A2[0] + l2 + A2[1];
          }
          function p(t3) {
            return "[" + Error.prototype.toString.call(t3) + "]";
          }
          function h(t3, e2, r2, n2, o2, i2) {
            var s2, a2, u2;
            if ((u2 = Object.getOwnPropertyDescriptor(e2, o2) || { value: e2[o2] }).get ? a2 = u2.set ? t3.stylize("[Getter/Setter]", "special") : t3.stylize("[Getter]", "special") : u2.set && (a2 = t3.stylize("[Setter]", "special")), x(n2, o2) || (s2 = "[" + o2 + "]"), a2 || (t3.seen.indexOf(u2.value) < 0 ? (a2 = _(r2) ? f(t3, u2.value, null) : f(t3, u2.value, r2 - 1)).indexOf("\n") > -1 && (a2 = i2 ? a2.split("\n").map(function(t4) {
              return "  " + t4;
            }).join("\n").substr(2) : "\n" + a2.split("\n").map(function(t4) {
              return "   " + t4;
            }).join("\n")) : a2 = t3.stylize("[Circular]", "special")), b(s2)) {
              if (i2 && o2.match(/^\d+$/))
                return a2;
              (s2 = JSON.stringify("" + o2)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (s2 = s2.substr(1, s2.length - 2), s2 = t3.stylize(s2, "name")) : (s2 = s2.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), s2 = t3.stylize(s2, "string"));
            }
            return s2 + ": " + a2;
          }
          function y(t3) {
            return Array.isArray(t3);
          }
          function d(t3) {
            return "boolean" == typeof t3;
          }
          function _(t3) {
            return null === t3;
          }
          function v(t3) {
            return "number" == typeof t3;
          }
          function m(t3) {
            return "string" == typeof t3;
          }
          function b(t3) {
            return void 0 === t3;
          }
          function g(t3) {
            return w(t3) && "[object RegExp]" === A(t3);
          }
          function w(t3) {
            return "object" === n(t3) && null !== t3;
          }
          function O(t3) {
            return w(t3) && "[object Date]" === A(t3);
          }
          function S(t3) {
            return w(t3) && ("[object Error]" === A(t3) || t3 instanceof Error);
          }
          function j(t3) {
            return "function" == typeof t3;
          }
          function A(t3) {
            return Object.prototype.toString.call(t3);
          }
          function $(t3) {
            return t3 < 10 ? "0" + t3.toString(10) : t3.toString(10);
          }
          e.debuglog = function(r2) {
            if (b(s) && (s = t2.env.NODE_DEBUG || ""), r2 = r2.toUpperCase(), !a[r2])
              if (new RegExp("\\b" + r2 + "\\b", "i").test(s)) {
                var n2 = t2.pid;
                a[r2] = function() {
                  var t3 = e.format.apply(e, arguments);
                  console.error("%s %d: %s", r2, n2, t3);
                };
              } else
                a[r2] = function() {
                };
            return a[r2];
          }, e.inspect = u, u.colors = { bold: [1, 22], italic: [3, 23], underline: [4, 24], inverse: [7, 27], white: [37, 39], grey: [90, 39], black: [30, 39], blue: [34, 39], cyan: [36, 39], green: [32, 39], magenta: [35, 39], red: [31, 39], yellow: [33, 39] }, u.styles = { special: "cyan", number: "yellow", boolean: "yellow", undefined: "grey", null: "bold", string: "green", date: "magenta", regexp: "red" }, e.isArray = y, e.isBoolean = d, e.isNull = _, e.isNullOrUndefined = function(t3) {
            return null == t3;
          }, e.isNumber = v, e.isString = m, e.isSymbol = function(t3) {
            return "symbol" === n(t3);
          }, e.isUndefined = b, e.isRegExp = g, e.isObject = w, e.isDate = O, e.isError = S, e.isFunction = j, e.isPrimitive = function(t3) {
            return null === t3 || "boolean" == typeof t3 || "number" == typeof t3 || "string" == typeof t3 || "symbol" === n(t3) || void 0 === t3;
          }, e.isBuffer = r(103);
          var E = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
          function P() {
            var t3 = new Date(), e2 = [$(t3.getHours()), $(t3.getMinutes()), $(t3.getSeconds())].join(":");
            return [t3.getDate(), E[t3.getMonth()], e2].join(" ");
          }
          function x(t3, e2) {
            return Object.prototype.hasOwnProperty.call(t3, e2);
          }
          e.log = function() {
            console.log("%s - %s", P(), e.format.apply(e, arguments));
          }, e.inherits = r(104), e._extend = function(t3, e2) {
            if (!e2 || !w(e2))
              return t3;
            for (var r2 = Object.keys(e2), n2 = r2.length; n2--; )
              t3[r2[n2]] = e2[r2[n2]];
            return t3;
          };
          var T = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;
          function k(t3, e2) {
            if (!t3) {
              var r2 = new Error("Promise was rejected with a falsy value");
              r2.reason = t3, t3 = r2;
            }
            return e2(t3);
          }
          e.promisify = function(t3) {
            if ("function" != typeof t3)
              throw new TypeError('The "original" argument must be of type Function');
            if (T && t3[T]) {
              var e2;
              if ("function" != typeof (e2 = t3[T]))
                throw new TypeError('The "util.promisify.custom" argument must be of type Function');
              return Object.defineProperty(e2, T, { value: e2, enumerable: false, writable: false, configurable: true }), e2;
            }
            function e2() {
              for (var e3, r2, n2 = new Promise(function(t4, n3) {
                e3 = t4, r2 = n3;
              }), o2 = [], i2 = 0; i2 < arguments.length; i2++)
                o2.push(arguments[i2]);
              o2.push(function(t4, n3) {
                t4 ? r2(t4) : e3(n3);
              });
              try {
                t3.apply(this, o2);
              } catch (t4) {
                r2(t4);
              }
              return n2;
            }
            return Object.setPrototypeOf(e2, Object.getPrototypeOf(t3)), T && Object.defineProperty(e2, T, { value: e2, enumerable: false, writable: false, configurable: true }), Object.defineProperties(e2, o(t3));
          }, e.promisify.custom = T, e.callbackify = function(e2) {
            if ("function" != typeof e2)
              throw new TypeError('The "original" argument must be of type Function');
            function r2() {
              for (var r3 = [], n2 = 0; n2 < arguments.length; n2++)
                r3.push(arguments[n2]);
              var o2 = r3.pop();
              if ("function" != typeof o2)
                throw new TypeError("The last argument must be of type Function");
              var i2 = this, s2 = function() {
                return o2.apply(i2, arguments);
              };
              e2.apply(this, r3).then(function(e3) {
                t2.nextTick(s2, null, e3);
              }, function(e3) {
                t2.nextTick(k, e3, s2);
              });
            }
            return Object.setPrototypeOf(r2, Object.getPrototypeOf(e2)), Object.defineProperties(r2, o(e2)), r2;
          };
        }).call(this, r(10));
      }, function(t, e, r) {
        "use strict";
        var n = r(14);
        t.exports = n, n.messages = r(130), n.Messages = n.messages, n.DocumentNotFoundError = r(131), n.CastError = r(13), n.ValidationError = r(33), n.ValidatorError = r(73), n.VersionError = r(132), n.ParallelSaveError = r(133), n.OverwriteModelError = r(134), n.MissingSchemaError = r(135), n.DivergentArrayError = r(136), n.StrictModeError = r(34);
      }, function(t, e, r) {
        "use strict";
        (function(n) {
          function o(t2) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          var i = r(5), s = r(7), a = r(52), u = r(74), c = r(3), l = r(137), f = r(22), p = r(0).schemaTypeSymbol, h = r(4), y = r(1), d = r(0).validatorErrorSymbol, _ = r(0).documentIsModified, v = r(0).populateModelSymbol, m = i.CastError, b = i.ValidatorError;
          function g(t2, e2, r2) {
            this[p] = true, this.path = t2, this.instance = r2, this.validators = [], this.getters = this.constructor.hasOwnProperty("getters") ? this.constructor.getters.slice() : [], this.setters = [], this.splitPath(), e2 = e2 || {};
            for (var n2 = this.constructor.defaultOptions || {}, i2 = 0, a2 = Object.keys(n2); i2 < a2.length; i2++) {
              var u2 = a2[i2];
              n2.hasOwnProperty(u2) && !e2.hasOwnProperty(u2) && (e2[u2] = n2[u2]);
            }
            null == e2.select && delete e2.select;
            var c2 = this.OptionsConstructor || s;
            this.options = new c2(e2), this._index = null, y.hasUserDefinedProperty(this.options, "immutable") && (this.$immutable = this.options.immutable, l(this));
            for (var f2 = 0, h2 = Object.keys(this.options); f2 < h2.length; f2++) {
              var d2 = h2[f2];
              if ("cast" !== d2) {
                if (y.hasUserDefinedProperty(this.options, d2) && "function" == typeof this[d2]) {
                  if ("index" === d2 && this._index) {
                    if (false === e2.index) {
                      var _2 = this._index;
                      if ("object" === o(_2) && null != _2) {
                        if (_2.unique)
                          throw new Error('Path "' + this.path + '" may not have `index` set to false and `unique` set to true');
                        if (_2.sparse)
                          throw new Error('Path "' + this.path + '" may not have `index` set to false and `sparse` set to true');
                      }
                      this._index = false;
                    }
                    continue;
                  }
                  var v2 = e2[d2];
                  if ("default" === d2) {
                    this.default(v2);
                    continue;
                  }
                  var m2 = Array.isArray(v2) ? v2 : [v2];
                  this[d2].apply(this, m2);
                }
              } else
                this.castFunction(this.options[d2]);
            }
            Object.defineProperty(this, "$$context", { enumerable: false, configurable: false, writable: true, value: null });
          }
          g.prototype.OptionsConstructor = s, g.prototype.splitPath = function() {
            return null != this._presplitPath ? this._presplitPath : null != this.path ? (this._presplitPath = -1 === this.path.indexOf(".") ? [this.path] : this.path.split("."), this._presplitPath) : void 0;
          }, g.cast = function(t2) {
            return 0 === arguments.length || (false === t2 && (t2 = function(t3) {
              return t3;
            }), this._cast = t2), this._cast;
          }, g.prototype.castFunction = function(t2) {
            return 0 === arguments.length || (false === t2 && (t2 = this.constructor._defaultCaster || function(t3) {
              return t3;
            }), this._castFunction = t2), this._castFunction;
          }, g.prototype.cast = function() {
            throw new Error("Base SchemaType class does not implement a `cast()` function");
          }, g.set = function(t2, e2) {
            this.hasOwnProperty("defaultOptions") || (this.defaultOptions = Object.assign({}, this.defaultOptions)), this.defaultOptions[t2] = e2;
          }, g.get = function(t2) {
            this.getters = this.hasOwnProperty("getters") ? this.getters : [], this.getters.push(t2);
          }, g.prototype.default = function(t2) {
            if (1 === arguments.length) {
              if (void 0 === t2)
                return void (this.defaultValue = void 0);
              if (null != t2 && t2.instanceOfSchema)
                throw new i("Cannot set default value of path `" + this.path + "` to a mongoose Schema instance.");
              return this.defaultValue = t2, this.defaultValue;
            }
            return arguments.length > 1 && (this.defaultValue = y.args(arguments)), this.defaultValue;
          }, g.prototype.index = function(t2) {
            return this._index = t2, y.expires(this._index), this;
          }, g.prototype.unique = function(t2) {
            if (false === this._index) {
              if (!t2)
                return;
              throw new Error('Path "' + this.path + '" may not have `index` set to false and `unique` set to true');
            }
            return null == this._index || true === this._index ? this._index = {} : "string" == typeof this._index && (this._index = { type: this._index }), this._index.unique = t2, this;
          }, g.prototype.text = function(t2) {
            if (false === this._index) {
              if (!t2)
                return;
              throw new Error('Path "' + this.path + '" may not have `index` set to false and `text` set to true');
            }
            return null === this._index || void 0 === this._index || "boolean" == typeof this._index ? this._index = {} : "string" == typeof this._index && (this._index = { type: this._index }), this._index.text = t2, this;
          }, g.prototype.sparse = function(t2) {
            if (false === this._index) {
              if (!t2)
                return;
              throw new Error('Path "' + this.path + '" may not have `index` set to false and `sparse` set to true');
            }
            return null == this._index || "boolean" == typeof this._index ? this._index = {} : "string" == typeof this._index && (this._index = { type: this._index }), this._index.sparse = t2, this;
          }, g.prototype.immutable = function(t2) {
            return this.$immutable = t2, l(this), this;
          }, g.prototype.transform = function(t2) {
            return this.options.transform = t2, this;
          }, g.prototype.set = function(t2) {
            if ("function" != typeof t2)
              throw new TypeError("A setter must be a function.");
            return this.setters.push(t2), this;
          }, g.prototype.get = function(t2) {
            if ("function" != typeof t2)
              throw new TypeError("A getter must be a function.");
            return this.getters.push(t2), this;
          }, g.prototype.validate = function(t2, e2, r2) {
            var n2, s2, a2, u2;
            if ("function" == typeof t2 || t2 && "RegExp" === y.getFunctionName(t2.constructor))
              return "function" == typeof e2 ? (n2 = { validator: t2, message: e2 }).type = r2 || "user defined" : e2 instanceof Object && !r2 ? ((n2 = y.clone(e2)).message || (n2.message = n2.msg), n2.validator = t2, n2.type = n2.type || "user defined") : (null == e2 && (e2 = i.messages.general.default), r2 || (r2 = "user defined"), n2 = { message: e2, type: r2, validator: t2 }), n2.isAsync && w(), this.validators.push(n2), this;
            for (s2 = 0, a2 = arguments.length; s2 < a2; s2++) {
              if (u2 = arguments[s2], !y.isPOJO(u2)) {
                var c2 = "Invalid validator. Received (" + o(u2) + ") " + u2 + ". See http://mongoosejs.com/docs/api.html#schematype_SchemaType-validate";
                throw new Error(c2);
              }
              this.validate(u2.validator, u2);
            }
            return this;
          };
          var w = h.deprecate(function() {
          }, "Mongoose: the `isAsync` option for custom validators is deprecated. Make your async validators return a promise instead: https://mongoosejs.com/docs/validation.html#async-custom-validators");
          function O(t2) {
            return this.castForQuery(t2);
          }
          function S(t2) {
            var e2 = this;
            return Array.isArray(t2) ? t2.map(function(t3) {
              return Array.isArray(t3) && 0 === t3.length ? t3 : e2.castForQuery(t3);
            }) : [this.castForQuery(t2)];
          }
          g.prototype.required = function(t2, e2) {
            var r2 = {};
            if (arguments.length > 0 && null == t2)
              return this.validators = this.validators.filter(function(t3) {
                return t3.validator !== this.requiredValidator;
              }, this), this.isRequired = false, delete this.originalRequiredValue, this;
            if ("object" === o(t2) && (e2 = (r2 = t2).message || e2, t2 = t2.isRequired), false === t2)
              return this.validators = this.validators.filter(function(t3) {
                return t3.validator !== this.requiredValidator;
              }, this), this.isRequired = false, delete this.originalRequiredValue, this;
            var n2 = this;
            this.isRequired = true, this.requiredValidator = function(e3) {
              var r3 = c(this, "$__.cachedRequired");
              if (null != r3 && !this.$__isSelected(n2.path) && !this[_](n2.path))
                return true;
              if (null != r3 && n2.path in r3) {
                var o2 = !r3[n2.path] || n2.checkRequired(e3, this);
                return delete r3[n2.path], o2;
              }
              return "function" == typeof t2 && !t2.apply(this) || n2.checkRequired(e3, this);
            }, this.originalRequiredValue = t2, "string" == typeof t2 && (e2 = t2, t2 = void 0);
            var s2 = e2 || i.messages.general.required;
            return this.validators.unshift(Object.assign({}, r2, { validator: this.requiredValidator, message: s2, type: "required" })), this;
          }, g.prototype.ref = function(t2) {
            return this.options.ref = t2, this;
          }, g.prototype.getDefault = function(t2, e2) {
            var r2 = "function" == typeof this.defaultValue ? this.defaultValue.call(t2) : this.defaultValue;
            if (null != r2) {
              "object" !== o(r2) || this.options && this.options.shared || (r2 = y.clone(r2));
              var n2 = this.applySetters(r2, t2, e2);
              return n2 && n2.$isSingleNested && (n2.$__parent = t2), n2;
            }
            return r2;
          }, g.prototype._applySetters = function(t2, e2, r2) {
            var n2 = t2;
            if (r2)
              return n2;
            for (var o2 = this.setters, i2 = o2.length - 1; i2 >= 0; i2--)
              n2 = o2[i2].call(e2, n2, this);
            return n2;
          }, g.prototype._castNullish = function(t2) {
            return t2;
          }, g.prototype.applySetters = function(t2, e2, r2, n2, o2) {
            var i2 = this._applySetters(t2, e2, r2, n2, o2);
            return null == i2 ? this._castNullish(i2) : i2 = this.cast(i2, e2, r2, n2, o2);
          }, g.prototype.applyGetters = function(t2, e2) {
            var r2 = t2, n2 = this.getters, o2 = n2.length;
            if (0 === o2)
              return r2;
            for (var i2 = 0; i2 < o2; ++i2)
              r2 = n2[i2].call(e2, r2, this);
            return r2;
          }, g.prototype.select = function(t2) {
            return this.selected = !!t2, this;
          }, g.prototype.doValidate = function(t2, e2, r2, n2) {
            var i2 = false, s2 = this.path, a2 = this.validators.filter(function(t3) {
              return null != t3 && "object" === o(t3);
            }), u2 = a2.length;
            if (!u2)
              return e2(null);
            var c2 = this;
            function l2(t3, r3) {
              if (!i2)
                if (void 0 === t3 || t3)
                  --u2 <= 0 && f(function() {
                    e2(null);
                  });
                else {
                  var n3 = r3.ErrorConstructor || b;
                  (i2 = new n3(r3))[d] = true, f(function() {
                    e2(i2);
                  });
                }
            }
            a2.forEach(function(e3) {
              if (!i2) {
                var o2, a3 = e3.validator, u3 = y.clone(e3);
                if (u3.path = n2 && n2.path ? n2.path : s2, u3.value = t2, a3 instanceof RegExp)
                  l2(a3.test(t2), u3);
                else if ("function" == typeof a3)
                  if (void 0 !== t2 || a3 === c2.requiredValidator)
                    if (u3.isAsync)
                      !function(t3, e4, r3, n3, o3) {
                        var i3 = false, s3 = t3.call(e4, r3, function(t4, e5) {
                          i3 || (i3 = true, e5 && (n3.message = e5), o3(t4, n3));
                        });
                        "boolean" == typeof s3 ? (i3 = true, o3(s3, n3)) : s3 && "function" == typeof s3.then && s3.then(function(t4) {
                          i3 || (i3 = true, o3(t4, n3));
                        }, function(t4) {
                          i3 || (i3 = true, n3.reason = t4, n3.message = t4.message, o3(false, n3));
                        });
                      }(a3, r2, t2, u3, l2);
                    else {
                      try {
                        o2 = u3.propsParameter ? a3.call(r2, t2, u3) : a3.call(r2, t2);
                      } catch (t3) {
                        o2 = false, u3.reason = t3, t3.message && (u3.message = t3.message);
                      }
                      null != o2 && "function" == typeof o2.then ? o2.then(function(t3) {
                        l2(t3, u3);
                      }, function(t3) {
                        u3.reason = t3, u3.message = t3.message, l2(o2 = false, u3);
                      }) : l2(o2, u3);
                    }
                  else
                    l2(true, u3);
              }
            });
          }, g.prototype.doValidateSync = function(t2, e2, r2) {
            var n2 = this.path;
            if (!this.validators.length)
              return null;
            var i2 = this.validators;
            if (void 0 === t2) {
              if (!(this.validators.length > 0 && "required" === this.validators[0].type))
                return null;
              i2 = [this.validators[0]];
            }
            var s2 = null;
            return i2.forEach(function(i3) {
              if (!s2 && null != i3 && "object" === o(i3)) {
                var u2, c2 = i3.validator, l2 = y.clone(i3);
                if (l2.path = r2 && r2.path ? r2.path : n2, l2.value = t2, !c2.isAsync) {
                  if (c2 instanceof RegExp)
                    a2(c2.test(t2), l2);
                  else if ("function" == typeof c2) {
                    try {
                      u2 = l2.propsParameter ? c2.call(e2, t2, l2) : c2.call(e2, t2);
                    } catch (t3) {
                      u2 = false, l2.reason = t3;
                    }
                    null != u2 && "function" == typeof u2.then || a2(u2, l2);
                  }
                }
              }
            }), s2;
            function a2(t3, e3) {
              if (!s2 && void 0 !== t3 && !t3) {
                var r3 = e3.ErrorConstructor || b;
                (s2 = new r3(e3))[d] = true;
              }
            }
          }, g._isRef = function(t2, e2, r2, o2) {
            var i2 = o2 && t2.options && (t2.options.ref || t2.options.refPath);
            if (!i2 && r2 && null != r2.$__) {
              var s2 = r2.$__fullPath(t2.path);
              i2 = (r2.ownerDocument ? r2.ownerDocument() : r2).populated(s2) || r2.populated(t2.path);
            }
            return !!i2 && (null == e2 || (!(n.isBuffer(e2) || "Binary" === e2._bsontype || !y.isObject(e2)) || o2));
          }, g.prototype._castRef = function(t2, e2, r2) {
            if (null == t2)
              return t2;
            if (null != t2.$__)
              return t2.$__.wasPopulated = true, t2;
            if (n.isBuffer(t2) || !y.isObject(t2)) {
              if (r2)
                return t2;
              throw new m(this.instance, t2, this.path, null, this);
            }
            var o2 = e2.$__fullPath(this.path), i2 = (e2.ownerDocument ? e2.ownerDocument() : e2).populated(o2, true), s2 = t2;
            return e2.$__.populated && e2.$__.populated[o2] && e2.$__.populated[o2].options && e2.$__.populated[o2].options.options && e2.$__.populated[o2].options.options.lean || ((s2 = new i2.options[v](t2)).$__.wasPopulated = true), s2;
          }, g.prototype.$conditionalHandlers = { $all: function(t2) {
            var e2 = this;
            return Array.isArray(t2) ? t2.map(function(t3) {
              return e2.castForQuery(t3);
            }) : [this.castForQuery(t2)];
          }, $eq: O, $in: S, $ne: O, $nin: S, $exists: a, $type: u }, g.prototype.castForQueryWrapper = function(t2) {
            if (this.$$context = t2.context, "$conditional" in t2) {
              var e2 = this.castForQuery(t2.$conditional, t2.val);
              return this.$$context = null, e2;
            }
            if (t2.$skipQueryCastForUpdate || t2.$applySetters) {
              var r2 = this._castForQuery(t2.val);
              return this.$$context = null, r2;
            }
            var n2 = this.castForQuery(t2.val);
            return this.$$context = null, n2;
          }, g.prototype.castForQuery = function(t2, e2) {
            var r2;
            if (2 === arguments.length) {
              if (!(r2 = this.$conditionalHandlers[t2]))
                throw new Error("Can't use " + t2);
              return r2.call(this, e2);
            }
            return e2 = t2, this._castForQuery(e2);
          }, g.prototype._castForQuery = function(t2) {
            return this.applySetters(t2, this.$$context);
          }, g.checkRequired = function(t2) {
            return arguments.length > 0 && (this._checkRequired = t2), this._checkRequired;
          }, g.prototype.checkRequired = function(t2) {
            return null != t2;
          }, g.prototype.clone = function() {
            var t2 = Object.assign({}, this.options), e2 = new this.constructor(this.path, t2, this.instance);
            return e2.validators = this.validators.slice(), void 0 !== this.requiredValidator && (e2.requiredValidator = this.requiredValidator), void 0 !== this.defaultValue && (e2.defaultValue = this.defaultValue), void 0 !== this.$immutable && void 0 === this.options.immutable && (e2.$immutable = this.$immutable, l(e2)), void 0 !== this._index && (e2._index = this._index), void 0 !== this.selected && (e2.selected = this.selected), void 0 !== this.isRequired && (e2.isRequired = this.isRequired), void 0 !== this.originalRequiredValue && (e2.originalRequiredValue = this.originalRequiredValue), e2.getters = this.getters.slice(), e2.setters = this.setters.slice(), e2;
          }, t.exports = e = g, e.CastError = m, e.ValidatorError = b;
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function o(t2, e2, r2) {
          return e2 && n(t2.prototype, e2), r2 && n(t2, r2), Object.defineProperty(t2, "prototype", { writable: false }), t2;
        }
        var i = r(26), s = o(function t2(e2) {
          if (function(t3, e3) {
            if (!(t3 instanceof e3))
              throw new TypeError("Cannot call a class as a function");
          }(this, t2), null == e2)
            return this;
          Object.assign(this, i(e2));
        }), a = r(8);
        Object.defineProperty(s.prototype, "type", a), Object.defineProperty(s.prototype, "validate", a), Object.defineProperty(s.prototype, "cast", a), Object.defineProperty(s.prototype, "required", a), Object.defineProperty(s.prototype, "default", a), Object.defineProperty(s.prototype, "ref", a), Object.defineProperty(s.prototype, "select", a), Object.defineProperty(s.prototype, "index", a), Object.defineProperty(s.prototype, "unique", a), Object.defineProperty(s.prototype, "immutable", a), Object.defineProperty(s.prototype, "sparse", a), Object.defineProperty(s.prototype, "text", a), Object.defineProperty(s.prototype, "transform", a), t.exports = s;
      }, function(t, e, r) {
        "use strict";
        t.exports = Object.freeze({ enumerable: true, configurable: true, writable: true, value: void 0 });
      }, function(t, e) {
        function r(t2) {
          return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var n;
        n = function() {
          return this;
        }();
        try {
          n = n || new Function("return this")();
        } catch (t2) {
          "object" === ("undefined" == typeof window ? "undefined" : r(window)) && (n = window);
        }
        t.exports = n;
      }, function(t, e) {
        var r, n, o = t.exports = {};
        function i() {
          throw new Error("setTimeout has not been defined");
        }
        function s() {
          throw new Error("clearTimeout has not been defined");
        }
        function a(t2) {
          if (r === setTimeout)
            return setTimeout(t2, 0);
          if ((r === i || !r) && setTimeout)
            return r = setTimeout, setTimeout(t2, 0);
          try {
            return r(t2, 0);
          } catch (e2) {
            try {
              return r.call(null, t2, 0);
            } catch (e3) {
              return r.call(this, t2, 0);
            }
          }
        }
        !function() {
          try {
            r = "function" == typeof setTimeout ? setTimeout : i;
          } catch (t2) {
            r = i;
          }
          try {
            n = "function" == typeof clearTimeout ? clearTimeout : s;
          } catch (t2) {
            n = s;
          }
        }();
        var u, c = [], l = false, f = -1;
        function p() {
          l && u && (l = false, u.length ? c = u.concat(c) : f = -1, c.length && h());
        }
        function h() {
          if (!l) {
            var t2 = a(p);
            l = true;
            for (var e2 = c.length; e2; ) {
              for (u = c, c = []; ++f < e2; )
                u && u[f].run();
              f = -1, e2 = c.length;
            }
            u = null, l = false, function(t3) {
              if (n === clearTimeout)
                return clearTimeout(t3);
              if ((n === s || !n) && clearTimeout)
                return n = clearTimeout, clearTimeout(t3);
              try {
                n(t3);
              } catch (e3) {
                try {
                  return n.call(null, t3);
                } catch (e4) {
                  return n.call(this, t3);
                }
              }
            }(t2);
          }
        }
        function y(t2, e2) {
          this.fun = t2, this.array = e2;
        }
        function d() {
        }
        o.nextTick = function(t2) {
          var e2 = new Array(arguments.length - 1);
          if (arguments.length > 1)
            for (var r2 = 1; r2 < arguments.length; r2++)
              e2[r2 - 1] = arguments[r2];
          c.push(new y(t2, e2)), 1 !== c.length || l || a(h);
        }, y.prototype.run = function() {
          this.fun.apply(null, this.array);
        }, o.title = "browser", o.browser = true, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = d, o.addListener = d, o.once = d, o.off = d, o.removeListener = d, o.removeAllListeners = d, o.emit = d, o.prependListener = d, o.prependOnceListener = d, o.listeners = function(t2) {
          return [];
        }, o.binding = function(t2) {
          throw new Error("process.binding is not supported");
        }, o.cwd = function() {
          return "/";
        }, o.chdir = function(t2) {
          throw new Error("process.chdir is not supported");
        }, o.umask = function() {
          return 0;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(15).get().ObjectId, o = r(0).objectIdSymbol;
        Object.defineProperty(n.prototype, "_id", { enumerable: false, configurable: true, get: function() {
          return this;
        } }), n.prototype[o] = true, t.exports = n;
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2, e3, r2) {
            return e3 in t2 ? Object.defineProperty(t2, e3, { value: r2, enumerable: true, configurable: true, writable: true }) : t2[e3] = r2, t2;
          }
          function o(t2, e3) {
            var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
            if (!r2) {
              if (Array.isArray(t2) || (r2 = function(t3, e4) {
                if (!t3)
                  return;
                if ("string" == typeof t3)
                  return i(t3, e4);
                var r3 = Object.prototype.toString.call(t3).slice(8, -1);
                "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
                if ("Map" === r3 || "Set" === r3)
                  return Array.from(t3);
                if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                  return i(t3, e4);
              }(t2)) || e3 && t2 && "number" == typeof t2.length) {
                r2 && (t2 = r2);
                var n2 = 0, o2 = function() {
                };
                return { s: o2, n: function() {
                  return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
                }, e: function(t3) {
                  throw t3;
                }, f: o2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s2, a2 = true, u2 = false;
            return { s: function() {
              r2 = r2.call(t2);
            }, n: function() {
              var t3 = r2.next();
              return a2 = t3.done, t3;
            }, e: function(t3) {
              u2 = true, s2 = t3;
            }, f: function() {
              try {
                a2 || null == r2.return || r2.return();
              } finally {
                if (u2)
                  throw s2;
              }
            } };
          }
          function i(t2, e3) {
            (null == e3 || e3 > t2.length) && (e3 = t2.length);
            for (var r2 = 0, n2 = new Array(e3); r2 < e3; r2++)
              n2[r2] = t2[r2];
            return n2;
          }
          function s(t2) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          var a, u, c, l = r(19).EventEmitter, f = r(112), p = r(5), h = r(28), y = r(75), d = r(138), _ = r(139), v = r(54), m = r(34), b = r(33), g = r(73), w = r(55), O = r(27), S = r(87), j = r(58).compile, A = r(58).defineKey, $ = r(174).flatten, E = r(3), P = r(175), x = r(91), T = r(176), k = r(22), N = r(59), B = r(177), C = r(4).inspect, R = r(17).internalToObjectOptions, D = r(50), M = r(178), I = r(1), F = r(180), L = I.clone, U = I.deepEqual, V = I.isMongooseObject, q = Symbol("mongoose.Array#atomicsBackup"), W = r(0).arrayAtomicsSymbol, H = r(0).documentArrayParent, Y = r(0).documentIsModified, K = r(0).documentModifiedPaths, z = r(0).documentSchemaSymbol, Q = r(0).getSymbol, J = r(0).populateModelSymbol, G = r(0).scopeSymbol, X = r(35).schemaMixedSymbol, Z = I.specialProperties;
          function tt(t2, e3, r2, n2) {
            var i2 = this;
            "object" === s(r2) && null != r2 && (r2 = (n2 = r2).skipId), n2 = Object.assign({}, n2);
            var a2 = E(n2, "defaults", true);
            if (n2.defaults = a2, null == this.$__schema) {
              var u2 = I.isObject(e3) && !e3.instanceOfSchema ? new v(e3) : e3;
              this.$__setSchema(u2), e3 = r2, r2 = n2, n2 = arguments[4] || {};
            }
            if (this.$__ = new f(), this.$__.emitter = new l(), this.isNew = !("isNew" in n2) || n2.isNew, this.errors = void 0, this.$__.$options = n2 || {}, this.$locals = {}, this.$op = null, null != t2 && "object" !== s(t2))
              throw new d(t2, "obj", "Document");
            var c2 = this.$__schema;
            "boolean" == typeof e3 || "throw" === e3 ? (this.$__.strictMode = e3, e3 = void 0) : (this.$__.strictMode = c2.options.strict, this.$__.selected = e3);
            var p2, h2 = c2.requiredPaths(true), y2 = o(h2);
            try {
              for (y2.s(); !(p2 = y2.n()).done; ) {
                var _2 = p2.value;
                this.$__.activePaths.require(_2);
              }
            } catch (t3) {
              y2.e(t3);
            } finally {
              y2.f();
            }
            this.$__.emitter.setMaxListeners(0);
            var m2 = null;
            I.isPOJO(e3) && (m2 = B(e3));
            var b2 = false === m2 && e3 ? rt(e3) : {};
            if (null == this._doc && (this.$__buildDoc(t2, e3, r2, m2, b2, false), a2 && nt(this, e3, r2, m2, b2, true, { isNew: this.isNew })), t2 && (this.$__original_set ? this.$__original_set(t2, void 0, true) : this.$set(t2, void 0, true), t2 instanceof tt && (this.isNew = t2.isNew)), n2.willInit && a2 ? l.prototype.once.call(this, "init", function() {
              nt(i2, e3, r2, m2, b2, false, n2.skipDefaults, i2.isNew);
            }) : a2 && nt(this, e3, r2, m2, b2, false, n2.skipDefaults, this.isNew), this.$__._id = this._id, !this.$__.strictMode && t2) {
              var g2 = this, w2 = Object.keys(this._doc);
              w2.forEach(function(t3) {
                t3 in c2.tree || A(t3, null, g2);
              });
            }
            ut(this);
          }
          for (var et in I.each(["on", "once", "emit", "listeners", "removeListener", "setMaxListeners", "removeAllListeners", "addListener"], function(t2) {
            tt.prototype[t2] = function() {
              return this.$__.emitter[t2].apply(this.$__.emitter, arguments);
            };
          }), tt.prototype.constructor = tt, l.prototype)
            tt[et] = l.prototype[et];
          function rt(t2) {
            for (var e3 = {}, r2 = 0, n2 = Object.keys(t2); r2 < n2.length; r2++) {
              var i2, s2 = [], a2 = o(n2[r2].split("."));
              try {
                for (a2.s(); !(i2 = a2.n()).done; ) {
                  var u2 = i2.value;
                  s2.push(u2), e3[s2.join(".")] = 1;
                }
              } catch (t3) {
                a2.e(t3);
              } finally {
                a2.f();
              }
            }
            return e3;
          }
          function nt(t2, e3, r2, n2, o2, i2, s2) {
            for (var a2 = Object.keys(t2.$__schema.paths), u2 = a2.length, c2 = 0; c2 < u2; ++c2) {
              var l2 = void 0, f2 = "", p2 = a2[c2];
              if ("_id" !== p2 || !r2)
                for (var h2 = t2.$__schema.paths[p2], y2 = h2.splitPath(), d2 = y2.length, _2 = false, v2 = t2._doc, m2 = 0; m2 < d2 && null != v2; ++m2) {
                  var b2 = y2[m2];
                  if (f2 += (f2.length ? "." : "") + b2, true === n2) {
                    if (f2 in e3)
                      break;
                  } else if (false === n2 && e3 && !_2) {
                    if (f2 in e3)
                      _2 = true;
                    else if (!o2[f2])
                      break;
                  }
                  if (m2 === d2 - 1) {
                    if (void 0 !== v2[b2])
                      break;
                    if ("function" == typeof h2.defaultValue) {
                      if (!h2.defaultValue.$runBeforeSetters && i2)
                        break;
                      if (h2.defaultValue.$runBeforeSetters && !i2)
                        break;
                    } else if (!i2)
                      continue;
                    if (s2 && s2[f2])
                      break;
                    if (e3 && null !== n2) {
                      if (true === n2) {
                        if (p2 in e3)
                          continue;
                        try {
                          l2 = h2.getDefault(t2, false);
                        } catch (e4) {
                          t2.invalidate(p2, e4);
                          break;
                        }
                        void 0 !== l2 && (v2[b2] = l2, t2.$__.activePaths.default(p2));
                      } else if (_2) {
                        try {
                          l2 = h2.getDefault(t2, false);
                        } catch (e4) {
                          t2.invalidate(p2, e4);
                          break;
                        }
                        void 0 !== l2 && (v2[b2] = l2, t2.$__.activePaths.default(p2));
                      }
                    } else {
                      try {
                        l2 = h2.getDefault(t2, false);
                      } catch (e4) {
                        t2.invalidate(p2, e4);
                        break;
                      }
                      void 0 !== l2 && (v2[b2] = l2, t2.$__.activePaths.default(p2));
                    }
                  } else
                    v2 = v2[b2];
                }
            }
          }
          function ot(t2) {
            if (null == t2)
              return true;
            if ("object" !== s(t2) || Array.isArray(t2))
              return false;
            for (var e3 = 0, r2 = Object.keys(t2); e3 < r2.length; e3++) {
              if (!ot(t2[r2[e3]]))
                return false;
            }
            return true;
          }
          function it(t2) {
            var e3 = {};
            !function(t3) {
              Object.keys(t3.$__.activePaths.states.require).forEach(function(e4) {
                var r3 = t3.$__schema.path(e4);
                null != r3 && "function" == typeof r3.originalRequiredValue && (t3.$__.cachedRequired[e4] = r3.originalRequiredValue.call(t3, t3));
              });
            }(t2);
            var r2 = new Set(Object.keys(t2.$__.activePaths.states.require).filter(function(e4) {
              return !(!t2.$__isSelected(e4) && !t2.isModified(e4)) && (!(e4 in t2.$__.cachedRequired) || t2.$__.cachedRequired[e4]);
            }));
            function n2(t3) {
              r2.add(t3);
            }
            Object.keys(t2.$__.activePaths.states.init).forEach(n2), Object.keys(t2.$__.activePaths.states.modify).forEach(n2), Object.keys(t2.$__.activePaths.states.default).forEach(n2);
            var i2, s2 = t2.$getAllSubdocs(), a2 = t2.modifiedPaths(), u2 = o(s2);
            try {
              for (u2.s(); !(i2 = u2.n()).done; ) {
                var c2 = i2.value;
                if (c2.$basePath) {
                  var l2, f2 = o(r2);
                  try {
                    for (f2.s(); !(l2 = f2.n()).done; ) {
                      var p2 = l2.value;
                      (null === p2 || p2.startsWith(c2.$basePath + ".")) && r2.delete(p2);
                    }
                  } catch (t3) {
                    f2.e(t3);
                  } finally {
                    f2.f();
                  }
                  !t2.isModified(c2.$basePath, a2) || t2.isDirectModified(c2.$basePath) || t2.$isDefault(c2.$basePath) || (r2.add(c2.$basePath), e3[c2.$basePath] = true);
                }
              }
            } catch (t3) {
              u2.e(t3);
            } finally {
              u2.f();
            }
            var h2, y2 = o(r2);
            try {
              for (y2.s(); !(h2 = y2.n()).done; ) {
                var d2 = h2.value, _2 = t2.$__schema.path(d2);
                if (_2 && _2.$isMongooseArray && (!_2.$isMongooseDocumentArray || E(_2, "schemaOptions.required")))
                  v2(t2.$__getValue(d2), r2, d2);
              }
            } catch (t3) {
              y2.e(t3);
            } finally {
              y2.f();
            }
            function v2(t3, e4, r3) {
              if (null != t3)
                for (var n3 = t3.length, o2 = 0; o2 < n3; ++o2)
                  Array.isArray(t3[o2]) ? v2(t3[o2], e4, r3 + "." + o2) : e4.add(r3 + "." + o2);
            }
            var m2, b2 = { skipArrays: true }, g2 = o(r2);
            try {
              for (g2.s(); !(m2 = g2.n()).done; ) {
                var w2 = m2.value;
                if (t2.$__schema.nested[w2]) {
                  var O2 = t2.$__getValue(w2);
                  V(O2) && (O2 = O2.toObject({ transform: false }));
                  var S2 = $(O2, w2, b2, t2.$__schema);
                  Object.keys(S2).forEach(n2);
                }
              }
            } catch (t3) {
              g2.e(t3);
            } finally {
              g2.f();
            }
            var j2, A2 = o(r2);
            try {
              for (A2.s(); !(j2 = A2.n()).done; ) {
                var P2 = j2.value;
                if (t2.$__schema.singleNestedPaths.hasOwnProperty(P2))
                  r2.delete(P2);
                else {
                  var x2 = t2.$__schema.path(P2);
                  if (x2 && x2.$isSchemaMap) {
                    var T2 = t2.$__getValue(P2);
                    if (null != T2) {
                      var k2, N2 = o(T2.keys());
                      try {
                        for (N2.s(); !(k2 = N2.n()).done; ) {
                          var B2 = k2.value;
                          r2.add(P2 + "." + B2);
                        }
                      } catch (t3) {
                        N2.e(t3);
                      } finally {
                        N2.f();
                      }
                    }
                  }
                }
              }
            } catch (t3) {
              A2.e(t3);
            } finally {
              A2.f();
            }
            return [r2 = Array.from(r2), e3];
          }
          function st(t2, e3) {
            var r2, n2 = new Set(e3), i2 = /* @__PURE__ */ new Map([]), s2 = o(e3);
            try {
              for (s2.s(); !(r2 = s2.n()).done; ) {
                var a2 = r2.value;
                if (-1 !== a2.indexOf("."))
                  for (var u2 = a2.split("."), c2 = u2[0], l2 = 1; l2 < u2.length; ++l2)
                    i2.set(c2, a2), c2 = c2 + "." + u2[l2];
              }
            } catch (t3) {
              s2.e(t3);
            } finally {
              s2.f();
            }
            var f2, p2 = [], h2 = o(t2);
            try {
              for (h2.s(); !(f2 = h2.n()).done; ) {
                var y2 = f2.value;
                n2.has(y2) ? p2.push(y2) : i2.has(y2) && p2.push(i2.get(y2));
              }
            } catch (t3) {
              h2.e(t3);
            } finally {
              h2.f();
            }
            return p2;
          }
          function at(t2, e3) {
            return e3 = new Set(e3), t2 = t2.filter(function(t3) {
              return !e3.has(t3);
            });
          }
          function ut(t2) {
            var e3 = t2.$__schema && t2.$__schema.callQueue;
            if (e3.length) {
              var r2, n2 = o(e3);
              try {
                for (n2.s(); !(r2 = n2.n()).done; ) {
                  var i2 = r2.value;
                  "pre" !== i2[0] && "post" !== i2[0] && "on" !== i2[0] && t2[i2[0]].apply(t2, i2[1]);
                }
              } catch (t3) {
                n2.e(t3);
              } finally {
                n2.f();
              }
            }
          }
          function ct(t2, e3, r2, n2) {
            var o2, i2, s2, a2 = t2.$__schema, u2 = Object.keys(a2.virtuals), c2 = u2.length, l2 = c2, f2 = t2._doc, p2 = E(n2, "aliases", true), h2 = null;
            if (Array.isArray(r2.virtuals))
              h2 = new Set(r2.virtuals);
            else if (r2.virtuals && r2.virtuals.pathsToSkip) {
              h2 = new Set(u2);
              for (var y2 = 0; y2 < r2.virtuals.pathsToSkip.length; y2++)
                h2.has(r2.virtuals.pathsToSkip[y2]) && h2.delete(r2.virtuals.pathsToSkip[y2]);
            }
            if (!f2)
              return e3;
            for (r2 = r2 || {}, c2 = 0; c2 < l2; ++c2)
              if (o2 = u2[c2], (null == h2 || h2.has(o2)) && (p2 || !a2.aliases.hasOwnProperty(o2))) {
                if (i2 = o2, null != r2.path) {
                  if (!o2.startsWith(r2.path + "."))
                    continue;
                  i2 = o2.substr(r2.path.length + 1);
                }
                var d2 = i2.split(".");
                if (void 0 !== (s2 = L(t2.get(o2), r2))) {
                  var _2 = d2.length;
                  f2 = e3;
                  for (var v2 = 0; v2 < _2 - 1; ++v2)
                    f2[d2[v2]] = f2[d2[v2]] || {}, f2 = f2[d2[v2]];
                  f2[d2[_2 - 1]] = s2;
                }
              }
            return e3;
          }
          function lt(t2, e3) {
            if (F(e3))
              throw new Error("`transform` function must be synchronous, but the transform on path `" + t2 + "` returned a promise.");
          }
          tt.prototype.$__schema, tt.prototype.schema, Object.defineProperty(tt.prototype, "$locals", { configurable: false, enumerable: false, writable: true }), tt.prototype.isNew, Object.defineProperty(tt.prototype, "$where", { configurable: false, enumerable: false, writable: true }), tt.prototype.id, tt.prototype.errors, tt.prototype.$op, tt.prototype.$__buildDoc = function(t2, e3, r2, n2, o2) {
            for (var i2 = {}, s2 = Object.keys(this.$__schema.paths).filter(function(t3) {
              return !t3.includes("$*");
            }), a2 = s2.length, u2 = 0; u2 < a2; ++u2) {
              var c2 = s2[u2];
              if ("_id" === c2) {
                if (r2)
                  continue;
                if (t2 && "_id" in t2)
                  continue;
              }
              for (var l2 = this.$__schema.paths[c2].splitPath(), f2 = l2.length, p2 = f2 - 1, h2 = "", y2 = i2, d2 = false, _2 = 0; _2 < f2; ++_2) {
                var v2 = l2[_2];
                if (h2 += (h2.length ? "." : "") + v2, true === n2) {
                  if (h2 in e3)
                    break;
                } else if (false === n2 && e3 && !d2) {
                  if (h2 in e3)
                    d2 = true;
                  else if (!o2[h2])
                    break;
                }
                _2 < p2 && (y2 = y2[v2] || (y2[v2] = {}));
              }
            }
            this._doc = i2;
          }, tt.prototype.toBSON = function() {
            return this.toObject(R);
          }, tt.prototype.init = function(t2, e3, r2) {
            return "function" == typeof e3 && (r2 = e3, e3 = null), this.$__init(t2, e3), r2 && r2(null, this), this;
          }, tt.prototype.$__init = function(t2, e3) {
            if (this.isNew = false, this.$init = true, e3 = e3 || {}, null != t2._id && e3.populated && e3.populated.length) {
              var r2, n2 = String(t2._id), i2 = o(e3.populated);
              try {
                for (i2.s(); !(r2 = i2.n()).done; ) {
                  var s2 = r2.value;
                  if (s2.isVirtual ? this.populated(s2.path, I.getValue(s2.path, t2), s2) : this.populated(s2.path, s2._docs[n2], s2), null != s2._childDocs) {
                    var a2, u2 = o(s2._childDocs);
                    try {
                      for (u2.s(); !(a2 = u2.n()).done; ) {
                        var c2 = a2.value;
                        null != c2 && null != c2.$__ && (c2.$__.parent = this);
                      }
                    } catch (t3) {
                      u2.e(t3);
                    } finally {
                      u2.f();
                    }
                    s2._childDocs = [];
                  }
                }
              } catch (t3) {
                i2.e(t3);
              } finally {
                i2.f();
              }
            }
            return function t3(e4, r3, n3, o2, i3) {
              i3 = i3 || "";
              var s3, a3, u3, c3 = Object.keys(r3), l2 = c3.length, f2 = 0;
              for (; f2 < l2; )
                p2(f2++);
              function p2(l3) {
                if (u3 = c3[l3], a3 = i3 + u3, s3 = e4.$__schema.path(a3), !e4.$__schema.$isRootDiscriminator || e4.$__isSelected(a3))
                  if (!s3 && I.isPOJO(r3[u3]))
                    n3[u3] || (n3[u3] = {}), t3(e4, r3[u3], n3[u3], o2, a3 + ".");
                  else if (s3) {
                    if (null === r3[u3])
                      n3[u3] = s3._castNullish(null);
                    else if (void 0 !== r3[u3]) {
                      var f3 = (r3[u3].$__ || {}).wasPopulated || null;
                      if (s3 && !f3)
                        try {
                          n3[u3] = s3.cast(r3[u3], e4, true);
                        } catch (t4) {
                          e4.invalidate(t4.path, new g({ path: t4.path, message: t4.message, type: "cast", value: t4.value, reason: t4 }));
                        }
                      else
                        n3[u3] = r3[u3];
                    }
                    e4.isModified(a3) || e4.$__.activePaths.init(a3);
                  } else
                    n3[u3] = r3[u3];
              }
            }(this, t2, this._doc, e3), function(t3, e4) {
              if (null == t3._id || null == e4 || 0 === e4.length)
                return;
              var r3, n3 = String(t3._id), i3 = o(e4);
              try {
                for (i3.s(); !(r3 = i3.n()).done; ) {
                  var s3 = r3.value;
                  if (!s3.isVirtual)
                    for (var a3 = s3.path.split("."), u3 = 0; u3 < a3.length - 1; ++u3) {
                      var c3 = a3.slice(0, u3 + 1).join("."), l2 = a3.slice(u3 + 1).join("."), f2 = t3.get(c3);
                      if (null != f2 && f2.isMongooseDocumentArray) {
                        for (var p2 = 0; p2 < f2.length; ++p2)
                          f2[p2].populated(l2, null == s3._docs[n3] ? [] : s3._docs[n3][p2], s3);
                        break;
                      }
                    }
                }
              } catch (t4) {
                i3.e(t4);
              } finally {
                i3.f();
              }
            }(this, e3.populated), this.emit("init", this), this.constructor.emit("init", this), this.$__._id = this._id, this;
          }, tt.prototype.update = function() {
            var t2 = I.args(arguments);
            t2.unshift({ _id: this._id });
            var e3 = this.constructor.update.apply(this.constructor, t2);
            return null != this.$session() && ("session" in e3.options || (e3.options.session = this.$session())), e3;
          }, tt.prototype.updateOne = function(t2, e3, r2) {
            var n2 = this, o2 = this.constructor.updateOne({ _id: this._id }, t2, e3);
            return o2.pre(function(t3) {
              n2.constructor._middleware.execPre("updateOne", n2, [n2], t3);
            }), o2.post(function(t3) {
              n2.constructor._middleware.execPost("updateOne", n2, [n2], {}, t3);
            }), null != this.$session() && ("session" in o2.options || (o2.options.session = this.$session())), null != r2 ? o2.exec(r2) : o2;
          }, tt.prototype.replaceOne = function() {
            var t2 = I.args(arguments);
            return t2.unshift({ _id: this._id }), this.constructor.replaceOne.apply(this.constructor, t2);
          }, tt.prototype.$session = function(t2) {
            if (0 === arguments.length)
              return null != this.$__.session && this.$__.session.hasEnded ? (this.$__.session = null, null) : this.$__.session;
            if (null != t2 && t2.hasEnded)
              throw new p("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");
            if (this.$__.session = t2, !this.ownerDocument) {
              var e3, r2 = this.$getAllSubdocs(), n2 = o(r2);
              try {
                for (n2.s(); !(e3 = n2.n()).done; ) {
                  var i2 = e3.value;
                  i2.$session(t2);
                }
              } catch (t3) {
                n2.e(t3);
              } finally {
                n2.f();
              }
            }
            return t2;
          }, tt.prototype.overwrite = function(t2) {
            for (var e3 = 0, r2 = Array.from(new Set(Object.keys(this._doc).concat(Object.keys(t2)))); e3 < r2.length; e3++) {
              var n2 = r2[e3];
              "_id" !== n2 && (this.$__schema.options.versionKey && n2 === this.$__schema.options.versionKey || this.$__schema.options.discriminatorKey && n2 === this.$__schema.options.discriminatorKey || this.$set(n2, t2[n2]));
            }
            return this;
          }, tt.prototype.$set = function(t2, e3, r2, i2) {
            var a2 = this;
            I.isPOJO(r2) && (i2 = r2, r2 = void 0);
            var u2, c2, l2, f2, d2 = (i2 = i2 || {}).merge, _2 = r2 && true !== r2, v2 = true === r2, b2 = this.$__schema.options.typeKey, g2 = 0, w2 = "strict" in i2 ? i2.strict : this.$__.strictMode;
            if (_2 && ((this.$__.adhocPaths || (this.$__.adhocPaths = {}))[t2] = this.$__schema.interpretAsType(t2, r2, this.$__schema.options)), null == t2) {
              var O2 = t2;
              t2 = e3, e3 = O2;
            } else {
              if ("string" != typeof t2) {
                if (t2 instanceof tt && (t2 = t2.$__isNested ? t2.toObject() : t2._doc), null == t2) {
                  var j2 = t2;
                  t2 = e3, e3 = j2;
                }
                f2 = e3 ? e3 + "." : "";
                var A2 = (u2 = Object.keys(t2)).length, $2 = E(i2, "_skipMinimizeTopLevel", false);
                if (0 === A2 && $2)
                  return delete i2._skipMinimizeTopLevel, e3 && this.$set(e3, {}), this;
                for (var T2 = 0; T2 < A2; ++T2) {
                  var k2 = f2 + (l2 = u2[T2]);
                  if (c2 = this.$__schema.pathType(k2), true !== r2 || f2 || null == t2[l2] || "nested" !== c2 || null == this._doc[l2] || 0 !== Object.keys(this._doc[l2]).length ? i2 = Object.assign({}, i2, { _skipMinimizeTopLevel: false }) : (delete this._doc[l2], i2 = Object.assign({}, i2, { _skipMinimizeTopLevel: true })), !("object" !== s(t2[l2]) || I.isNativeObject(t2[l2]) || I.isMongooseType(t2[l2]) || null == t2[l2] || "virtual" === c2 || "real" === c2 || "adhocOrUndefined" === c2 || this.$__path(k2) instanceof h || this.$__schema.paths[k2] && this.$__schema.paths[k2].options && this.$__schema.paths[k2].options.ref))
                    this.$__.$setCalled.add(f2 + l2), this.$set(t2[l2], f2 + l2, v2, i2);
                  else if (w2) {
                    if (v2 && void 0 === t2[l2] && void 0 !== this.get(k2))
                      continue;
                    if ("adhocOrUndefined" === c2 && (c2 = P(this, k2, { typeOnly: true })), "real" === c2 || "virtual" === c2) {
                      var N2 = t2[l2];
                      this.$__schema.paths[k2] && this.$__schema.paths[k2].$isSingleNested && t2[l2] instanceof tt && (N2 = N2.toObject({ virtuals: false, transform: false })), this.$set(f2 + l2, N2, v2, i2);
                    } else if ("nested" === c2 && t2[l2] instanceof tt)
                      this.$set(f2 + l2, t2[l2].toObject({ transform: false }), v2, i2);
                    else if ("throw" === w2)
                      throw "nested" === c2 ? new y(l2, t2[l2]) : new m(l2);
                  } else
                    void 0 !== t2[l2] && this.$set(f2 + l2, t2[l2], v2, i2);
                }
                return this;
              }
              this.$__.$setCalled.add(t2);
            }
            var B2, C2 = this.$__schema.pathType(t2);
            if ("adhocOrUndefined" === C2 && (C2 = P(this, t2, { typeOnly: true })), e3 = x(e3), "nested" === C2 && e3) {
              if ("object" === s(e3) && null != e3) {
                var R2 = null != this.$__.savedState && this.$__.savedState.hasOwnProperty(t2);
                if (null != this.$__.savedState && !this.isNew && !this.$__.savedState.hasOwnProperty(t2)) {
                  var M2 = this.$__getValue(t2);
                  this.$__.savedState[t2] = M2;
                  for (var F2 = 0, L2 = Object.keys(M2 || {}); F2 < L2.length; F2++) {
                    var U2 = L2[F2];
                    this.$__.savedState[t2 + "." + U2] = M2[U2];
                  }
                }
                if (d2)
                  return this.$set(e3, t2, v2);
                this.$__setValue(t2, null), S(this, t2);
                var V2 = Object.keys(e3);
                this.$__setValue(t2, {});
                for (var q2 = 0, W2 = V2; q2 < W2.length; q2++) {
                  var H2 = W2[q2];
                  this.$set(t2 + "." + H2, e3[H2], v2);
                }
                return R2 && I.deepEqual(this.$__.savedState[t2], e3) ? this.unmarkModified(t2) : this.markModified(t2), S(this, t2, { skipDocArrays: true }), this;
              }
              return this.invalidate(t2, new p.CastError("Object", e3, t2)), this;
            }
            var Y2 = -1 === t2.indexOf(".") ? [t2] : t2.split(".");
            if ("string" == typeof this.$__schema.aliases[Y2[0]] && (Y2[0] = this.$__schema.aliases[Y2[0]]), "adhocOrUndefined" === C2 && w2) {
              var K2;
              for (g2 = 0; g2 < Y2.length; ++g2) {
                var z2 = Y2.slice(0, g2 + 1).join(".");
                if (g2 + 1 < Y2.length && "virtual" === this.$__schema.pathType(z2))
                  return D.set(t2, e3, this), this;
                if (null != (B2 = this.$__schema.path(z2)) && B2 instanceof h) {
                  K2 = true;
                  break;
                }
              }
              if (null == B2 && (B2 = P(this, t2)), !K2 && !B2) {
                if ("throw" === w2)
                  throw new m(t2);
                return this;
              }
            } else {
              if ("virtual" === C2)
                return (B2 = this.$__schema.virtualpath(t2)).applySetters(e3, this), this;
              B2 = this.$__path(t2);
            }
            var Q2, G2 = this._doc, X2 = "";
            for (g2 = 0; g2 < Y2.length - 1; ++g2)
              G2 = G2[Y2[g2]], X2 += (X2.length > 0 ? "." : "") + Y2[g2], G2 || (this.$set(X2, {}), this.$__isSelected(X2) || this.unmarkModified(X2), G2 = this.$__getValue(X2));
            if (Y2.length <= 1)
              Q2 = t2;
            else {
              for (g2 = 0; g2 < Y2.length; ++g2) {
                var Z2 = Y2.slice(0, g2 + 1).join(".");
                if (null === this.get(Z2, null, { getters: false })) {
                  Q2 = Z2;
                  break;
                }
              }
              Q2 || (Q2 = t2);
            }
            var et2 = null != a2.$__.$options.priorDoc ? a2.$__.$options.priorDoc.$__getValue(t2) : v2 ? void 0 : a2.$__getValue(t2);
            if (!B2)
              return this.$__set(Q2, t2, v2, Y2, B2, e3, et2), this;
            if ((B2.$isSingleNested || B2.$isMongooseArray) && function(t3, e4) {
              if (!t3.$__.validationError)
                return;
              for (var r3 = Object.keys(t3.$__.validationError.errors), n2 = 0, o2 = r3; n2 < o2.length; n2++) {
                var i3 = o2[n2];
                i3.startsWith(e4 + ".") && delete t3.$__.validationError.errors[i3];
              }
              0 === Object.keys(t3.$__.validationError.errors).length && (t3.$__.validationError = null);
            }(this, t2), B2.$isSingleNested && null != e3 && d2) {
              e3 instanceof tt && (e3 = e3.toObject({ virtuals: false, transform: false }));
              for (var rt2 = 0, nt2 = Object.keys(e3); rt2 < nt2.length; rt2++) {
                var ot2 = nt2[rt2];
                this.$set(t2 + "." + ot2, e3[ot2], v2, i2);
              }
              return this;
            }
            var it2 = true;
            try {
              var st2, at2 = function() {
                if (null == B2.options)
                  return false;
                if (!(e3 instanceof tt))
                  return false;
                var t3 = e3.constructor, r3 = B2.options.ref;
                if (null != r3 && (r3 === t3.modelName || r3 === t3.baseModelName))
                  return true;
                var n2 = B2.options.refPath;
                if (null == n2)
                  return false;
                var o2 = e3.get(n2);
                return o2 === t3.modelName || o2 === t3.baseModelName;
              }(), ut2 = false;
              if (at2 && e3 instanceof tt && (this.populated(t2, e3._id, n({}, J, e3.constructor)), e3.$__.wasPopulated = true, ut2 = true), B2.options && Array.isArray(B2.options[b2]) && B2.options[b2].length && B2.options[b2][0].ref && function(t3, e4) {
                if (!Array.isArray(t3))
                  return false;
                if (0 === t3.length)
                  return false;
                var r3, n2 = o(t3);
                try {
                  for (n2.s(); !(r3 = n2.n()).done; ) {
                    var i3 = r3.value;
                    if (!(i3 instanceof tt))
                      return false;
                    if (null == i3.constructor.modelName)
                      return false;
                    if (i3.constructor.modelName != e4 && i3.constructor.baseModelName != e4)
                      return false;
                  }
                } catch (t4) {
                  n2.e(t4);
                } finally {
                  n2.f();
                }
                return true;
              }(e3, B2.options[b2][0].ref)) {
                st2 = n({}, J, e3[0].constructor), this.populated(t2, e3.map(function(t3) {
                  return t3._id;
                }), st2);
                var ct2, lt2 = o(e3);
                try {
                  for (lt2.s(); !(ct2 = lt2.n()).done; ) {
                    ct2.value.$__.wasPopulated = true;
                  }
                } catch (t3) {
                  lt2.e(t3);
                } finally {
                  lt2.f();
                }
                ut2 = true;
              }
              if (null == this.$__schema.singleNestedPaths[t2] && (e3 = B2.applySetters(e3, this, false, et2)), B2.$isMongooseDocumentArray && Array.isArray(e3) && e3.length > 0 && null != e3[0] && null != e3[0].$__ && null != e3[0].$__.populated) {
                for (var ft = Object.keys(e3[0].$__.populated), pt = function() {
                  var r3 = yt[ht];
                  a2.populated(t2 + "." + r3, e3.map(function(t3) {
                    return t3.populated(r3);
                  }), e3[0].$__.populated[r3].options);
                }, ht = 0, yt = ft; ht < yt.length; ht++)
                  pt();
                ut2 = true;
              }
              if (!ut2 && this.$__.populated) {
                if (Array.isArray(e3) && this.$__.populated[t2])
                  for (var dt = 0; dt < e3.length; ++dt)
                    e3[dt] instanceof tt && (e3[dt] = e3[dt]._id);
                delete this.$__.populated[t2];
              }
              B2.$isSingleNested && null != e3 && function(t3, e4, r3) {
                var n2 = e4.schema;
                if (null == n2)
                  return;
                for (var o2 = 0, i3 = Object.keys(n2.paths); o2 < i3.length; o2++) {
                  var s2 = i3[o2], a3 = n2.paths[s2];
                  if (null != a3.$immutableSetter) {
                    var u3 = null == r3 ? void 0 : r3.$__getValue(s2);
                    a3.$immutableSetter.call(t3, u3);
                  }
                }
              }(e3, B2, et2), this.$markValid(t2);
            } catch (r3) {
              r3 instanceof p.StrictModeError && r3.isImmutableError ? this.invalidate(t2, r3) : r3 instanceof p.CastError ? (this.invalidate(r3.path, r3), r3.$originalErrorPath && this.invalidate(t2, new p.CastError(B2.instance, e3, t2, r3.$originalErrorPath))) : this.invalidate(t2, new p.CastError(B2.instance, e3, t2, r3)), it2 = false;
            }
            return it2 && (this.$__set(Q2, t2, v2, Y2, B2, e3, et2), null != this.$__.savedState && (this.isNew || this.$__.savedState.hasOwnProperty(t2) ? this.$__.savedState.hasOwnProperty(t2) && I.deepEqual(e3, this.$__.savedState[t2]) && this.unmarkModified(t2) : this.$__.savedState[t2] = et2)), B2.$isSingleNested && (this.isDirectModified(t2) || null == e3) && S(this, t2), this;
          }, tt.prototype.set = tt.prototype.$set, tt.prototype.$__shouldModify = function(t2, e3, r2, n2, o2, i2, s2) {
            return !!this.isNew || null == this.$__schema.singleNestedPaths[e3] && (void 0 === i2 && !this.$__isSelected(e3) || (void 0 !== i2 || !(e3 in this.$__.activePaths.states.default)) && (!(this.populated(e3) && i2 instanceof tt && U(i2._id, s2)) && (!U(i2, s2 || I.getValue(e3, this)) || !(r2 || null == i2 || !(e3 in this.$__.activePaths.states.default) || !U(i2, o2.getDefault(this, r2))))));
          }, tt.prototype.$__set = function(t2, e3, n2, o2, i2, s2, a2) {
            c = c || r(29);
            var l2 = this.$__shouldModify(t2, e3, n2, o2, i2, s2, a2), f2 = this;
            l2 && (this.markModified(t2), u || (u = r(85)), s2 && s2.isMongooseArray && (s2._registerAtomic("$set", s2), s2.isMongooseDocumentArray && s2.forEach(function(t3) {
              t3 && t3.__parentArray && (t3.__parentArray = s2);
            }), this.$__.activePaths.forEach(function(t3) {
              t3.startsWith(e3 + ".") && f2.$__.activePaths.ignore(t3);
            })));
            for (var p2 = this._doc, h2 = 0, y2 = o2.length, d2 = ""; h2 < y2; h2++) {
              var _2 = h2 + 1 === y2;
              if (d2 += d2 ? "." + o2[h2] : o2[h2], Z.has(o2[h2]))
                return;
              _2 ? p2 instanceof Map ? p2.set(o2[h2], s2) : p2[o2[h2]] = s2 : (I.isPOJO(p2[o2[h2]]) || p2[o2[h2]] && p2[o2[h2]] instanceof c || p2[o2[h2]] && p2[o2[h2]].$isSingleNested || p2[o2[h2]] && Array.isArray(p2[o2[h2]]) || (p2[o2[h2]] = p2[o2[h2]] || {}), p2 = p2[o2[h2]]);
            }
          }, tt.prototype.$__getValue = function(t2) {
            return I.getValue(t2, this._doc);
          }, tt.prototype.$__setValue = function(t2, e3) {
            return I.setValue(t2, e3, this._doc), this;
          }, tt.prototype.get = function(t2, e3, r2) {
            var n2;
            r2 = r2 || {}, e3 && (n2 = this.$__schema.interpretAsType(t2, e3, this.$__schema.options));
            var o2 = this.$__path(t2);
            if (null == o2 && (o2 = this.$__schema.virtualpath(t2)), o2 instanceof h) {
              var i2 = this.$__schema.virtualpath(t2);
              null != i2 && (o2 = i2);
            }
            var s2 = -1 === t2.indexOf(".") ? [t2] : t2.split("."), a2 = this._doc;
            if (o2 instanceof w)
              return o2.applyGetters(void 0, this);
            "string" == typeof this.$__schema.aliases[s2[0]] && (s2[0] = this.$__schema.aliases[s2[0]]);
            for (var u2 = 0, c2 = s2.length; u2 < c2; u2++)
              a2 && a2._doc && (a2 = a2._doc), a2 = null == a2 ? void 0 : a2 instanceof Map ? a2.get(s2[u2], { getters: false }) : u2 === c2 - 1 ? I.getValue(s2[u2], a2) : a2[s2[u2]];
            if (n2 && (a2 = n2.cast(a2)), null != o2 && false !== r2.getters)
              a2 = o2.applyGetters(a2, this);
            else if (this.$__schema.nested[t2] && r2.virtuals)
              return ct(this, I.clone(a2) || {}, { path: t2 });
            return a2;
          }, tt.prototype[Q] = tt.prototype.get, tt.prototype.$__path = function(t2) {
            var e3 = this.$__.adhocPaths, r2 = e3 && e3.hasOwnProperty(t2) ? e3[t2] : null;
            return r2 || this.$__schema.path(t2);
          }, tt.prototype.markModified = function(t2, e3) {
            this.$__.activePaths.modify(t2), null == e3 || this.ownerDocument || (this.$__.pathsToScopes[t2] = e3);
          }, tt.prototype.unmarkModified = function(t2) {
            this.$__.activePaths.init(t2), delete this.$__.pathsToScopes[t2];
          }, tt.prototype.$ignore = function(t2) {
            this.$__.activePaths.ignore(t2);
          }, tt.prototype.directModifiedPaths = function() {
            return Object.keys(this.$__.activePaths.states.modify);
          }, tt.prototype.$isEmpty = function(t2) {
            var e3 = { minimize: true, virtuals: false, getters: false, transform: false };
            if (arguments.length > 0) {
              var r2 = this.get(t2);
              return null == r2 || "object" === s(r2) && (I.isPOJO(r2) ? ot(r2) : 0 === Object.keys(r2.toObject(e3)).length);
            }
            return 0 === Object.keys(this.toObject(e3)).length;
          }, tt.prototype.modifiedPaths = function(t2) {
            t2 = t2 || {};
            var e3 = Object.keys(this.$__.activePaths.states.modify), r2 = this;
            return e3.reduce(function(e4, n2) {
              var i2 = n2.split(".");
              if (e4 = e4.concat(i2.reduce(function(t3, e5, r3) {
                return t3.concat(i2.slice(0, r3).concat(e5).join("."));
              }, []).filter(function(t3) {
                return -1 === e4.indexOf(t3);
              })), !t2.includeChildren)
                return e4;
              var a2 = r2.get(n2);
              if (null != a2 && "object" === s(a2))
                if (a2._doc && (a2 = a2._doc), Array.isArray(a2)) {
                  for (var u2 = a2.length, c2 = 0; c2 < u2; ++c2)
                    if (-1 === e4.indexOf(n2 + "." + c2) && (e4.push(n2 + "." + c2), null != a2[c2] && a2[c2].$__)) {
                      var l2, f2 = o(a2[c2].modifiedPaths());
                      try {
                        for (f2.s(); !(l2 = f2.n()).done; ) {
                          var p2 = l2.value;
                          e4.push(n2 + "." + c2 + "." + p2);
                        }
                      } catch (t3) {
                        f2.e(t3);
                      } finally {
                        f2.f();
                      }
                    }
                } else
                  Object.keys(a2).filter(function(t3) {
                    return -1 === e4.indexOf(n2 + "." + t3);
                  }).forEach(function(t3) {
                    e4.push(n2 + "." + t3);
                  });
              return e4;
            }, []);
          }, tt.prototype[K] = tt.prototype.modifiedPaths, tt.prototype.isModified = function(t2, e3) {
            if (t2) {
              Array.isArray(t2) || (t2 = t2.split(" "));
              var r2 = e3 || this[K](), n2 = Object.keys(this.$__.activePaths.states.modify);
              return t2.some(function(t3) {
                return !!~r2.indexOf(t3);
              }) || t2.some(function(t3) {
                return n2.some(function(e4) {
                  return e4 === t3 || t3.startsWith(e4 + ".");
                });
              });
            }
            return this.$__.activePaths.some("modify");
          }, tt.prototype[Y] = tt.prototype.isModified, tt.prototype.$isDefault = function(t2) {
            var e3 = this;
            if (null == t2)
              return this.$__.activePaths.some("default");
            if ("string" == typeof t2 && -1 === t2.indexOf(" "))
              return this.$__.activePaths.states.default.hasOwnProperty(t2);
            var r2 = t2;
            return Array.isArray(r2) || (r2 = r2.split(" ")), r2.some(function(t3) {
              return e3.$__.activePaths.states.default.hasOwnProperty(t3);
            });
          }, tt.prototype.$isDeleted = function(t2) {
            return 0 === arguments.length ? !!this.$__.isDeleted : (this.$__.isDeleted = !!t2, this);
          }, tt.prototype.isDirectModified = function(t2) {
            var e3 = this;
            if (null == t2)
              return this.$__.activePaths.some("modify");
            if ("string" == typeof t2 && -1 === t2.indexOf(" "))
              return this.$__.activePaths.states.modify.hasOwnProperty(t2);
            var r2 = t2;
            return Array.isArray(r2) || (r2 = r2.split(" ")), r2.some(function(t3) {
              return e3.$__.activePaths.states.modify.hasOwnProperty(t3);
            });
          }, tt.prototype.isInit = function(t2) {
            var e3 = this;
            if (null == t2)
              return this.$__.activePaths.some("init");
            if ("string" == typeof t2 && -1 === t2.indexOf(" "))
              return this.$__.activePaths.states.init.hasOwnProperty(t2);
            var r2 = t2;
            return Array.isArray(r2) || (r2 = r2.split(" ")), r2.some(function(t3) {
              return e3.$__.activePaths.states.init.hasOwnProperty(t3);
            });
          }, tt.prototype.isSelected = function(t2) {
            var e3 = this;
            if (null == this.$__.selected)
              return true;
            if ("_id" === t2)
              return 0 !== this.$__.selected._id;
            if (-1 !== t2.indexOf(" ") && (t2 = t2.split(" ")), Array.isArray(t2))
              return t2.some(function(t3) {
                return e3.$__isSelected(t3);
              });
            var r2 = Object.keys(this.$__.selected), n2 = null;
            if (1 === r2.length && "_id" === r2[0])
              return 0 === this.$__.selected._id;
            for (var o2 = 0, i2 = r2; o2 < i2.length; o2++) {
              var s2 = i2[o2];
              if ("_id" !== s2 && N(this.$__.selected[s2])) {
                n2 = !!this.$__.selected[s2];
                break;
              }
            }
            if (null === n2)
              return true;
            if (t2 in this.$__.selected)
              return n2;
            for (var a2 = t2 + ".", u2 = 0, c2 = r2; u2 < c2.length; u2++) {
              var l2 = c2[u2];
              if ("_id" !== l2) {
                if (l2.startsWith(a2))
                  return n2 || l2 !== a2;
                if (a2.startsWith(l2 + "."))
                  return n2;
              }
            }
            return !n2;
          }, tt.prototype.$__isSelected = tt.prototype.isSelected, tt.prototype.isDirectSelected = function(t2) {
            var e3 = this;
            if (null == this.$__.selected)
              return true;
            if ("_id" === t2)
              return 0 !== this.$__.selected._id;
            if (-1 !== t2.indexOf(" ") && (t2 = t2.split(" ")), Array.isArray(t2))
              return t2.some(function(t3) {
                return e3.isDirectSelected(t3);
              });
            var r2 = Object.keys(this.$__.selected), n2 = null;
            if (1 === r2.length && "_id" === r2[0])
              return 0 === this.$__.selected._id;
            for (var o2 = 0, i2 = r2; o2 < i2.length; o2++) {
              var s2 = i2[o2];
              if ("_id" !== s2 && N(this.$__.selected[s2])) {
                n2 = !!this.$__.selected[s2];
                break;
              }
            }
            return null === n2 || (this.$__.selected.hasOwnProperty(t2) ? n2 : !n2);
          }, tt.prototype.validate = function(t2, e3, r2) {
            var n2, o2 = this;
            if (this.$op = "validate", null != this.ownerDocument || (this.$__.validating ? n2 = new _(this, { parentStack: e3 && e3.parentStack, conflictStack: this.$__.validating.stack }) : this.$__.validating = new _(this, { parentStack: e3 && e3.parentStack })), 1 === arguments.length ? "object" !== s(arguments[0]) || Array.isArray(arguments[0]) ? "function" == typeof arguments[0] && (r2 = arguments[0], e3 = null, t2 = null) : (e3 = arguments[0], r2 = null, t2 = null) : "function" == typeof t2 ? (r2 = t2, e3 = null, t2 = null) : "function" == typeof e3 && (r2 = e3, e3 = t2, t2 = null), e3 && "string" == typeof e3.pathsToSkip) {
              var i2 = -1 === e3.pathsToSkip.indexOf(" ");
              e3.pathsToSkip = i2 ? [e3.pathsToSkip] : e3.pathsToSkip.split(" ");
            }
            return O(r2, function(r3) {
              if (null != n2)
                return r3(n2);
              o2.$__validate(t2, e3, function(t3) {
                o2.$op = null, r3(t3);
              });
            }, this.constructor.events);
          }, tt.prototype.$__validate = function(t2, e3, r2) {
            var n2 = this;
            "function" == typeof t2 ? (r2 = t2, e3 = null, t2 = null) : "function" == typeof e3 && (r2 = e3, e3 = null);
            var i2, a2 = e3 && "object" === s(e3) && "validateModifiedOnly" in e3, u2 = E(e3, "pathsToSkip", null);
            i2 = a2 ? !!e3.validateModifiedOnly : this.$__schema.options.validateModifiedOnly;
            var c2 = this, l2 = function() {
              var t3 = n2.$__.validationError;
              if (n2.$__.validationError = void 0, i2 && null != t3) {
                for (var e4 = 0, r3 = Object.keys(t3.errors); e4 < r3.length; e4++) {
                  var o2 = r3[e4];
                  n2.isModified(o2) || delete t3.errors[o2];
                }
                0 === Object.keys(t3.errors).length && (t3 = void 0);
              }
              if (n2.$__.cachedRequired = {}, n2.emit("validate", c2), n2.constructor.emit("validate", c2), n2.$__.validating = null, t3) {
                for (var s2 in t3.errors)
                  !n2[H] && t3.errors[s2] instanceof p.CastError && n2.invalidate(s2, t3.errors[s2]);
                return t3;
              }
            }, f2 = it(this), h2 = i2 ? f2[0].filter(function(t3) {
              return n2.isModified(t3);
            }) : f2[0], y2 = f2[1];
            if ("string" == typeof t2 && (t2 = t2.split(" ")), Array.isArray(t2) ? h2 = st(h2, t2) : u2 && (h2 = at(h2, u2)), 0 === h2.length)
              return k(function() {
                var t3 = l2();
                if (t3)
                  return c2.$__schema.s.hooks.execPost("validate:error", c2, [c2], { error: t3 }, function(t4) {
                    r2(t4);
                  });
                r2(null, c2);
              });
            var d2, _2 = {}, v2 = 0, m2 = o(h2);
            try {
              for (m2.s(); !(d2 = m2.n()).done; ) {
                g2(d2.value);
              }
            } catch (t3) {
              m2.e(t3);
            } finally {
              m2.f();
            }
            function g2(t3) {
              null == t3 || _2[t3] || (_2[t3] = true, v2++, k(function() {
                var e4 = c2.$__schema.path(t3);
                if (!e4)
                  return --v2 || w2();
                if (c2.$isValid(t3)) {
                  if (null != e4[X] && t3 !== e4.path)
                    return --v2 || w2();
                  var r3, n3 = c2.$__getValue(t3);
                  null == n3 && (r3 = c2.populated(t3)) && (n3 = r3);
                  var o2 = t3 in c2.$__.pathsToScopes ? c2.$__.pathsToScopes[t3] : c2, s2 = { skipSchemaValidators: y2[t3], path: t3, validateModifiedOnly: i2 };
                  e4.doValidate(n3, function(r4) {
                    if (r4 && (!e4.$isMongooseDocumentArray || r4.$isArrayValidatorError)) {
                      if (e4.$isSingleNested && r4 instanceof b && false === e4.schema.options.storeSubdocValidationError)
                        return --v2 || w2();
                      c2.invalidate(t3, r4, void 0, true);
                    }
                    --v2 || w2();
                  }, o2, s2);
                } else
                  --v2 || w2();
              }));
            }
            function w2() {
              var t3 = l2();
              if (t3)
                return c2.$__schema.s.hooks.execPost("validate:error", c2, [c2], { error: t3 }, function(t4) {
                  r2(t4);
                });
              r2(null, c2);
            }
          }, tt.prototype.validateSync = function(t2, e3) {
            var r2 = this, n2 = this;
            1 !== arguments.length || "object" !== s(arguments[0]) || Array.isArray(arguments[0]) || (e3 = arguments[0], t2 = null);
            var o2, i2 = e3 && "object" === s(e3) && "validateModifiedOnly" in e3;
            o2 = i2 ? !!e3.validateModifiedOnly : this.$__schema.options.validateModifiedOnly;
            var a2 = e3 && e3.pathsToSkip;
            if ("string" == typeof t2) {
              var u2 = -1 === t2.indexOf(" ");
              t2 = u2 ? [t2] : t2.split(" ");
            } else
              "string" == typeof a2 && -1 !== a2.indexOf(" ") && (a2 = a2.split(" "));
            var c2 = it(this), l2 = o2 ? c2[0].filter(function(t3) {
              return r2.isModified(t3);
            }) : c2[0], f2 = c2[1];
            Array.isArray(t2) ? l2 = st(l2, t2) : Array.isArray(a2) && (l2 = at(l2, a2));
            var h2 = {};
            l2.forEach(function(t3) {
              if (!h2[t3]) {
                h2[t3] = true;
                var e4 = n2.$__schema.path(t3);
                if (e4 && n2.$isValid(t3)) {
                  var r3 = n2.$__getValue(t3), i3 = e4.doValidateSync(r3, n2, { skipSchemaValidators: f2[t3], path: t3, validateModifiedOnly: o2 });
                  if (i3 && (!e4.$isMongooseDocumentArray || i3.$isArrayValidatorError)) {
                    if (e4.$isSingleNested && i3 instanceof b && false === e4.schema.options.storeSubdocValidationError)
                      return;
                    n2.invalidate(t3, i3, void 0, true);
                  }
                }
              }
            });
            var y2 = n2.$__.validationError;
            if (n2.$__.validationError = void 0, n2.emit("validate", n2), n2.constructor.emit("validate", n2), y2)
              for (var d2 in y2.errors)
                y2.errors[d2] instanceof p.CastError && n2.invalidate(d2, y2.errors[d2]);
            return y2;
          }, tt.prototype.invalidate = function(t2, e3, r2, n2) {
            if (this.$__.validationError || (this.$__.validationError = new b(this)), !this.$__.validationError.errors[t2])
              return e3 && "string" != typeof e3 || (e3 = new g({ path: t2, message: e3, type: n2 || "user defined", value: r2 })), this.$__.validationError === e3 || this.$__.validationError.addError(t2, e3), this.$__.validationError;
          }, tt.prototype.$markValid = function(t2) {
            this.$__.validationError && this.$__.validationError.errors[t2] && (delete this.$__.validationError.errors[t2], 0 === Object.keys(this.$__.validationError.errors).length && (this.$__.validationError = null));
          }, tt.prototype.$isValid = function(t2) {
            var e3 = this;
            return null == this.$__.validationError || 0 === Object.keys(this.$__.validationError.errors).length || null != t2 && (-1 !== t2.indexOf(" ") && (t2 = t2.split(" ")), Array.isArray(t2) ? t2.some(function(t3) {
              return null == e3.$__.validationError.errors[t3];
            }) : null == this.$__.validationError.errors[t2]);
          }, tt.prototype.$__reset = function() {
            var t2 = this;
            return a || (a = r(18)), this.$__.activePaths.map("init", "modify", function(e3) {
              return t2.$__getValue(e3);
            }).filter(function(t3) {
              return t3 && t3 instanceof Array && t3.isMongooseDocumentArray && t3.length;
            }).forEach(function(e3) {
              for (var r2 = e3.length; r2--; ) {
                var n2 = e3[r2];
                n2 && n2.$__reset();
              }
              t2.$__.activePaths.init(e3.$path()), e3[q] = e3[W], e3[W] = {};
            }), this.$__.activePaths.map("init", "modify", function(e3) {
              return t2.$__getValue(e3);
            }).filter(function(t3) {
              return t3 && t3.$isSingleNested;
            }).forEach(function(e3) {
              e3.$__reset(), e3.$__parent === t2 ? t2.$__.activePaths.init(e3.$basePath) : null != e3.$__parent && e3.$__parent.ownerDocument && e3.$__parent.$__reset();
            }), this.$__dirty().forEach(function(t3) {
              var e3 = t3.value;
              e3 && e3[W] && (e3[q] = e3[W], e3[W] = {});
            }), this.$__.backup = {}, this.$__.backup.activePaths = { modify: Object.assign({}, this.$__.activePaths.states.modify), default: Object.assign({}, this.$__.activePaths.states.default) }, this.$__.backup.validationError = this.$__.validationError, this.$__.backup.errors = this.errors, this.$__.activePaths.clear("modify"), this.$__.activePaths.clear("default"), this.$__.validationError = void 0, this.errors = void 0, t2 = this, this.$__schema.requiredPaths().forEach(function(e3) {
              t2.$__.activePaths.require(e3);
            }), this;
          }, tt.prototype.$__undoReset = function() {
            if (null != this.$__.backup && null != this.$__.backup.activePaths) {
              this.$__.activePaths.states.modify = this.$__.backup.activePaths.modify, this.$__.activePaths.states.default = this.$__.backup.activePaths.default, this.$__.validationError = this.$__.backup.validationError, this.errors = this.$__.backup.errors;
              var t2, e3 = o(this.$__dirty());
              try {
                for (e3.s(); !(t2 = e3.n()).done; ) {
                  var r2 = t2.value.value;
                  r2 && r2[W] && r2[q] && (r2[W] = r2[q]);
                }
              } catch (t3) {
                e3.e(t3);
              } finally {
                e3.f();
              }
              var n2, i2 = o(this.$getAllSubdocs());
              try {
                for (i2.s(); !(n2 = i2.n()).done; ) {
                  n2.value.$__undoReset();
                }
              } catch (t3) {
                i2.e(t3);
              } finally {
                i2.f();
              }
            }
          }, tt.prototype.$__dirty = function() {
            var t2 = this, e3 = this.$__.activePaths.map("modify", function(e4) {
              return { path: e4, value: t2.$__getValue(e4), schema: t2.$__path(e4) };
            });
            (e3 = e3.concat(this.$__.activePaths.map("default", function(e4) {
              if ("_id" !== e4 && null != t2.$__getValue(e4))
                return { path: e4, value: t2.$__getValue(e4), schema: t2.$__path(e4) };
            }))).sort(function(t3, e4) {
              return t3.path < e4.path ? -1 : t3.path > e4.path ? 1 : 0;
            });
            var r2, n2, o2 = [];
            return e3.forEach(function(t3) {
              t3 && (null == r2 || 0 !== t3.path.indexOf(r2) ? (r2 = t3.path + ".", o2.push(t3), n2 = t3) : null != n2 && null != n2.value && null != n2.value[W] && n2.value.hasAtomics() && (n2.value[W] = {}, n2.value[W].$set = n2.value));
            }), n2 = r2 = null, o2;
          }, tt.prototype.$__setSchema = function(t2) {
            t2.plugin(T, { deduplicate: true }), j(t2.tree, this, void 0, t2.options);
            for (var e3 = 0, r2 = Object.keys(t2.virtuals); e3 < r2.length; e3++) {
              var n2 = r2[e3];
              t2.virtuals[n2]._applyDefaultGetters();
            }
            null == t2.path("schema") && (this.schema = t2), this.$__schema = t2, this[z] = t2;
          }, tt.prototype.$__getArrayPathsToValidate = function() {
            return a || (a = r(18)), this.$__.activePaths.map("init", "modify", function(t2) {
              return this.$__getValue(t2);
            }.bind(this)).filter(function(t2) {
              return t2 && t2 instanceof Array && t2.isMongooseDocumentArray && t2.length;
            }).reduce(function(t2, e3) {
              return t2.concat(e3);
            }, []).filter(function(t2) {
              return t2;
            });
          }, tt.prototype.$getAllSubdocs = function() {
            function t2(e4, r2, n3) {
              var o3 = e4, i2 = false;
              if (n3 && (e4 instanceof tt && e4[z].paths[n3] ? o3 = e4._doc[n3] : e4 instanceof tt && e4[z].nested[n3] ? (o3 = e4._doc[n3], i2 = true) : o3 = e4[n3]), o3 instanceof c)
                r2.push(o3);
              else if (o3 instanceof Map)
                r2 = Array.from(o3.keys()).reduce(function(e5, r3) {
                  return t2(o3.get(r3), e5, null);
                }, r2);
              else if (o3 && o3.$isSingleNested)
                (r2 = Object.keys(o3._doc).reduce(function(e5, r3) {
                  return t2(o3._doc, e5, r3);
                }, r2)).push(o3);
              else if (o3 && o3.isMongooseDocumentArray)
                o3.forEach(function(e5) {
                  e5 && e5._doc && (r2 = Object.keys(e5._doc).reduce(function(r3, n4) {
                    return t2(e5._doc, r3, n4);
                  }, r2), e5 instanceof c && r2.push(e5));
                });
              else if (i2 && null != o3)
                for (var s2 = 0, a2 = Object.keys(o3); s2 < a2.length; s2++) {
                  var u2 = a2[s2];
                  t2(o3, r2, u2);
                }
              return r2;
            }
            a || (a = r(18)), c = c || r(29);
            for (var e3 = [], n2 = 0, o2 = Object.keys(this._doc); n2 < o2.length; n2++) {
              t2(this, e3, o2[n2]);
            }
            return e3;
          }, tt.prototype.$__handleReject = function(t2) {
            this.listeners("error").length ? this.emit("error", t2) : this.constructor.listeners && this.constructor.listeners("error").length && this.constructor.emit("error", t2);
          }, tt.prototype.$toObject = function(t2, r2) {
            var n2, o2, i2 = { transform: true, flattenDecimals: true }, s2 = r2 ? "toJSON" : "toObject", a2 = E(this, "constructor.base.options." + s2, {}), u2 = E(this, "$__schema.options", {});
            i2 = I.options(i2, L(a2)), i2 = I.options(i2, L(u2[s2] || {})), (t2 = I.isPOJO(t2) ? L(t2) : {})._calledWithOptions = t2._calledWithOptions || L(t2), n2 = null != t2._calledWithOptions.minimize ? t2.minimize : null != i2.minimize ? i2.minimize : u2.minimize, o2 = null != t2._calledWithOptions.flattenMaps ? t2.flattenMaps : null != i2.flattenMaps ? i2.flattenMaps : u2.flattenMaps;
            var c2 = Object.assign(I.clone(t2), { _isNested: true, json: r2, minimize: n2, flattenMaps: o2 });
            if (I.hasUserDefinedProperty(t2, "getters") && (c2.getters = t2.getters), I.hasUserDefinedProperty(t2, "virtuals") && (c2.virtuals = t2.virtuals), (t2.depopulate || E(t2, "_parentOptions.depopulate", false)) && t2._isNested && this.$__.wasPopulated)
              return L(this._id, c2);
            (t2 = I.options(i2, t2))._isNested = true, t2.json = r2, t2.minimize = n2, c2._parentOptions = t2, c2._skipSingleNestedGetters = true;
            var l2 = Object.assign({}, c2);
            l2._skipSingleNestedGetters = false;
            var f2 = t2.transform, p2 = L(this._doc, c2) || {};
            t2.getters && (!function(t3, e3, r3) {
              var n3, o3, i3 = t3.$__schema, s3 = Object.keys(i3.paths), a3 = s3.length, u3 = t3._doc;
              if (!u3)
                return e3;
              for (; a3--; ) {
                var c3 = (n3 = s3[a3]).split("."), l3 = c3.length, f3 = l3 - 1, p3 = e3, h3 = void 0;
                if (u3 = t3._doc, t3.$__isSelected(n3))
                  for (var y3 = 0; y3 < l3; ++y3) {
                    if (h3 = c3[y3], o3 = u3[h3], y3 === f3) {
                      var d3 = t3.get(n3);
                      p3[h3] = L(d3, r3);
                    } else {
                      if (null == o3) {
                        h3 in u3 && (p3[h3] = o3);
                        break;
                      }
                      p3 = p3[h3] || (p3[h3] = {});
                    }
                    u3 = o3;
                  }
              }
            }(this, p2, l2), t2.minimize && (p2 = function t3(r3) {
              var n3, o3, i3, s3 = Object.keys(r3), a3 = s3.length;
              for (; a3--; )
                o3 = s3[a3], i3 = r3[o3], I.isObject(i3) && !e2.isBuffer(i3) && (r3[o3] = t3(i3)), void 0 !== r3[o3] ? n3 = true : delete r3[o3];
              return n3 ? r3 : void 0;
            }(p2) || {})), (t2.virtuals || t2.getters && false !== t2.virtuals) && ct(this, p2, l2, t2), false === t2.versionKey && this.$__schema.options.versionKey && delete p2[this.$__schema.options.versionKey];
            var h2 = t2.transform;
            if (h2 && function(t3, e3) {
              var r3 = t3.$__schema, n3 = Object.keys(r3.paths || {});
              if (!t3._doc)
                return e3;
              for (var o3 = 0, i3 = n3; o3 < i3.length; o3++) {
                var s3 = i3[o3], a3 = r3.paths[s3];
                if ("function" == typeof a3.options.transform) {
                  var u3 = t3.get(s3), c3 = a3.options.transform.call(t3, u3);
                  lt(s3, c3), I.setValue(s3, c3, e3);
                } else if (null != a3.$embeddedSchemaType && "function" == typeof a3.$embeddedSchemaType.options.transform) {
                  for (var l3 = [].concat(t3.get(s3)), f3 = a3.$embeddedSchemaType.options.transform, p3 = 0; p3 < l3.length; ++p3) {
                    var h3 = f3.call(t3, l3[p3]);
                    l3[p3] = h3, lt(s3, h3);
                  }
                  e3[s3] = l3;
                }
              }
            }(this, p2), t2.useProjection && function(t3, e3) {
              var r3 = t3.$__schema, n3 = Object.keys(r3.paths || {});
              if (!t3._doc)
                return e3;
              var o3 = t3.$__.selected;
              void 0 === o3 && (o3 = {}, M.applyPaths(o3, r3));
              if (null == o3 || 0 === Object.keys(o3).length)
                return e3;
              for (var i3 = 0, s3 = n3; i3 < s3.length; i3++) {
                var a3 = s3[i3];
                null == o3[a3] || o3[a3] || delete e3[a3];
              }
            }(this, p2), true === h2 || u2.toObject && h2) {
              var y2 = t2.json ? u2.toJSON : u2.toObject;
              y2 && (h2 = "function" == typeof t2.transform ? t2.transform : y2.transform);
            } else
              t2.transform = f2;
            if ("function" == typeof h2) {
              var d2 = h2(this, p2, t2);
              void 0 !== d2 && (p2 = d2);
            }
            return p2;
          }, tt.prototype.toObject = function(t2) {
            return this.$toObject(t2);
          }, tt.prototype.toJSON = function(t2) {
            return this.$toObject(t2, true);
          }, tt.prototype.parent = function() {
            return this.$__.parent;
          }, tt.prototype.$parent = tt.prototype.parent, tt.prototype.inspect = function(t2) {
            var e3;
            I.isPOJO(t2) && ((e3 = t2).minimize = false);
            var r2 = this.toObject(e3);
            return null == r2 ? "MongooseDocument { " + r2 + " }" : r2;
          }, C.custom && (tt.prototype[C.custom] = tt.prototype.inspect), tt.prototype.toString = function() {
            var t2 = this.inspect();
            return "string" == typeof t2 ? t2 : C(t2);
          }, tt.prototype.equals = function(t2) {
            if (!t2)
              return false;
            var e3 = this.$__getValue("_id"), r2 = null != t2.$__ ? t2.$__getValue("_id") : t2;
            return e3 || r2 ? e3 && e3.equals ? e3.equals(r2) : e3 === r2 : U(this, t2);
          }, tt.prototype.populate = function() {
            if (0 === arguments.length)
              return this;
            var t2, e3 = this.$__.populate || (this.$__.populate = {}), r2 = I.args(arguments);
            if ("function" == typeof r2[r2.length - 1] && (t2 = r2.pop()), r2.length) {
              var n2, i2 = I.populate.apply(null, r2), s2 = o(i2);
              try {
                for (s2.s(); !(n2 = s2.n()).done; ) {
                  var a2 = n2.value;
                  e3[a2.path] = a2;
                }
              } catch (t3) {
                s2.e(t3);
              } finally {
                s2.f();
              }
            }
            if (t2) {
              var u2 = I.object.vals(e3);
              this.$__.populate = void 0;
              var c2 = this.constructor;
              if (this.$__isNested) {
                c2 = this.$__[G].constructor;
                var l2 = this.$__.nestedPath;
                u2.forEach(function(t3) {
                  t3.path = l2 + "." + t3.path;
                });
              }
              if (null != this.$session()) {
                var f2 = this.$session();
                u2.forEach(function(t3) {
                  null != t3.options ? "session" in t3.options || (t3.options.session = f2) : t3.options = { session: f2 };
                });
              }
              c2.populate(this, u2, t2);
            }
            return this;
          }, tt.prototype.$getPopulatedDocs = function() {
            var t2 = [];
            null != this.$__.populated && (t2 = t2.concat(Object.keys(this.$__.populated))), null != this.$$populatedVirtuals && (t2 = t2.concat(Object.keys(this.$$populatedVirtuals)));
            var e3, r2 = [], n2 = o(t2);
            try {
              for (n2.s(); !(e3 = n2.n()).done; ) {
                var i2 = e3.value, s2 = this.get(i2);
                Array.isArray(s2) ? r2 = r2.concat(s2) : s2 instanceof tt && r2.push(s2);
              }
            } catch (t3) {
              n2.e(t3);
            } finally {
              n2.f();
            }
            return r2;
          }, tt.prototype.execPopulate = function(t2) {
            var e3 = this, r2 = null != t2 && "function" != typeof t2;
            return r2 ? this.populate.apply(this, arguments).execPopulate() : O(t2, function(t3) {
              e3.populate(t3);
            }, this.constructor.events);
          }, tt.prototype.populated = function(t2, e3, r2) {
            if (null == e3 || true === e3) {
              if (!this.$__.populated)
                return;
              var n2 = t2.endsWith(".$*") ? t2.replace(/\.\$\*$/, "") : t2, o2 = this.$__.populated[n2];
              return o2 ? true === e3 ? o2 : o2.value : void 0;
            }
            this.$__.populated || (this.$__.populated = {}), this.$__.populated[t2] = { value: e3, options: r2 };
            for (var i2 = t2.split("."), s2 = 0; s2 < i2.length - 1; ++s2) {
              var a2 = i2.slice(0, s2 + 1).join("."), u2 = this.get(a2);
              if (null != u2 && null != u2.$__ && this.populated(a2)) {
                var c2 = i2.slice(s2 + 1).join(".");
                u2.populated(c2, e3, r2);
                break;
              }
            }
            return e3;
          }, tt.prototype.depopulate = function(t2) {
            var e3;
            "string" == typeof t2 && (t2 = t2.split(" "));
            var r2 = this.$$populatedVirtuals ? Object.keys(this.$$populatedVirtuals) : [], n2 = E(this, "$__.populated", {});
            if (0 === arguments.length) {
              var i2, s2 = o(r2);
              try {
                for (s2.s(); !(i2 = s2.n()).done; ) {
                  var a2 = i2.value;
                  delete this.$$populatedVirtuals[a2], delete this._doc[a2], delete n2[a2];
                }
              } catch (t3) {
                s2.e(t3);
              } finally {
                s2.f();
              }
              for (var u2 = Object.keys(n2), c2 = 0, l2 = u2; c2 < l2.length; c2++) {
                var f2 = l2[c2];
                (e3 = this.populated(f2)) && (delete n2[f2], I.setValue(f2, e3, this._doc));
              }
              return this;
            }
            var p2, h2 = o(t2);
            try {
              for (h2.s(); !(p2 = h2.n()).done; ) {
                var y2 = p2.value;
                e3 = this.populated(y2), delete n2[y2], -1 !== r2.indexOf(y2) ? (delete this.$$populatedVirtuals[y2], delete this._doc[y2]) : e3 && I.setValue(y2, e3, this._doc);
              }
            } catch (t3) {
              h2.e(t3);
            } finally {
              h2.f();
            }
            return this;
          }, tt.prototype.$__fullPath = function(t2) {
            return t2 || "";
          }, tt.prototype.getChanges = function() {
            var t2 = this.$__delta();
            return t2 ? t2[1] : {};
          }, tt.ValidationError = b, t.exports = tt;
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function i(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = r(14), f = r(3), p = r(4), h = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(l2, t2);
          var e2, r2, n2, c2 = a(l2);
          function l2(t3, e3, r3, n3, i2) {
            var s2;
            if (o(this, l2), arguments.length > 0) {
              var a2 = y(e3), f2 = d(e3), p2 = _(i2), h2 = v(null, t3, a2, r3, p2, f2);
              (s2 = c2.call(this, h2)).init(t3, e3, r3, n3, i2);
            } else
              s2 = c2.call(this, v());
            return u(s2);
          }
          return e2 = l2, (r2 = [{
            key: "toJSON",
            value: function() {
              return { stringValue: this.stringValue, valueType: this.valueType, kind: this.kind, value: this.value, path: this.path, reason: this.reason, name: this.name, message: this.message };
            }
          }, {
            key: "init",
            value: function(t3, e3, r3, n3, o2) {
              this.stringValue = y(e3), this.messageFormat = _(o2), this.kind = t3, this.value = e3, this.path = r3, this.reason = n3, this.valueType = d(e3);
            }
          }, {
            key: "copy",
            value: function(t3) {
              this.messageFormat = t3.messageFormat, this.stringValue = t3.stringValue, this.kind = t3.kind, this.value = t3.value, this.path = t3.path, this.reason = t3.reason, this.message = t3.message, this.valueType = t3.valueType;
            }
          }, { key: "setModel", value: function(t3) {
            this.model = t3, this.message = v(t3, this.kind, this.stringValue, this.path, this.messageFormat, this.valueType);
          } }]) && i(e2.prototype, r2), n2 && i(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), l2;
        }(l);
        function y(t2) {
          var e2 = p.inspect(t2);
          return (e2 = e2.replace(/^'|'$/g, '"')).startsWith('"') || (e2 = '"' + e2 + '"'), e2;
        }
        function d(t2) {
          if (null == t2)
            return "" + t2;
          var e2 = n(t2);
          return "object" !== e2 || "function" != typeof t2.constructor ? e2 : t2.constructor.name;
        }
        function _(t2) {
          var e2 = f(t2, "options.cast", null);
          if ("string" == typeof e2)
            return e2;
        }
        function v(t2, e2, r2, n2, o2, i2) {
          if (null != o2) {
            var s2 = o2.replace("{KIND}", e2).replace("{VALUE}", r2).replace("{PATH}", n2);
            return null != t2 && (s2 = s2.replace("{MODEL}", t2.modelName)), s2;
          }
          var a2 = "Cast to " + e2 + " failed for value " + r2 + (i2 ? " (type " + i2 + ")" : "") + ' at path "' + n2 + '"';
          return null != t2 && (a2 += ' for model "' + t2.modelName + '"'), a2;
        }
        Object.defineProperty(h.prototype, "name", { value: "CastError" }), t.exports = h;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function a(t2) {
          var e2 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
          return (a = function(t3) {
            if (null === t3 || (r2 = t3, -1 === Function.toString.call(r2).indexOf("[native code]")))
              return t3;
            var r2;
            if ("function" != typeof t3)
              throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== e2) {
              if (e2.has(t3))
                return e2.get(t3);
              e2.set(t3, n2);
            }
            function n2() {
              return u(t3, arguments, f(this).constructor);
            }
            return n2.prototype = Object.create(t3.prototype, { constructor: { value: n2, enumerable: false, writable: true, configurable: true } }), l(n2, t3);
          })(t2);
        }
        function u(t2, e2, r2) {
          return (u = c() ? Reflect.construct.bind() : function(t3, e3, r3) {
            var n2 = [null];
            n2.push.apply(n2, e3);
            var o2 = new (Function.bind.apply(t3, n2))();
            return r3 && l(o2, r3.prototype), o2;
          }).apply(null, arguments);
        }
        function c() {
          if ("undefined" == typeof Reflect || !Reflect.construct)
            return false;
          if (Reflect.construct.sham)
            return false;
          if ("function" == typeof Proxy)
            return true;
          try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            })), true;
          } catch (t2) {
            return false;
          }
        }
        function l(t2, e2) {
          return (l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function f(t2) {
          return (f = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var p = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && l(t3, e3);
          }(h, t2);
          var e2, r2, n2, a2, u2, p2 = (e2 = h, r2 = c(), function() {
            var t3, n3 = f(e2);
            if (r2) {
              var o2 = f(this).constructor;
              t3 = Reflect.construct(n3, arguments, o2);
            } else
              t3 = n3.apply(this, arguments);
            return s(this, t3);
          });
          function h() {
            return i(this, h), p2.apply(this, arguments);
          }
          return n2 = h, a2 && o(n2.prototype, a2), u2 && o(n2, u2), Object.defineProperty(n2, "prototype", { writable: false }), n2;
        }(a(Error));
        Object.defineProperty(p.prototype, "name", { value: "MongooseError" }), t.exports = p;
      }, function(t, e, r) {
        "use strict";
        var n = null;
        t.exports.get = function() {
          return n;
        }, t.exports.set = function(t2) {
          n = t2;
        };
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function r2(t2, r3) {
            return new e2(t2, r3);
          }
          t.exports = { normalizedFunctionString: function(t2) {
            return t2.toString().replace(/function *\(/, "function (");
          }, allocBuffer: "function" == typeof e2.alloc ? function() {
            return e2.alloc.apply(e2, arguments);
          } : r2, toBuffer: "function" == typeof e2.from ? function() {
            return e2.from.apply(e2, arguments);
          } : r2 };
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        e.internalToObjectOptions = { transform: false, virtuals: false, getters: false, _skipDepopulateTopLevel: true, depopulate: true, flattenDecimals: false, useProjection: false };
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          function o(t2, e3) {
            var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
            if (!r2) {
              if (Array.isArray(t2) || (r2 = function(t3, e4) {
                if (!t3)
                  return;
                if ("string" == typeof t3)
                  return i(t3, e4);
                var r3 = Object.prototype.toString.call(t3).slice(8, -1);
                "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
                if ("Map" === r3 || "Set" === r3)
                  return Array.from(t3);
                if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                  return i(t3, e4);
              }(t2)) || e3 && t2 && "number" == typeof t2.length) {
                r2 && (t2 = r2);
                var n2 = 0, o2 = function() {
                };
                return { s: o2, n: function() {
                  return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
                }, e: function(t3) {
                  throw t3;
                }, f: o2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s2, a2 = true, u2 = false;
            return { s: function() {
              r2 = r2.call(t2);
            }, n: function() {
              var t3 = r2.next();
              return a2 = t3.done, t3;
            }, e: function(t3) {
              u2 = true, s2 = t3;
            }, f: function() {
              try {
                a2 || null == r2.return || r2.return();
              } finally {
                if (u2)
                  throw s2;
              }
            } };
          }
          function i(t2, e3) {
            (null == e3 || e3 > t2.length) && (e3 = t2.length);
            for (var r2 = 0, n2 = new Array(e3); r2 < e3; r2++)
              n2[r2] = t2[r2];
            return n2;
          }
          function s(t2, e3) {
            if (!(t2 instanceof e3))
              throw new TypeError("Cannot call a class as a function");
          }
          function a(t2, e3) {
            for (var r2 = 0; r2 < e3.length; r2++) {
              var n2 = e3[r2];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
            }
          }
          function u() {
            return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e3, r2) {
              var n2 = c(t2, e3);
              if (n2) {
                var o2 = Object.getOwnPropertyDescriptor(n2, e3);
                return o2.get ? o2.get.call(arguments.length < 3 ? t2 : r2) : o2.value;
              }
            }).apply(this, arguments);
          }
          function c(t2, e3) {
            for (; !Object.prototype.hasOwnProperty.call(t2, e3) && null !== (t2 = h(t2)); )
              ;
            return t2;
          }
          function l(t2, e3) {
            return (l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e4) {
              return t3.__proto__ = e4, t3;
            })(t2, e3);
          }
          function f(t2) {
            var e3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (t3) {
                return false;
              }
            }();
            return function() {
              var r2, n2 = h(t2);
              if (e3) {
                var o2 = h(this).constructor;
                r2 = Reflect.construct(n2, arguments, o2);
              } else
                r2 = n2.apply(this, arguments);
              return p(this, r2);
            };
          }
          function p(t2, e3) {
            if (e3 && ("object" === n(e3) || "function" == typeof e3))
              return e3;
            if (void 0 !== e3)
              throw new TypeError("Derived constructors may only return object or undefined");
            return function(t3) {
              if (void 0 === t3)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return t3;
            }(t2);
          }
          function h(t2) {
            return (h = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
              return t3.__proto__ || Object.getPrototypeOf(t3);
            })(t2);
          }
          var y = r(86), d = r(12), _ = r(11), v = r(89), m = r(37), b = r(17).internalToObjectOptions, g = r(4), w = r(1), O = r(0).arrayAtomicsSymbol, S = r(0).arrayParentSymbol, j = r(0).arrayPathSymbol, A = r(0).arraySchemaSymbol, $ = r(0).documentArrayParent, E = Array.prototype.push, P = function(t2) {
            !function(t3, e3) {
              if ("function" != typeof e3 && null !== e3)
                throw new TypeError("Super expression must either be null or a function");
              t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && l(t3, e3);
            }(n2, t2);
            var r2 = f(n2);
            function n2() {
              return s(this, n2), r2.apply(this, arguments);
            }
            return function(t3, e3, r3) {
              e3 && a(t3.prototype, e3), r3 && a(t3, r3), Object.defineProperty(t3, "prototype", { writable: false });
            }(n2, [{
              key: "isMongooseDocumentArray",
              get: function() {
                return true;
              }
            }, {
              key: "toBSON",
              value: function() {
                return this.toObject(b);
              }
            }, { key: "map", value: function() {
              var t3 = u(h(n2.prototype), "map", this).apply(this, arguments);
              return t3[A] = null, t3[j] = null, t3[S] = null, t3;
            } }, { key: "_cast", value: function(t3, r3) {
              if (null == this[A])
                return t3;
              var n3 = this[A].casterConstructor;
              if ((n3.$isMongooseDocumentArray ? t3 && t3.isMongooseDocumentArray : t3 instanceof n3) || t3 && t3.constructor && t3.constructor.baseCasterConstructor === n3)
                return t3[$] && t3.__parentArray || (t3[$] = this[S], t3.__parentArray = this), t3.$setIndex(r3), t3;
              if (null == t3)
                return null;
              if ((e2.isBuffer(t3) || t3 instanceof _ || !w.isObject(t3)) && (t3 = { _id: t3 }), t3 && n3.discriminators && n3.schema && n3.schema.options && n3.schema.options.discriminatorKey)
                if ("string" == typeof t3[n3.schema.options.discriminatorKey] && n3.discriminators[t3[n3.schema.options.discriminatorKey]])
                  n3 = n3.discriminators[t3[n3.schema.options.discriminatorKey]];
                else {
                  var o2 = m(n3.discriminators, t3[n3.schema.options.discriminatorKey]);
                  o2 && (n3 = o2);
                }
              return n3.$isMongooseDocumentArray ? n3.cast(t3, this, void 0, void 0, r3) : new n3(t3, this, void 0, void 0, r3);
            } }, { key: "id", value: function(t3) {
              var e3, r3, n3;
              try {
                e3 = v(t3).toString();
              } catch (t4) {
                e3 = null;
              }
              var i2, s2 = o(this);
              try {
                for (s2.s(); !(i2 = s2.n()).done; ) {
                  var a2 = i2.value;
                  if (a2 && null != (n3 = a2.get("_id"))) {
                    if (n3 instanceof d) {
                      if (r3 || (r3 = String(t3)), r3 == n3._id)
                        return a2;
                    } else if (t3 instanceof _ || n3 instanceof _) {
                      if (e3 == n3)
                        return a2;
                    } else if (t3 == n3 || w.deepEqual(t3, n3))
                      return a2;
                  }
                }
              } catch (t4) {
                s2.e(t4);
              } finally {
                s2.f();
              }
              return null;
            } }, { key: "toObject", value: function(t3) {
              return [].concat(this.map(function(e3) {
                return null == e3 ? null : "function" != typeof e3.toObject ? e3 : e3.toObject(t3);
              }));
            } }, { key: "slice", value: function() {
              var t3 = u(h(n2.prototype), "slice", this).apply(this, arguments);
              return t3[S] = this[S], t3[j] = this[j], t3;
            } }, { key: "push", value: function() {
              var t3 = u(h(n2.prototype), "push", this).apply(this, arguments);
              return x(this), t3;
            } }, { key: "pull", value: function() {
              var t3 = u(h(n2.prototype), "pull", this).apply(this, arguments);
              return x(this), t3;
            } }, { key: "shift", value: function() {
              var t3 = u(h(n2.prototype), "shift", this).apply(this, arguments);
              return x(this), t3;
            } }, { key: "splice", value: function() {
              var t3 = u(h(n2.prototype), "splice", this).apply(this, arguments);
              return x(this), t3;
            } }, { key: "inspect", value: function() {
              return this.toObject();
            } }, {
              key: "create",
              value: function(t3) {
                var e3 = this[A].casterConstructor;
                if (t3 && e3.discriminators && e3.schema && e3.schema.options && e3.schema.options.discriminatorKey)
                  if ("string" == typeof t3[e3.schema.options.discriminatorKey] && e3.discriminators[t3[e3.schema.options.discriminatorKey]])
                    e3 = e3.discriminators[t3[e3.schema.options.discriminatorKey]];
                  else {
                    var r3 = m(e3.discriminators, t3[e3.schema.options.discriminatorKey]);
                    r3 && (e3 = r3);
                  }
                return new e3(t3, this);
              }
            }, { key: "notify", value: function(t3) {
              var e3 = this;
              return function r3(n3, o2) {
                for (var i2 = (o2 = o2 || e3).length; i2--; )
                  if (null != o2[i2]) {
                    switch (t3) {
                      case "save":
                        n3 = e3[i2];
                    }
                    o2[i2].isMongooseArray ? r3(n3, o2[i2]) : o2[i2] && o2[i2].emit(t3, n3);
                  }
              };
            } }, { key: "_markModified", value: function(t3, e3) {
              var r3, n3 = this[S];
              if (n3) {
                if (r3 = this[j], arguments.length)
                  if (null != e3) {
                    var o2 = t3.__index;
                    r3 = r3 + "." + o2 + "." + e3;
                  } else
                    r3 = r3 + "." + t3;
                if (null != r3 && r3.endsWith(".$"))
                  return this;
                n3.markModified(r3, arguments.length > 0 ? t3 : n3);
              }
              return this;
            } }]), n2;
          }(y);
          function x(t2) {
            var e3 = t2[S];
            if (e3 && null != e3.$__.populated) {
              var r2, n2 = o(Object.keys(e3.$__.populated).filter(function(e4) {
                return e4.startsWith(t2[j] + ".");
              }));
              try {
                var i2 = function() {
                  var n3 = r2.value, o2 = n3.slice((t2[j] + ".").length);
                  if (!Array.isArray(e3.$__.populated[n3].value))
                    return "continue";
                  e3.$__.populated[n3].value = t2.map(function(t3) {
                    return t3.populated(o2);
                  });
                };
                for (n2.s(); !(r2 = n2.n()).done; )
                  i2();
              } catch (t3) {
                n2.e(t3);
              } finally {
                n2.f();
              }
            }
          }
          g.inspect.custom && (P.prototype[g.inspect.custom] = P.prototype.inspect), t.exports = function(t2, e3, r2) {
            var n2 = new P();
            if (n2[O] = {}, n2[A] = void 0, Array.isArray(t2) && (t2[j] === e3 && t2[S] === r2 && (n2[O] = Object.assign({}, t2[O])), t2.forEach(function(t3) {
              E.call(n2, t3);
            })), n2[j] = e3, r2 && r2 instanceof d)
              for (n2[S] = r2, n2[A] = r2.schema.path(e3); null != n2 && null != n2[A] && n2[A].$isMongooseArray && !n2[A].$isMongooseDocumentArray; )
                n2[A] = n2[A].casterConstructor;
            return n2;
          };
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var o, i = "object" === ("undefined" == typeof Reflect ? "undefined" : n(Reflect)) ? Reflect : null, s = i && "function" == typeof i.apply ? i.apply : function(t2, e2, r2) {
          return Function.prototype.apply.call(t2, e2, r2);
        };
        o = i && "function" == typeof i.ownKeys ? i.ownKeys : Object.getOwnPropertySymbols ? function(t2) {
          return Object.getOwnPropertyNames(t2).concat(Object.getOwnPropertySymbols(t2));
        } : function(t2) {
          return Object.getOwnPropertyNames(t2);
        };
        var a = Number.isNaN || function(t2) {
          return t2 != t2;
        };
        function u() {
          u.init.call(this);
        }
        t.exports = u, t.exports.once = function(t2, e2) {
          return new Promise(function(r2, n2) {
            function o2(r3) {
              t2.removeListener(e2, i2), n2(r3);
            }
            function i2() {
              "function" == typeof t2.removeListener && t2.removeListener("error", o2), r2([].slice.call(arguments));
            }
            m(t2, e2, i2, { once: true }), "error" !== e2 && function(t3, e3, r3) {
              "function" == typeof t3.on && m(t3, "error", e3, r3);
            }(t2, o2, { once: true });
          });
        }, u.EventEmitter = u, u.prototype._events = void 0, u.prototype._eventsCount = 0, u.prototype._maxListeners = void 0;
        var c = 10;
        function l(t2) {
          if ("function" != typeof t2)
            throw new TypeError('The "listener" argument must be of type Function. Received type ' + n(t2));
        }
        function f(t2) {
          return void 0 === t2._maxListeners ? u.defaultMaxListeners : t2._maxListeners;
        }
        function p(t2, e2, r2, n2) {
          var o2, i2, s2, a2;
          if (l(r2), void 0 === (i2 = t2._events) ? (i2 = t2._events = /* @__PURE__ */ Object.create(null), t2._eventsCount = 0) : (void 0 !== i2.newListener && (t2.emit("newListener", e2, r2.listener ? r2.listener : r2), i2 = t2._events), s2 = i2[e2]), void 0 === s2)
            s2 = i2[e2] = r2, ++t2._eventsCount;
          else if ("function" == typeof s2 ? s2 = i2[e2] = n2 ? [r2, s2] : [s2, r2] : n2 ? s2.unshift(r2) : s2.push(r2), (o2 = f(t2)) > 0 && s2.length > o2 && !s2.warned) {
            s2.warned = true;
            var u2 = new Error("Possible EventEmitter memory leak detected. " + s2.length + " " + String(e2) + " listeners added. Use emitter.setMaxListeners() to increase limit");
            u2.name = "MaxListenersExceededWarning", u2.emitter = t2, u2.type = e2, u2.count = s2.length, a2 = u2, console && console.warn && console.warn(a2);
          }
          return t2;
        }
        function h() {
          if (!this.fired)
            return this.target.removeListener(this.type, this.wrapFn), this.fired = true, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
        }
        function y(t2, e2, r2) {
          var n2 = { fired: false, wrapFn: void 0, target: t2, type: e2, listener: r2 }, o2 = h.bind(n2);
          return o2.listener = r2, n2.wrapFn = o2, o2;
        }
        function d(t2, e2, r2) {
          var n2 = t2._events;
          if (void 0 === n2)
            return [];
          var o2 = n2[e2];
          return void 0 === o2 ? [] : "function" == typeof o2 ? r2 ? [o2.listener || o2] : [o2] : r2 ? function(t3) {
            for (var e3 = new Array(t3.length), r3 = 0; r3 < e3.length; ++r3)
              e3[r3] = t3[r3].listener || t3[r3];
            return e3;
          }(o2) : v(o2, o2.length);
        }
        function _(t2) {
          var e2 = this._events;
          if (void 0 !== e2) {
            var r2 = e2[t2];
            if ("function" == typeof r2)
              return 1;
            if (void 0 !== r2)
              return r2.length;
          }
          return 0;
        }
        function v(t2, e2) {
          for (var r2 = new Array(e2), n2 = 0; n2 < e2; ++n2)
            r2[n2] = t2[n2];
          return r2;
        }
        function m(t2, e2, r2, o2) {
          if ("function" == typeof t2.on)
            o2.once ? t2.once(e2, r2) : t2.on(e2, r2);
          else {
            if ("function" != typeof t2.addEventListener)
              throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + n(t2));
            t2.addEventListener(e2, function n2(i2) {
              o2.once && t2.removeEventListener(e2, n2), r2(i2);
            });
          }
        }
        Object.defineProperty(u, "defaultMaxListeners", { enumerable: true, get: function() {
          return c;
        }, set: function(t2) {
          if ("number" != typeof t2 || t2 < 0 || a(t2))
            throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + t2 + ".");
          c = t2;
        } }), u.init = function() {
          void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
        }, u.prototype.setMaxListeners = function(t2) {
          if ("number" != typeof t2 || t2 < 0 || a(t2))
            throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + t2 + ".");
          return this._maxListeners = t2, this;
        }, u.prototype.getMaxListeners = function() {
          return f(this);
        }, u.prototype.emit = function(t2) {
          for (var e2 = [], r2 = 1; r2 < arguments.length; r2++)
            e2.push(arguments[r2]);
          var n2 = "error" === t2, o2 = this._events;
          if (void 0 !== o2)
            n2 = n2 && void 0 === o2.error;
          else if (!n2)
            return false;
          if (n2) {
            var i2;
            if (e2.length > 0 && (i2 = e2[0]), i2 instanceof Error)
              throw i2;
            var a2 = new Error("Unhandled error." + (i2 ? " (" + i2.message + ")" : ""));
            throw a2.context = i2, a2;
          }
          var u2 = o2[t2];
          if (void 0 === u2)
            return false;
          if ("function" == typeof u2)
            s(u2, this, e2);
          else {
            var c2 = u2.length, l2 = v(u2, c2);
            for (r2 = 0; r2 < c2; ++r2)
              s(l2[r2], this, e2);
          }
          return true;
        }, u.prototype.addListener = function(t2, e2) {
          return p(this, t2, e2, false);
        }, u.prototype.on = u.prototype.addListener, u.prototype.prependListener = function(t2, e2) {
          return p(this, t2, e2, true);
        }, u.prototype.once = function(t2, e2) {
          return l(e2), this.on(t2, y(this, t2, e2)), this;
        }, u.prototype.prependOnceListener = function(t2, e2) {
          return l(e2), this.prependListener(t2, y(this, t2, e2)), this;
        }, u.prototype.removeListener = function(t2, e2) {
          var r2, n2, o2, i2, s2;
          if (l(e2), void 0 === (n2 = this._events))
            return this;
          if (void 0 === (r2 = n2[t2]))
            return this;
          if (r2 === e2 || r2.listener === e2)
            0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : (delete n2[t2], n2.removeListener && this.emit("removeListener", t2, r2.listener || e2));
          else if ("function" != typeof r2) {
            for (o2 = -1, i2 = r2.length - 1; i2 >= 0; i2--)
              if (r2[i2] === e2 || r2[i2].listener === e2) {
                s2 = r2[i2].listener, o2 = i2;
                break;
              }
            if (o2 < 0)
              return this;
            0 === o2 ? r2.shift() : function(t3, e3) {
              for (; e3 + 1 < t3.length; e3++)
                t3[e3] = t3[e3 + 1];
              t3.pop();
            }(r2, o2), 1 === r2.length && (n2[t2] = r2[0]), void 0 !== n2.removeListener && this.emit("removeListener", t2, s2 || e2);
          }
          return this;
        }, u.prototype.off = u.prototype.removeListener, u.prototype.removeAllListeners = function(t2) {
          var e2, r2, n2;
          if (void 0 === (r2 = this._events))
            return this;
          if (void 0 === r2.removeListener)
            return 0 === arguments.length ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : void 0 !== r2[t2] && (0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : delete r2[t2]), this;
          if (0 === arguments.length) {
            var o2, i2 = Object.keys(r2);
            for (n2 = 0; n2 < i2.length; ++n2)
              "removeListener" !== (o2 = i2[n2]) && this.removeAllListeners(o2);
            return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
          }
          if ("function" == typeof (e2 = r2[t2]))
            this.removeListener(t2, e2);
          else if (void 0 !== e2)
            for (n2 = e2.length - 1; n2 >= 0; n2--)
              this.removeListener(t2, e2[n2]);
          return this;
        }, u.prototype.listeners = function(t2) {
          return d(this, t2, true);
        }, u.prototype.rawListeners = function(t2) {
          return d(this, t2, false);
        }, u.listenerCount = function(t2, e2) {
          return "function" == typeof t2.listenerCount ? t2.listenerCount(e2) : _.call(t2, e2);
        }, u.prototype.listenerCount = _, u.prototype.eventNames = function() {
          return this._eventsCount > 0 ? o(this._events) : [];
        };
      }, function(t, e, r) {
        "use strict";
        t.exports = r(15).get().Decimal128;
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          t.exports = function(t2) {
            return !!e2.isBuffer(t2) || "[object Object]" === Object.prototype.toString.call(t2);
          };
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          var r2 = e2.nextTick.bind(e2);
          t.exports = function(t2) {
            return r2(t2);
          };
        }).call(this, r(10));
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          var o = r(118);
          function i(t2, e3) {
            if (t2 === e3)
              return 0;
            for (var r2 = t2.length, n2 = e3.length, o2 = 0, i2 = Math.min(r2, n2); o2 < i2; ++o2)
              if (t2[o2] !== e3[o2]) {
                r2 = t2[o2], n2 = e3[o2];
                break;
              }
            return r2 < n2 ? -1 : n2 < r2 ? 1 : 0;
          }
          function s(t2) {
            return e2.Buffer && "function" == typeof e2.Buffer.isBuffer ? e2.Buffer.isBuffer(t2) : !(null == t2 || !t2._isBuffer);
          }
          var a = r(4), u = Object.prototype.hasOwnProperty, c = Array.prototype.slice, l = "foo" === function() {
          }.name;
          function f(t2) {
            return Object.prototype.toString.call(t2);
          }
          function p(t2) {
            return !s(t2) && ("function" == typeof e2.ArrayBuffer && ("function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t2) : !!t2 && (t2 instanceof DataView || !!(t2.buffer && t2.buffer instanceof ArrayBuffer))));
          }
          var h = t.exports = b, y = /\s*function\s+([^\(\s]*)\s*/;
          function d(t2) {
            if (a.isFunction(t2)) {
              if (l)
                return t2.name;
              var e3 = t2.toString().match(y);
              return e3 && e3[1];
            }
          }
          function _(t2, e3) {
            return "string" == typeof t2 ? t2.length < e3 ? t2 : t2.slice(0, e3) : t2;
          }
          function v(t2) {
            if (l || !a.isFunction(t2))
              return a.inspect(t2);
            var e3 = d(t2);
            return "[Function" + (e3 ? ": " + e3 : "") + "]";
          }
          function m(t2, e3, r2, n2, o2) {
            throw new h.AssertionError({ message: r2, actual: t2, expected: e3, operator: n2, stackStartFunction: o2 });
          }
          function b(t2, e3) {
            t2 || m(t2, true, e3, "==", h.ok);
          }
          function g(t2, e3, r2, o2) {
            if (t2 === e3)
              return true;
            if (s(t2) && s(e3))
              return 0 === i(t2, e3);
            if (a.isDate(t2) && a.isDate(e3))
              return t2.getTime() === e3.getTime();
            if (a.isRegExp(t2) && a.isRegExp(e3))
              return t2.source === e3.source && t2.global === e3.global && t2.multiline === e3.multiline && t2.lastIndex === e3.lastIndex && t2.ignoreCase === e3.ignoreCase;
            if (null !== t2 && "object" === n(t2) || null !== e3 && "object" === n(e3)) {
              if (p(t2) && p(e3) && f(t2) === f(e3) && !(t2 instanceof Float32Array || t2 instanceof Float64Array))
                return 0 === i(new Uint8Array(t2.buffer), new Uint8Array(e3.buffer));
              if (s(t2) !== s(e3))
                return false;
              var u2 = (o2 = o2 || { actual: [], expected: [] }).actual.indexOf(t2);
              return -1 !== u2 && u2 === o2.expected.indexOf(e3) || (o2.actual.push(t2), o2.expected.push(e3), function(t3, e4, r3, n2) {
                if (null == t3 || null == e4)
                  return false;
                if (a.isPrimitive(t3) || a.isPrimitive(e4))
                  return t3 === e4;
                if (r3 && Object.getPrototypeOf(t3) !== Object.getPrototypeOf(e4))
                  return false;
                var o3 = w(t3), i2 = w(e4);
                if (o3 && !i2 || !o3 && i2)
                  return false;
                if (o3)
                  return t3 = c.call(t3), e4 = c.call(e4), g(t3, e4, r3);
                var s2, u3, l2 = j(t3), f2 = j(e4);
                if (l2.length !== f2.length)
                  return false;
                for (l2.sort(), f2.sort(), u3 = l2.length - 1; u3 >= 0; u3--)
                  if (l2[u3] !== f2[u3])
                    return false;
                for (u3 = l2.length - 1; u3 >= 0; u3--)
                  if (s2 = l2[u3], !g(t3[s2], e4[s2], r3, n2))
                    return false;
                return true;
              }(t2, e3, r2, o2));
            }
            return r2 ? t2 === e3 : t2 == e3;
          }
          function w(t2) {
            return "[object Arguments]" == Object.prototype.toString.call(t2);
          }
          function O(t2, e3) {
            if (!t2 || !e3)
              return false;
            if ("[object RegExp]" == Object.prototype.toString.call(e3))
              return e3.test(t2);
            try {
              if (t2 instanceof e3)
                return true;
            } catch (t3) {
            }
            return !Error.isPrototypeOf(e3) && true === e3.call({}, t2);
          }
          function S(t2, e3, r2, n2) {
            var o2;
            if ("function" != typeof e3)
              throw new TypeError('"block" argument must be a function');
            "string" == typeof r2 && (n2 = r2, r2 = null), o2 = function(t3) {
              var e4;
              try {
                t3();
              } catch (t4) {
                e4 = t4;
              }
              return e4;
            }(e3), n2 = (r2 && r2.name ? " (" + r2.name + ")." : ".") + (n2 ? " " + n2 : "."), t2 && !o2 && m(o2, r2, "Missing expected exception" + n2);
            var i2 = "string" == typeof n2, s2 = !t2 && o2 && !r2;
            if ((!t2 && a.isError(o2) && i2 && O(o2, r2) || s2) && m(o2, r2, "Got unwanted exception" + n2), t2 && o2 && r2 && !O(o2, r2) || !t2 && o2)
              throw o2;
          }
          h.AssertionError = function(t2) {
            this.name = "AssertionError", this.actual = t2.actual, this.expected = t2.expected, this.operator = t2.operator, t2.message ? (this.message = t2.message, this.generatedMessage = false) : (this.message = function(t3) {
              return _(v(t3.actual), 128) + " " + t3.operator + " " + _(v(t3.expected), 128);
            }(this), this.generatedMessage = true);
            var e3 = t2.stackStartFunction || m;
            if (Error.captureStackTrace)
              Error.captureStackTrace(this, e3);
            else {
              var r2 = new Error();
              if (r2.stack) {
                var n2 = r2.stack, o2 = d(e3), i2 = n2.indexOf("\n" + o2);
                if (i2 >= 0) {
                  var s2 = n2.indexOf("\n", i2 + 1);
                  n2 = n2.substring(s2 + 1);
                }
                this.stack = n2;
              }
            }
          }, a.inherits(h.AssertionError, Error), h.fail = m, h.ok = b, h.equal = function(t2, e3, r2) {
            t2 != e3 && m(t2, e3, r2, "==", h.equal);
          }, h.notEqual = function(t2, e3, r2) {
            t2 == e3 && m(t2, e3, r2, "!=", h.notEqual);
          }, h.deepEqual = function(t2, e3, r2) {
            g(t2, e3, false) || m(t2, e3, r2, "deepEqual", h.deepEqual);
          }, h.deepStrictEqual = function(t2, e3, r2) {
            g(t2, e3, true) || m(t2, e3, r2, "deepStrictEqual", h.deepStrictEqual);
          }, h.notDeepEqual = function(t2, e3, r2) {
            g(t2, e3, false) && m(t2, e3, r2, "notDeepEqual", h.notDeepEqual);
          }, h.notDeepStrictEqual = function t2(e3, r2, n2) {
            g(e3, r2, true) && m(e3, r2, n2, "notDeepStrictEqual", t2);
          }, h.strictEqual = function(t2, e3, r2) {
            t2 !== e3 && m(t2, e3, r2, "===", h.strictEqual);
          }, h.notStrictEqual = function(t2, e3, r2) {
            t2 === e3 && m(t2, e3, r2, "!==", h.notStrictEqual);
          }, h.throws = function(t2, e3, r2) {
            S(true, t2, e3, r2);
          }, h.doesNotThrow = function(t2, e3, r2) {
            S(false, t2, e3, r2);
          }, h.ifError = function(t2) {
            if (t2)
              throw t2;
          }, h.strict = o(function t2(e3, r2) {
            e3 || m(e3, true, r2, "==", t2);
          }, h, { equal: h.strictEqual, deepEqual: h.deepStrictEqual, notEqual: h.notStrictEqual, notDeepEqual: h.notDeepStrictEqual }), h.strict.strict = h.strict;
          var j = Object.keys || function(t2) {
            var e3 = [];
            for (var r2 in t2)
              u.call(t2, r2) && e3.push(r2);
            return e3;
          };
        }).call(this, r(9));
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2) {
          if (null != t2 && "function" == typeof t2.constructor)
            return t2.constructor.name;
        };
      }, function(t, e) {
        function r(t2, e2) {
          if (!(this instanceof r))
            return new r(t2, e2);
          this._bsontype = "Long", this.low_ = 0 | t2, this.high_ = 0 | e2;
        }
        r.prototype.toInt = function() {
          return this.low_;
        }, r.prototype.toNumber = function() {
          return this.high_ * r.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();
        }, r.prototype.toBigInt = function() {
          return BigInt(this.toString());
        }, r.prototype.toJSON = function() {
          return this.toString();
        }, r.prototype.toString = function(t2) {
          var e2 = t2 || 10;
          if (e2 < 2 || 36 < e2)
            throw Error("radix out of range: " + e2);
          if (this.isZero())
            return "0";
          if (this.isNegative()) {
            if (this.equals(r.MIN_VALUE)) {
              var n = r.fromNumber(e2), o = this.div(n), i = o.multiply(n).subtract(this);
              return o.toString(e2) + i.toInt().toString(e2);
            }
            return "-" + this.negate().toString(e2);
          }
          var s = r.fromNumber(Math.pow(e2, 6));
          i = this;
          for (var a = ""; !i.isZero(); ) {
            var u = i.div(s), c = i.subtract(u.multiply(s)).toInt().toString(e2);
            if ((i = u).isZero())
              return c + a;
            for (; c.length < 6; )
              c = "0" + c;
            a = "" + c + a;
          }
        }, r.prototype.getHighBits = function() {
          return this.high_;
        }, r.prototype.getLowBits = function() {
          return this.low_;
        }, r.prototype.getLowBitsUnsigned = function() {
          return this.low_ >= 0 ? this.low_ : r.TWO_PWR_32_DBL_ + this.low_;
        }, r.prototype.getNumBitsAbs = function() {
          if (this.isNegative())
            return this.equals(r.MIN_VALUE) ? 64 : this.negate().getNumBitsAbs();
          for (var t2 = 0 !== this.high_ ? this.high_ : this.low_, e2 = 31; e2 > 0 && 0 == (t2 & 1 << e2); e2--)
            ;
          return 0 !== this.high_ ? e2 + 33 : e2 + 1;
        }, r.prototype.isZero = function() {
          return 0 === this.high_ && 0 === this.low_;
        }, r.prototype.isNegative = function() {
          return this.high_ < 0;
        }, r.prototype.isOdd = function() {
          return 1 == (1 & this.low_);
        }, r.prototype.equals = function(t2) {
          return this.high_ === t2.high_ && this.low_ === t2.low_;
        }, r.prototype.notEquals = function(t2) {
          return this.high_ !== t2.high_ || this.low_ !== t2.low_;
        }, r.prototype.lessThan = function(t2) {
          return this.compare(t2) < 0;
        }, r.prototype.lessThanOrEqual = function(t2) {
          return this.compare(t2) <= 0;
        }, r.prototype.greaterThan = function(t2) {
          return this.compare(t2) > 0;
        }, r.prototype.greaterThanOrEqual = function(t2) {
          return this.compare(t2) >= 0;
        }, r.prototype.compare = function(t2) {
          if (this.equals(t2))
            return 0;
          var e2 = this.isNegative(), r2 = t2.isNegative();
          return e2 && !r2 ? -1 : !e2 && r2 ? 1 : this.subtract(t2).isNegative() ? -1 : 1;
        }, r.prototype.negate = function() {
          return this.equals(r.MIN_VALUE) ? r.MIN_VALUE : this.not().add(r.ONE);
        }, r.prototype.add = function(t2) {
          var e2 = this.high_ >>> 16, n = 65535 & this.high_, o = this.low_ >>> 16, i = 65535 & this.low_, s = t2.high_ >>> 16, a = 65535 & t2.high_, u = t2.low_ >>> 16, c = 0, l = 0, f = 0, p = 0;
          return f += (p += i + (65535 & t2.low_)) >>> 16, p &= 65535, l += (f += o + u) >>> 16, f &= 65535, c += (l += n + a) >>> 16, l &= 65535, c += e2 + s, c &= 65535, r.fromBits(f << 16 | p, c << 16 | l);
        }, r.prototype.subtract = function(t2) {
          return this.add(t2.negate());
        }, r.prototype.multiply = function(t2) {
          if (this.isZero())
            return r.ZERO;
          if (t2.isZero())
            return r.ZERO;
          if (this.equals(r.MIN_VALUE))
            return t2.isOdd() ? r.MIN_VALUE : r.ZERO;
          if (t2.equals(r.MIN_VALUE))
            return this.isOdd() ? r.MIN_VALUE : r.ZERO;
          if (this.isNegative())
            return t2.isNegative() ? this.negate().multiply(t2.negate()) : this.negate().multiply(t2).negate();
          if (t2.isNegative())
            return this.multiply(t2.negate()).negate();
          if (this.lessThan(r.TWO_PWR_24_) && t2.lessThan(r.TWO_PWR_24_))
            return r.fromNumber(this.toNumber() * t2.toNumber());
          var e2 = this.high_ >>> 16, n = 65535 & this.high_, o = this.low_ >>> 16, i = 65535 & this.low_, s = t2.high_ >>> 16, a = 65535 & t2.high_, u = t2.low_ >>> 16, c = 65535 & t2.low_, l = 0, f = 0, p = 0, h = 0;
          return p += (h += i * c) >>> 16, h &= 65535, f += (p += o * c) >>> 16, p &= 65535, f += (p += i * u) >>> 16, p &= 65535, l += (f += n * c) >>> 16, f &= 65535, l += (f += o * u) >>> 16, f &= 65535, l += (f += i * a) >>> 16, f &= 65535, l += e2 * c + n * u + o * a + i * s, l &= 65535, r.fromBits(p << 16 | h, l << 16 | f);
        }, r.prototype.div = function(t2) {
          if (t2.isZero())
            throw Error("division by zero");
          if (this.isZero())
            return r.ZERO;
          if (this.equals(r.MIN_VALUE)) {
            if (t2.equals(r.ONE) || t2.equals(r.NEG_ONE))
              return r.MIN_VALUE;
            if (t2.equals(r.MIN_VALUE))
              return r.ONE;
            var e2 = this.shiftRight(1).div(t2).shiftLeft(1);
            if (e2.equals(r.ZERO))
              return t2.isNegative() ? r.ONE : r.NEG_ONE;
            var n = this.subtract(t2.multiply(e2));
            return e2.add(n.div(t2));
          }
          if (t2.equals(r.MIN_VALUE))
            return r.ZERO;
          if (this.isNegative())
            return t2.isNegative() ? this.negate().div(t2.negate()) : this.negate().div(t2).negate();
          if (t2.isNegative())
            return this.div(t2.negate()).negate();
          var o = r.ZERO;
          for (n = this; n.greaterThanOrEqual(t2); ) {
            e2 = Math.max(1, Math.floor(n.toNumber() / t2.toNumber()));
            for (var i = Math.ceil(Math.log(e2) / Math.LN2), s = i <= 48 ? 1 : Math.pow(2, i - 48), a = r.fromNumber(e2), u = a.multiply(t2); u.isNegative() || u.greaterThan(n); )
              e2 -= s, u = (a = r.fromNumber(e2)).multiply(t2);
            a.isZero() && (a = r.ONE), o = o.add(a), n = n.subtract(u);
          }
          return o;
        }, r.prototype.modulo = function(t2) {
          return this.subtract(this.div(t2).multiply(t2));
        }, r.prototype.not = function() {
          return r.fromBits(~this.low_, ~this.high_);
        }, r.prototype.and = function(t2) {
          return r.fromBits(this.low_ & t2.low_, this.high_ & t2.high_);
        }, r.prototype.or = function(t2) {
          return r.fromBits(this.low_ | t2.low_, this.high_ | t2.high_);
        }, r.prototype.xor = function(t2) {
          return r.fromBits(this.low_ ^ t2.low_, this.high_ ^ t2.high_);
        }, r.prototype.shiftLeft = function(t2) {
          if (0 === (t2 &= 63))
            return this;
          var e2 = this.low_;
          if (t2 < 32) {
            var n = this.high_;
            return r.fromBits(e2 << t2, n << t2 | e2 >>> 32 - t2);
          }
          return r.fromBits(0, e2 << t2 - 32);
        }, r.prototype.shiftRight = function(t2) {
          if (0 === (t2 &= 63))
            return this;
          var e2 = this.high_;
          if (t2 < 32) {
            var n = this.low_;
            return r.fromBits(n >>> t2 | e2 << 32 - t2, e2 >> t2);
          }
          return r.fromBits(e2 >> t2 - 32, e2 >= 0 ? 0 : -1);
        }, r.prototype.shiftRightUnsigned = function(t2) {
          if (0 === (t2 &= 63))
            return this;
          var e2 = this.high_;
          if (t2 < 32) {
            var n = this.low_;
            return r.fromBits(n >>> t2 | e2 << 32 - t2, e2 >>> t2);
          }
          return 32 === t2 ? r.fromBits(e2, 0) : r.fromBits(e2 >>> t2 - 32, 0);
        }, r.fromInt = function(t2) {
          if (-128 <= t2 && t2 < 128) {
            var e2 = r.INT_CACHE_[t2];
            if (e2)
              return e2;
          }
          var n = new r(0 | t2, t2 < 0 ? -1 : 0);
          return -128 <= t2 && t2 < 128 && (r.INT_CACHE_[t2] = n), n;
        }, r.fromNumber = function(t2) {
          return isNaN(t2) || !isFinite(t2) ? r.ZERO : t2 <= -r.TWO_PWR_63_DBL_ ? r.MIN_VALUE : t2 + 1 >= r.TWO_PWR_63_DBL_ ? r.MAX_VALUE : t2 < 0 ? r.fromNumber(-t2).negate() : new r(t2 % r.TWO_PWR_32_DBL_ | 0, t2 / r.TWO_PWR_32_DBL_ | 0);
        }, r.fromBigInt = function(t2) {
          return r.fromString(t2.toString(10), 10);
        }, r.fromBits = function(t2, e2) {
          return new r(t2, e2);
        }, r.fromString = function(t2, e2) {
          if (0 === t2.length)
            throw Error("number format error: empty string");
          var n = e2 || 10;
          if (n < 2 || 36 < n)
            throw Error("radix out of range: " + n);
          if ("-" === t2.charAt(0))
            return r.fromString(t2.substring(1), n).negate();
          if (t2.indexOf("-") >= 0)
            throw Error('number format error: interior "-" character: ' + t2);
          for (var o = r.fromNumber(Math.pow(n, 8)), i = r.ZERO, s = 0; s < t2.length; s += 8) {
            var a = Math.min(8, t2.length - s), u = parseInt(t2.substring(s, s + a), n);
            if (a < 8) {
              var c = r.fromNumber(Math.pow(n, a));
              i = i.multiply(c).add(r.fromNumber(u));
            } else
              i = (i = i.multiply(o)).add(r.fromNumber(u));
          }
          return i;
        }, r.INT_CACHE_ = {}, r.TWO_PWR_16_DBL_ = 65536, r.TWO_PWR_24_DBL_ = 1 << 24, r.TWO_PWR_32_DBL_ = r.TWO_PWR_16_DBL_ * r.TWO_PWR_16_DBL_, r.TWO_PWR_31_DBL_ = r.TWO_PWR_32_DBL_ / 2, r.TWO_PWR_48_DBL_ = r.TWO_PWR_32_DBL_ * r.TWO_PWR_16_DBL_, r.TWO_PWR_64_DBL_ = r.TWO_PWR_32_DBL_ * r.TWO_PWR_32_DBL_, r.TWO_PWR_63_DBL_ = r.TWO_PWR_64_DBL_ / 2, r.ZERO = r.fromInt(0), r.ONE = r.fromInt(1), r.NEG_ONE = r.fromInt(-1), r.MAX_VALUE = r.fromBits(-1, 2147483647), r.MIN_VALUE = r.fromBits(0, -2147483648), r.TWO_PWR_24_ = r.fromInt(1 << 24), t.exports = r, t.exports.Long = r;
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        var i = r(65), s = r(20), a = r(11), u = r(51), c = r(31), l = r(66), f = r(67), p = r(21), h = r(0), y = r(1);
        function d(t2, e2, r2) {
          if (null == t2)
            return t2;
          if (Array.isArray(t2))
            return function(t3, e3) {
              var r3, o2 = [], i2 = n(t3);
              try {
                for (i2.s(); !(r3 = i2.n()).done; ) {
                  var s2 = r3.value;
                  o2.push(d(s2, e3, true));
                }
              } catch (t4) {
                i2.e(t4);
              } finally {
                i2.f();
              }
              return o2;
            }(t2, e2);
          if (c(t2))
            return e2 && e2._skipSingleNestedGetters && t2.$isSingleNested && (e2 = Object.assign({}, e2, { getters: false })), y.isPOJO(t2) && null != t2.$__ && null != t2._doc ? t2._doc : e2 && e2.json && "function" == typeof t2.toJSON ? t2.toJSON(e2) : t2.toObject(e2);
          if (t2.constructor)
            switch (l(t2.constructor)) {
              case "Object":
                return _(t2, e2, r2);
              case "Date":
                return new t2.constructor(+t2);
              case "RegExp":
                return i(t2);
            }
          return t2 instanceof a ? new a(t2.id) : f(t2, "Decimal128") ? e2 && e2.flattenDecimals ? t2.toJSON() : s.fromString(t2.toString()) : !t2.constructor && p(t2) ? _(t2, e2, r2) : t2[h.schemaTypeSymbol] ? t2.clone() : e2 && e2.bson && "function" == typeof t2.toBSON ? t2 : null != t2.valueOf ? t2.valueOf() : _(t2, e2, r2);
        }
        function _(t2, e2, r2) {
          for (var n2, o2 = e2 && e2.minimize, i2 = {}, s2 = 0, a2 = Object.keys(t2); s2 < a2.length; s2++) {
            var c2 = a2[s2];
            if (!u.has(c2)) {
              var l2 = d(t2[c2], e2);
              o2 && void 0 === l2 || (false === o2 && void 0 === l2 ? delete i2[c2] : (n2 || (n2 = true), i2[c2] = l2));
            }
          }
          return o2 && !r2 ? n2 && i2 : i2;
        }
        t.exports = d;
      }, function(t, e, r) {
        "use strict";
        var n = r(68), o = r(22), i = Symbol("mongoose:emitted");
        t.exports = function(t2, e2, r2, s) {
          return "function" == typeof t2 ? e2(function(e3) {
            if (null == e3)
              t2.apply(this, arguments);
            else {
              null != r2 && null != r2.listeners && r2.listeners("error").length > 0 && !e3[i] && (e3[i] = true, r2.emit("error", e3));
              try {
                t2(e3);
              } catch (e4) {
                return o(function() {
                  throw e4;
                });
              }
            }
          }) : new (s = s || n.get())(function(t3, n2) {
            e2(function(e3, o2) {
              return null != e3 ? (null != r2 && null != r2.listeners && r2.listeners("error").length > 0 && !e3[i] && (e3[i] = true, r2.emit("error", e3)), n2(e3)) : arguments.length > 2 ? t3(Array.prototype.slice.call(arguments, 1)) : void t3(o2);
            });
          });
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(6), o = r(35), i = r(21), s = r(1);
        function a(t2, e2) {
          if (e2 && e2.default) {
            var r2 = e2.default;
            Array.isArray(r2) && 0 === r2.length ? e2.default = Array : !e2.shared && i(r2) && 0 === Object.keys(r2).length && (e2.default = function() {
              return {};
            });
          }
          n.call(this, t2, e2, "Mixed"), this[o.schemaMixedSymbol] = true;
        }
        a.schemaName = "Mixed", a.defaultOptions = {}, a.prototype = Object.create(n.prototype), a.prototype.constructor = a, a.get = n.get, a.set = n.set, a.prototype.cast = function(t2) {
          return t2 instanceof Error ? s.errorToPOJO(t2) : t2;
        }, a.prototype.castForQuery = function(t2, e2) {
          return 2 === arguments.length ? e2 : t2;
        }, t.exports = a;
      }, function(t, e, r) {
        "use strict";
        var n = r(62)(), o = r(19).EventEmitter, i = r(33), s = r(22), a = r(17).internalToObjectOptions, u = r(3), c = r(27), l = r(4), f = r(0).documentArrayParent, p = r(0).validatorErrorSymbol;
        function h(t2, e2, r2, o2, i2) {
          var s2 = {};
          null != e2 && e2.isMongooseDocumentArray ? (this.__parentArray = e2, this[f] = e2.$parent()) : (this.__parentArray = void 0, this[f] = void 0), this.$setIndex(i2), this.$isDocumentArrayElement = true, null != this[f] && (s2.defaults = this[f].$__.$options.defaults), n.call(this, t2, o2, r2, s2);
          var a2 = this;
          this.on("isNew", function(t3) {
            a2.isNew = t3;
          }), a2.on("save", function() {
            a2.constructor.emit("save", a2);
          });
        }
        for (var y in h.prototype = Object.create(n.prototype), h.prototype.constructor = h, o.prototype)
          h[y] = o.prototype[y];
        h.prototype.toBSON = function() {
          return this.toObject(a);
        }, h.prototype.$setIndex = function(t2) {
          if (this.__index = t2, null != u(this, "$__.validationError", null))
            for (var e2 = 0, r2 = Object.keys(this.$__.validationError.errors); e2 < r2.length; e2++) {
              var n2 = r2[e2];
              this.invalidate(n2, this.$__.validationError.errors[n2]);
            }
        }, h.prototype.markModified = function(t2) {
          if (this.$__.activePaths.modify(t2), this.__parentArray) {
            var e2 = this.__parentArray.$path() + ".0." + t2;
            this.isNew && this.ownerDocument().$__isSelected(e2) ? this.__parentArray._markModified() : this.__parentArray._markModified(this, t2);
          }
        }, h.prototype.populate = function() {
          throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`');
        }, h.prototype.save = function(t2, e2) {
          var r2 = this;
          return "function" == typeof t2 && (e2 = t2, t2 = {}), (t2 = t2 || {}).suppressWarning || console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."), c(e2, function(t3) {
            r2.$__save(t3);
          });
        }, h.prototype.$__save = function(t2) {
          var e2 = this;
          return s(function() {
            return t2(null, e2);
          });
        }, h.prototype.$__remove = function(t2) {
          if (null != t2)
            return t2(null, this);
        }, h.prototype.remove = function(t2, e2) {
          if ("function" != typeof t2 || e2 || (e2 = t2, t2 = void 0), !this.__parentArray || t2 && t2.noop)
            return this.$__remove(e2), this;
          var r2;
          if (!this.willRemove) {
            if (!(r2 = this._doc._id))
              throw new Error("For your own good, Mongoose does not know how to remove an EmbeddedDocument that has no _id");
            this.__parentArray.pull({ _id: r2 }), this.willRemove = true, function(t3) {
              var e3 = t3.ownerDocument();
              function r3() {
                e3.removeListener("save", r3), e3.removeListener("remove", r3), t3.emit("remove", t3), t3.constructor.emit("remove", t3), e3 = t3 = null;
              }
              e3.on("save", r3), e3.on("remove", r3);
            }(this);
          }
          return this.$__remove(e2), this;
        }, h.prototype.update = function() {
          throw new Error("The #update method is not available on EmbeddedDocuments");
        }, h.prototype.inspect = function() {
          return this.toObject({ transform: false, virtuals: false, flattenDecimals: false });
        }, l.inspect.custom && (h.prototype[l.inspect.custom] = h.prototype.inspect), h.prototype.invalidate = function(t2, e2, r2) {
          if (n.prototype.invalidate.call(this, t2, e2, r2), !this[f] || null == this.__index) {
            if (e2[p] || e2 instanceof i)
              return this.ownerDocument().$__.validationError;
            throw e2;
          }
          var o2 = this.__index, s2 = [this.__parentArray.$path(), o2, t2].join(".");
          return this[f].invalidate(s2, e2, r2), this.ownerDocument().$__.validationError;
        }, h.prototype.$markValid = function(t2) {
          if (this[f]) {
            var e2 = this.__index;
            if (void 0 !== e2) {
              var r2 = [this.__parentArray.$path(), e2, t2].join(".");
              this[f].$markValid(r2);
            }
          }
        }, h.prototype.$ignore = function(t2) {
          if (n.prototype.$ignore.call(this, t2), this[f]) {
            var e2 = this.__index;
            if (void 0 !== e2) {
              var r2 = [this.__parentArray.$path(), e2, t2].join(".");
              this[f].$ignore(r2);
            }
          }
        }, h.prototype.$isValid = function(t2) {
          return void 0 === this.__index || !this[f] || (!this[f].$__.validationError || !this[f].$__.validationError.errors[this.$__fullPath(t2)]);
        }, h.prototype.ownerDocument = function() {
          if (this.$__.ownerDocument)
            return this.$__.ownerDocument;
          var t2 = this[f];
          if (!t2)
            return this;
          for (; t2[f] || t2.$__parent; )
            t2 = t2[f] || t2.$__parent;
          return this.$__.ownerDocument = t2, this.$__.ownerDocument;
        }, h.prototype.$__fullPath = function(t2) {
          if (!this.$__.fullPath) {
            var e2 = this;
            if (!e2[f])
              return t2;
            for (var r2 = []; e2[f] || e2.$__parent; )
              e2[f] ? r2.unshift(e2.__parentArray.$path()) : r2.unshift(e2.$basePath), e2 = e2[f] || e2.$__parent;
            this.$__.fullPath = r2.join("."), this.$__.ownerDocument || (this.$__.ownerDocument = e2);
          }
          return t2 ? this.$__.fullPath + "." + t2 : this.$__.fullPath;
        }, h.prototype.parent = function() {
          return this[f];
        }, h.prototype.$parent = h.prototype.parent, h.prototype.parentArray = function() {
          return this.__parentArray;
        }, t.exports = h;
      }, function(t, e, r) {
        (function(e2) {
          if (void 0 !== e2)
            var n = r(2).Buffer;
          var o = r(16);
          function i(t2, e3) {
            if (!(this instanceof i))
              return new i(t2, e3);
            if (!(null == t2 || "string" == typeof t2 || n.isBuffer(t2) || t2 instanceof Uint8Array || Array.isArray(t2)))
              throw new Error("only String, Buffer, Uint8Array or Array accepted");
            if (this._bsontype = "Binary", t2 instanceof Number ? (this.sub_type = t2, this.position = 0) : (this.sub_type = null == e3 ? s : e3, this.position = 0), null == t2 || t2 instanceof Number)
              void 0 !== n ? this.buffer = o.allocBuffer(i.BUFFER_SIZE) : "undefined" != typeof Uint8Array ? this.buffer = new Uint8Array(new ArrayBuffer(i.BUFFER_SIZE)) : this.buffer = new Array(i.BUFFER_SIZE), this.position = 0;
            else {
              if ("string" == typeof t2)
                if (void 0 !== n)
                  this.buffer = o.toBuffer(t2);
                else {
                  if ("undefined" == typeof Uint8Array && "[object Array]" !== Object.prototype.toString.call(t2))
                    throw new Error("only String, Buffer, Uint8Array or Array accepted");
                  this.buffer = a(t2);
                }
              else
                this.buffer = t2;
              this.position = t2.length;
            }
          }
          i.prototype.put = function(t2) {
            if (null != t2.length && "number" != typeof t2 && 1 !== t2.length)
              throw new Error("only accepts single character String, Uint8Array or Array");
            if ("number" != typeof t2 && t2 < 0 || t2 > 255)
              throw new Error("only accepts number in a valid unsigned byte range 0-255");
            var e3 = null;
            if (e3 = "string" == typeof t2 ? t2.charCodeAt(0) : null != t2.length ? t2[0] : t2, this.buffer.length > this.position)
              this.buffer[this.position++] = e3;
            else if (void 0 !== n && n.isBuffer(this.buffer)) {
              var r2 = o.allocBuffer(i.BUFFER_SIZE + this.buffer.length);
              this.buffer.copy(r2, 0, 0, this.buffer.length), this.buffer = r2, this.buffer[this.position++] = e3;
            } else {
              r2 = null, r2 = "[object Uint8Array]" === Object.prototype.toString.call(this.buffer) ? new Uint8Array(new ArrayBuffer(i.BUFFER_SIZE + this.buffer.length)) : new Array(i.BUFFER_SIZE + this.buffer.length);
              for (var s2 = 0; s2 < this.buffer.length; s2++)
                r2[s2] = this.buffer[s2];
              this.buffer = r2, this.buffer[this.position++] = e3;
            }
          }, i.prototype.write = function(t2, e3) {
            if (e3 = "number" == typeof e3 ? e3 : this.position, this.buffer.length < e3 + t2.length) {
              var r2 = null;
              if (void 0 !== n && n.isBuffer(this.buffer))
                r2 = o.allocBuffer(this.buffer.length + t2.length), this.buffer.copy(r2, 0, 0, this.buffer.length);
              else if ("[object Uint8Array]" === Object.prototype.toString.call(this.buffer)) {
                r2 = new Uint8Array(new ArrayBuffer(this.buffer.length + t2.length));
                for (var i2 = 0; i2 < this.position; i2++)
                  r2[i2] = this.buffer[i2];
              }
              this.buffer = r2;
            }
            if (void 0 !== n && n.isBuffer(t2) && n.isBuffer(this.buffer))
              t2.copy(this.buffer, e3, 0, t2.length), this.position = e3 + t2.length > this.position ? e3 + t2.length : this.position;
            else if (void 0 !== n && "string" == typeof t2 && n.isBuffer(this.buffer))
              this.buffer.write(t2, e3, "binary"), this.position = e3 + t2.length > this.position ? e3 + t2.length : this.position;
            else if ("[object Uint8Array]" === Object.prototype.toString.call(t2) || "[object Array]" === Object.prototype.toString.call(t2) && "string" != typeof t2) {
              for (i2 = 0; i2 < t2.length; i2++)
                this.buffer[e3++] = t2[i2];
              this.position = e3 > this.position ? e3 : this.position;
            } else if ("string" == typeof t2) {
              for (i2 = 0; i2 < t2.length; i2++)
                this.buffer[e3++] = t2.charCodeAt(i2);
              this.position = e3 > this.position ? e3 : this.position;
            }
          }, i.prototype.read = function(t2, e3) {
            if (e3 = e3 && e3 > 0 ? e3 : this.position, this.buffer.slice)
              return this.buffer.slice(t2, t2 + e3);
            for (var r2 = "undefined" != typeof Uint8Array ? new Uint8Array(new ArrayBuffer(e3)) : new Array(e3), n2 = 0; n2 < e3; n2++)
              r2[n2] = this.buffer[t2++];
            return r2;
          }, i.prototype.value = function(t2) {
            if ((t2 = null != t2 && t2) && void 0 !== n && n.isBuffer(this.buffer) && this.buffer.length === this.position)
              return this.buffer;
            if (void 0 !== n && n.isBuffer(this.buffer))
              return t2 ? this.buffer.slice(0, this.position) : this.buffer.toString("binary", 0, this.position);
            if (t2) {
              if (null != this.buffer.slice)
                return this.buffer.slice(0, this.position);
              for (var e3 = "[object Uint8Array]" === Object.prototype.toString.call(this.buffer) ? new Uint8Array(new ArrayBuffer(this.position)) : new Array(this.position), r2 = 0; r2 < this.position; r2++)
                e3[r2] = this.buffer[r2];
              return e3;
            }
            return u(this.buffer, 0, this.position);
          }, i.prototype.length = function() {
            return this.position;
          }, i.prototype.toJSON = function() {
            return null != this.buffer ? this.buffer.toString("base64") : "";
          }, i.prototype.toString = function(t2) {
            return null != this.buffer ? this.buffer.slice(0, this.position).toString(t2) : "";
          };
          var s = 0, a = function(t2) {
            for (var e3 = "undefined" != typeof Uint8Array ? new Uint8Array(new ArrayBuffer(t2.length)) : new Array(t2.length), r2 = 0; r2 < t2.length; r2++)
              e3[r2] = t2.charCodeAt(r2);
            return e3;
          }, u = function(t2, e3, r2) {
            for (var n2 = "", o2 = e3; o2 < r2; o2++)
              n2 += String.fromCharCode(t2[o2]);
            return n2;
          };
          i.BUFFER_SIZE = 256, i.SUBTYPE_DEFAULT = 0, i.SUBTYPE_FUNCTION = 1, i.SUBTYPE_BYTE_ARRAY = 2, i.SUBTYPE_UUID_OLD = 3, i.SUBTYPE_UUID = 4, i.SUBTYPE_MD5 = 5, i.SUBTYPE_USER_DEFINED = 128, t.exports = i, t.exports.Binary = i;
        }).call(this, r(9));
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2) {
          return null != t2 && (null != t2.$__ || t2.isMongooseArray || t2.isMongooseBuffer || t2.$isMongooseMap);
        };
      }, function(t, e, r) {
        "use strict";
        var n = ["find", "findOne", "update", "updateMany", "updateOne", "replaceOne", "remove", "count", "distinct", "findAndModify", "aggregate", "findStream", "deleteOne", "deleteMany"];
        function o() {
        }
        for (var i = 0, s = n.length; i < s; ++i) {
          var a = n[i];
          o.prototype[a] = u(a);
        }
        function u(t2) {
          return function() {
            throw new Error("collection." + t2 + " not implemented");
          };
        }
        t.exports = o, o.methods = n;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = r(14), l = r(24), f = r(4), p = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3) {
            var e3, r3;
            return function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2), r3 = "model" === l(t3) ? t3.constructor.modelName + " validation failed" : "Validation failed", (e3 = a2.call(this, r3)).errors = {}, e3._message = r3, t3 && (t3.errors = e3.errors), e3;
          }
          return e2 = u2, (r2 = [{
            key: "toString",
            value: function() {
              return this.name + ": " + h(this);
            }
          }, {
            key: "inspect",
            value: function() {
              return Object.assign(new Error(this.message), this);
            }
          }, { key: "addError", value: function(t3, e3) {
            this.errors[t3] = e3, this.message = this._message + ": " + h(this);
          } }]) && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), u2;
        }(c);
        function h(t2) {
          for (var e2, r2 = Object.keys(t2.errors || {}), n2 = r2.length, o2 = [], i2 = 0; i2 < n2; ++i2)
            e2 = r2[i2], t2 !== t2.errors[e2] && o2.push(e2 + ": " + t2.errors[e2].message);
          return o2.join(", ");
        }
        f.inspect.custom && (p.prototype[f.inspect.custom] = p.prototype.inspect), Object.defineProperty(p.prototype, "toJSON", { enumerable: false, writable: false, configurable: true, value: function() {
          return Object.assign({}, this, { name: this.name, message: this.message });
        } }), Object.defineProperty(p.prototype, "name", { value: "ValidationError" }), t.exports = p;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3, e3, r3) {
            var n3;
            return function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2), e3 = e3 || "Field `" + t3 + "` is not in schema and strict mode is set to throw.", (n3 = a2.call(this, e3)).isImmutableError = !!r3, n3.path = t3, n3;
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "StrictModeError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        e.schemaMixedSymbol = Symbol.for("mongoose:schema_mixed"), e.builtInMiddleware = Symbol.for("mongoose:built-in-middleware");
      }, function(t, e, r) {
        "use strict";
        var n = r(80);
        function o(t2) {
          return n.cast()(t2);
        }
        e.castToNumber = o, e.castArraysOfNumbers = function t2(e2, r2) {
          e2.forEach(function(n2, i) {
            Array.isArray(n2) ? t2(n2, r2) : e2[i] = o.call(r2, n2);
          });
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(82);
        t.exports = function(t2, e2) {
          if (null == t2)
            return null;
          for (var r2 = 0, o = Object.keys(t2); r2 < o.length; r2++) {
            var i = t2[o[r2]];
            if (i.schema && i.schema.discriminatorMapping && n(i.schema.discriminatorMapping.value, e2))
              return i;
          }
          return null;
        };
      }, function(t, e, r) {
        "use strict";
        e.Array = r(85), e.Buffer = r(88), e.Document = e.Embedded = r(29), e.DocumentArray = r(18), e.Decimal128 = r(20), e.ObjectId = r(11), e.Map = r(90), e.Subdocument = r(92);
      }, function(t, e, r) {
        "use strict";
        var n = r(60), o = r(25), i = r(40), s = r(41), a = r(42), u = r(43), c = r(44), l = r(61), f = r(45), p = r(46), h = r(47), y = r(48), d = r(49), _ = r(30), v = r(105), m = r(106), b = r(108), g = r(16), w = g.allocBuffer(17825792), O = function() {
        };
        O.prototype.serialize = function(t2, e2) {
          var r2 = "boolean" == typeof (e2 = e2 || {}).checkKeys && e2.checkKeys, n2 = "boolean" == typeof e2.serializeFunctions && e2.serializeFunctions, o2 = "boolean" != typeof e2.ignoreUndefined || e2.ignoreUndefined, i2 = "number" == typeof e2.minInternalBufferSize ? e2.minInternalBufferSize : 17825792;
          w.length < i2 && (w = g.allocBuffer(i2));
          var s2 = m(w, t2, r2, 0, 0, n2, o2, []), a2 = g.allocBuffer(s2);
          return w.copy(a2, 0, 0, a2.length), a2;
        }, O.prototype.serializeWithBufferAndIndex = function(t2, e2, r2) {
          var n2 = "boolean" == typeof (r2 = r2 || {}).checkKeys && r2.checkKeys, o2 = "boolean" == typeof r2.serializeFunctions && r2.serializeFunctions, i2 = "boolean" != typeof r2.ignoreUndefined || r2.ignoreUndefined, s2 = "number" == typeof r2.index ? r2.index : 0;
          return m(e2, t2, n2, s2 || 0, 0, o2, i2) - 1;
        }, O.prototype.deserialize = function(t2, e2) {
          return v(t2, e2);
        }, O.prototype.calculateObjectSize = function(t2, e2) {
          var r2 = "boolean" == typeof (e2 = e2 || {}).serializeFunctions && e2.serializeFunctions, n2 = "boolean" != typeof e2.ignoreUndefined || e2.ignoreUndefined;
          return b(t2, r2, n2);
        }, O.prototype.deserializeStream = function(t2, e2, r2, n2, o2, i2) {
          i2 = null != i2 ? i2 : {};
          for (var s2 = e2, a2 = 0; a2 < r2; a2++) {
            var u2 = t2[s2] | t2[s2 + 1] << 8 | t2[s2 + 2] << 16 | t2[s2 + 3] << 24;
            i2.index = s2, n2[o2 + a2] = this.deserialize(t2, i2), s2 += u2;
          }
          return s2;
        }, O.BSON_INT32_MAX = 2147483647, O.BSON_INT32_MIN = -2147483648, O.BSON_INT64_MAX = Math.pow(2, 63) - 1, O.BSON_INT64_MIN = -Math.pow(2, 63), O.JS_INT_MAX = 9007199254740992, O.JS_INT_MIN = -9007199254740992, O.BSON_DATA_NUMBER = 1, O.BSON_DATA_STRING = 2, O.BSON_DATA_OBJECT = 3, O.BSON_DATA_ARRAY = 4, O.BSON_DATA_BINARY = 5, O.BSON_DATA_OID = 7, O.BSON_DATA_BOOLEAN = 8, O.BSON_DATA_DATE = 9, O.BSON_DATA_NULL = 10, O.BSON_DATA_REGEXP = 11, O.BSON_DATA_CODE = 13, O.BSON_DATA_SYMBOL = 14, O.BSON_DATA_CODE_W_SCOPE = 15, O.BSON_DATA_INT = 16, O.BSON_DATA_TIMESTAMP = 17, O.BSON_DATA_LONG = 18, O.BSON_DATA_MIN_KEY = 255, O.BSON_DATA_MAX_KEY = 127, O.BSON_BINARY_SUBTYPE_DEFAULT = 0, O.BSON_BINARY_SUBTYPE_FUNCTION = 1, O.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2, O.BSON_BINARY_SUBTYPE_UUID = 3, O.BSON_BINARY_SUBTYPE_MD5 = 4, O.BSON_BINARY_SUBTYPE_USER_DEFINED = 128, t.exports = O, t.exports.Code = f, t.exports.Map = n, t.exports.Symbol = c, t.exports.BSON = O, t.exports.DBRef = d, t.exports.Binary = _, t.exports.ObjectID = a, t.exports.Long = o, t.exports.Timestamp = s, t.exports.Double = i, t.exports.Int32 = l, t.exports.MinKey = h, t.exports.MaxKey = y, t.exports.BSONRegExp = u, t.exports.Decimal128 = p;
      }, function(t, e) {
        function r(t2) {
          if (!(this instanceof r))
            return new r(t2);
          this._bsontype = "Double", this.value = t2;
        }
        r.prototype.valueOf = function() {
          return this.value;
        }, r.prototype.toJSON = function() {
          return this.value;
        }, t.exports = r, t.exports.Double = r;
      }, function(t, e) {
        function r(t2, e2) {
          if (!(this instanceof r))
            return new r(t2, e2);
          this._bsontype = "Timestamp", this.low_ = 0 | t2, this.high_ = 0 | e2;
        }
        r.prototype.toInt = function() {
          return this.low_;
        }, r.prototype.toNumber = function() {
          return this.high_ * r.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();
        }, r.prototype.toJSON = function() {
          return this.toString();
        }, r.prototype.toString = function(t2) {
          var e2 = t2 || 10;
          if (e2 < 2 || 36 < e2)
            throw Error("radix out of range: " + e2);
          if (this.isZero())
            return "0";
          if (this.isNegative()) {
            if (this.equals(r.MIN_VALUE)) {
              var n = r.fromNumber(e2), o = this.div(n), i = o.multiply(n).subtract(this);
              return o.toString(e2) + i.toInt().toString(e2);
            }
            return "-" + this.negate().toString(e2);
          }
          var s = r.fromNumber(Math.pow(e2, 6));
          i = this;
          for (var a = ""; !i.isZero(); ) {
            var u = i.div(s), c = i.subtract(u.multiply(s)).toInt().toString(e2);
            if ((i = u).isZero())
              return c + a;
            for (; c.length < 6; )
              c = "0" + c;
            a = "" + c + a;
          }
        }, r.prototype.getHighBits = function() {
          return this.high_;
        }, r.prototype.getLowBits = function() {
          return this.low_;
        }, r.prototype.getLowBitsUnsigned = function() {
          return this.low_ >= 0 ? this.low_ : r.TWO_PWR_32_DBL_ + this.low_;
        }, r.prototype.getNumBitsAbs = function() {
          if (this.isNegative())
            return this.equals(r.MIN_VALUE) ? 64 : this.negate().getNumBitsAbs();
          for (var t2 = 0 !== this.high_ ? this.high_ : this.low_, e2 = 31; e2 > 0 && 0 == (t2 & 1 << e2); e2--)
            ;
          return 0 !== this.high_ ? e2 + 33 : e2 + 1;
        }, r.prototype.isZero = function() {
          return 0 === this.high_ && 0 === this.low_;
        }, r.prototype.isNegative = function() {
          return this.high_ < 0;
        }, r.prototype.isOdd = function() {
          return 1 == (1 & this.low_);
        }, r.prototype.equals = function(t2) {
          return this.high_ === t2.high_ && this.low_ === t2.low_;
        }, r.prototype.notEquals = function(t2) {
          return this.high_ !== t2.high_ || this.low_ !== t2.low_;
        }, r.prototype.lessThan = function(t2) {
          return this.compare(t2) < 0;
        }, r.prototype.lessThanOrEqual = function(t2) {
          return this.compare(t2) <= 0;
        }, r.prototype.greaterThan = function(t2) {
          return this.compare(t2) > 0;
        }, r.prototype.greaterThanOrEqual = function(t2) {
          return this.compare(t2) >= 0;
        }, r.prototype.compare = function(t2) {
          if (this.equals(t2))
            return 0;
          var e2 = this.isNegative(), r2 = t2.isNegative();
          return e2 && !r2 ? -1 : !e2 && r2 ? 1 : this.subtract(t2).isNegative() ? -1 : 1;
        }, r.prototype.negate = function() {
          return this.equals(r.MIN_VALUE) ? r.MIN_VALUE : this.not().add(r.ONE);
        }, r.prototype.add = function(t2) {
          var e2 = this.high_ >>> 16, n = 65535 & this.high_, o = this.low_ >>> 16, i = 65535 & this.low_, s = t2.high_ >>> 16, a = 65535 & t2.high_, u = t2.low_ >>> 16, c = 0, l = 0, f = 0, p = 0;
          return f += (p += i + (65535 & t2.low_)) >>> 16, p &= 65535, l += (f += o + u) >>> 16, f &= 65535, c += (l += n + a) >>> 16, l &= 65535, c += e2 + s, c &= 65535, r.fromBits(f << 16 | p, c << 16 | l);
        }, r.prototype.subtract = function(t2) {
          return this.add(t2.negate());
        }, r.prototype.multiply = function(t2) {
          if (this.isZero())
            return r.ZERO;
          if (t2.isZero())
            return r.ZERO;
          if (this.equals(r.MIN_VALUE))
            return t2.isOdd() ? r.MIN_VALUE : r.ZERO;
          if (t2.equals(r.MIN_VALUE))
            return this.isOdd() ? r.MIN_VALUE : r.ZERO;
          if (this.isNegative())
            return t2.isNegative() ? this.negate().multiply(t2.negate()) : this.negate().multiply(t2).negate();
          if (t2.isNegative())
            return this.multiply(t2.negate()).negate();
          if (this.lessThan(r.TWO_PWR_24_) && t2.lessThan(r.TWO_PWR_24_))
            return r.fromNumber(this.toNumber() * t2.toNumber());
          var e2 = this.high_ >>> 16, n = 65535 & this.high_, o = this.low_ >>> 16, i = 65535 & this.low_, s = t2.high_ >>> 16, a = 65535 & t2.high_, u = t2.low_ >>> 16, c = 65535 & t2.low_, l = 0, f = 0, p = 0, h = 0;
          return p += (h += i * c) >>> 16, h &= 65535, f += (p += o * c) >>> 16, p &= 65535, f += (p += i * u) >>> 16, p &= 65535, l += (f += n * c) >>> 16, f &= 65535, l += (f += o * u) >>> 16, f &= 65535, l += (f += i * a) >>> 16, f &= 65535, l += e2 * c + n * u + o * a + i * s, l &= 65535, r.fromBits(p << 16 | h, l << 16 | f);
        }, r.prototype.div = function(t2) {
          if (t2.isZero())
            throw Error("division by zero");
          if (this.isZero())
            return r.ZERO;
          if (this.equals(r.MIN_VALUE)) {
            if (t2.equals(r.ONE) || t2.equals(r.NEG_ONE))
              return r.MIN_VALUE;
            if (t2.equals(r.MIN_VALUE))
              return r.ONE;
            var e2 = this.shiftRight(1).div(t2).shiftLeft(1);
            if (e2.equals(r.ZERO))
              return t2.isNegative() ? r.ONE : r.NEG_ONE;
            var n = this.subtract(t2.multiply(e2));
            return e2.add(n.div(t2));
          }
          if (t2.equals(r.MIN_VALUE))
            return r.ZERO;
          if (this.isNegative())
            return t2.isNegative() ? this.negate().div(t2.negate()) : this.negate().div(t2).negate();
          if (t2.isNegative())
            return this.div(t2.negate()).negate();
          var o = r.ZERO;
          for (n = this; n.greaterThanOrEqual(t2); ) {
            e2 = Math.max(1, Math.floor(n.toNumber() / t2.toNumber()));
            for (var i = Math.ceil(Math.log(e2) / Math.LN2), s = i <= 48 ? 1 : Math.pow(2, i - 48), a = r.fromNumber(e2), u = a.multiply(t2); u.isNegative() || u.greaterThan(n); )
              e2 -= s, u = (a = r.fromNumber(e2)).multiply(t2);
            a.isZero() && (a = r.ONE), o = o.add(a), n = n.subtract(u);
          }
          return o;
        }, r.prototype.modulo = function(t2) {
          return this.subtract(this.div(t2).multiply(t2));
        }, r.prototype.not = function() {
          return r.fromBits(~this.low_, ~this.high_);
        }, r.prototype.and = function(t2) {
          return r.fromBits(this.low_ & t2.low_, this.high_ & t2.high_);
        }, r.prototype.or = function(t2) {
          return r.fromBits(this.low_ | t2.low_, this.high_ | t2.high_);
        }, r.prototype.xor = function(t2) {
          return r.fromBits(this.low_ ^ t2.low_, this.high_ ^ t2.high_);
        }, r.prototype.shiftLeft = function(t2) {
          if (0 === (t2 &= 63))
            return this;
          var e2 = this.low_;
          if (t2 < 32) {
            var n = this.high_;
            return r.fromBits(e2 << t2, n << t2 | e2 >>> 32 - t2);
          }
          return r.fromBits(0, e2 << t2 - 32);
        }, r.prototype.shiftRight = function(t2) {
          if (0 === (t2 &= 63))
            return this;
          var e2 = this.high_;
          if (t2 < 32) {
            var n = this.low_;
            return r.fromBits(n >>> t2 | e2 << 32 - t2, e2 >> t2);
          }
          return r.fromBits(e2 >> t2 - 32, e2 >= 0 ? 0 : -1);
        }, r.prototype.shiftRightUnsigned = function(t2) {
          if (0 === (t2 &= 63))
            return this;
          var e2 = this.high_;
          if (t2 < 32) {
            var n = this.low_;
            return r.fromBits(n >>> t2 | e2 << 32 - t2, e2 >>> t2);
          }
          return 32 === t2 ? r.fromBits(e2, 0) : r.fromBits(e2 >>> t2 - 32, 0);
        }, r.fromInt = function(t2) {
          if (-128 <= t2 && t2 < 128) {
            var e2 = r.INT_CACHE_[t2];
            if (e2)
              return e2;
          }
          var n = new r(0 | t2, t2 < 0 ? -1 : 0);
          return -128 <= t2 && t2 < 128 && (r.INT_CACHE_[t2] = n), n;
        }, r.fromNumber = function(t2) {
          return isNaN(t2) || !isFinite(t2) ? r.ZERO : t2 <= -r.TWO_PWR_63_DBL_ ? r.MIN_VALUE : t2 + 1 >= r.TWO_PWR_63_DBL_ ? r.MAX_VALUE : t2 < 0 ? r.fromNumber(-t2).negate() : new r(t2 % r.TWO_PWR_32_DBL_ | 0, t2 / r.TWO_PWR_32_DBL_ | 0);
        }, r.fromBits = function(t2, e2) {
          return new r(t2, e2);
        }, r.fromString = function(t2, e2) {
          if (0 === t2.length)
            throw Error("number format error: empty string");
          var n = e2 || 10;
          if (n < 2 || 36 < n)
            throw Error("radix out of range: " + n);
          if ("-" === t2.charAt(0))
            return r.fromString(t2.substring(1), n).negate();
          if (t2.indexOf("-") >= 0)
            throw Error('number format error: interior "-" character: ' + t2);
          for (var o = r.fromNumber(Math.pow(n, 8)), i = r.ZERO, s = 0; s < t2.length; s += 8) {
            var a = Math.min(8, t2.length - s), u = parseInt(t2.substring(s, s + a), n);
            if (a < 8) {
              var c = r.fromNumber(Math.pow(n, a));
              i = i.multiply(c).add(r.fromNumber(u));
            } else
              i = (i = i.multiply(o)).add(r.fromNumber(u));
          }
          return i;
        }, r.INT_CACHE_ = {}, r.TWO_PWR_16_DBL_ = 65536, r.TWO_PWR_24_DBL_ = 1 << 24, r.TWO_PWR_32_DBL_ = r.TWO_PWR_16_DBL_ * r.TWO_PWR_16_DBL_, r.TWO_PWR_31_DBL_ = r.TWO_PWR_32_DBL_ / 2, r.TWO_PWR_48_DBL_ = r.TWO_PWR_32_DBL_ * r.TWO_PWR_16_DBL_, r.TWO_PWR_64_DBL_ = r.TWO_PWR_32_DBL_ * r.TWO_PWR_32_DBL_, r.TWO_PWR_63_DBL_ = r.TWO_PWR_64_DBL_ / 2, r.ZERO = r.fromInt(0), r.ONE = r.fromInt(1), r.NEG_ONE = r.fromInt(-1), r.MAX_VALUE = r.fromBits(-1, 2147483647), r.MIN_VALUE = r.fromBits(0, -2147483648), r.TWO_PWR_24_ = r.fromInt(1 << 24), t.exports = r, t.exports.Timestamp = r;
      }, function(t, e, r) {
        (function(e2, n) {
          var o = "inspect", i = r(16), s = parseInt(16777215 * Math.random(), 10), a = new RegExp("^[0-9a-fA-F]{24}$");
          try {
            if (e2 && e2.from) {
              var u = true;
              o = r(4).inspect.custom || "inspect";
            }
          } catch (t2) {
            u = false;
          }
          for (var c = function t2(e3) {
            if (e3 instanceof t2)
              return e3;
            if (!(this instanceof t2))
              return new t2(e3);
            if (this._bsontype = "ObjectID", null == e3 || "number" == typeof e3)
              return this.id = this.generate(e3), void (t2.cacheHexString && (this.__id = this.toString("hex")));
            var r2 = t2.isValid(e3);
            if (!r2 && null != e3)
              throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
            if (r2 && "string" == typeof e3 && 24 === e3.length && u)
              return new t2(i.toBuffer(e3, "hex"));
            if (r2 && "string" == typeof e3 && 24 === e3.length)
              return t2.createFromHexString(e3);
            if (null == e3 || 12 !== e3.length) {
              if (null != e3 && "function" == typeof e3.toHexString)
                return e3;
              throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
            }
            this.id = e3, t2.cacheHexString && (this.__id = this.toString("hex"));
          }, l = [], f = 0; f < 256; f++)
            l[f] = (f <= 15 ? "0" : "") + f.toString(16);
          c.prototype.toHexString = function() {
            if (c.cacheHexString && this.__id)
              return this.__id;
            var t2 = "";
            if (!this.id || !this.id.length)
              throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [" + JSON.stringify(this.id) + "]");
            if (this.id instanceof h)
              return t2 = y(this.id), c.cacheHexString && (this.__id = t2), t2;
            for (var e3 = 0; e3 < this.id.length; e3++)
              t2 += l[this.id.charCodeAt(e3)];
            return c.cacheHexString && (this.__id = t2), t2;
          }, c.prototype.get_inc = function() {
            return c.index = (c.index + 1) % 16777215;
          }, c.prototype.getInc = function() {
            return this.get_inc();
          }, c.prototype.generate = function(t2) {
            "number" != typeof t2 && (t2 = ~~(Date.now() / 1e3));
            var e3 = (void 0 === n || 1 === n.pid ? Math.floor(1e5 * Math.random()) : n.pid) % 65535, r2 = this.get_inc(), o2 = i.allocBuffer(12);
            return o2[3] = 255 & t2, o2[2] = t2 >> 8 & 255, o2[1] = t2 >> 16 & 255, o2[0] = t2 >> 24 & 255, o2[6] = 255 & s, o2[5] = s >> 8 & 255, o2[4] = s >> 16 & 255, o2[8] = 255 & e3, o2[7] = e3 >> 8 & 255, o2[11] = 255 & r2, o2[10] = r2 >> 8 & 255, o2[9] = r2 >> 16 & 255, o2;
          }, c.prototype.toString = function(t2) {
            return this.id && this.id.copy ? this.id.toString("string" == typeof t2 ? t2 : "hex") : this.toHexString();
          }, c.prototype[o] = c.prototype.toString, c.prototype.toJSON = function() {
            return this.toHexString();
          }, c.prototype.equals = function(t2) {
            return t2 instanceof c ? this.toString() === t2.toString() : "string" == typeof t2 && c.isValid(t2) && 12 === t2.length && this.id instanceof h ? t2 === this.id.toString("binary") : "string" == typeof t2 && c.isValid(t2) && 24 === t2.length ? t2.toLowerCase() === this.toHexString() : "string" == typeof t2 && c.isValid(t2) && 12 === t2.length ? t2 === this.id : !(null == t2 || !(t2 instanceof c || t2.toHexString)) && t2.toHexString() === this.toHexString();
          }, c.prototype.getTimestamp = function() {
            var t2 = new Date(), e3 = this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;
            return t2.setTime(1e3 * Math.floor(e3)), t2;
          }, c.index = ~~(16777215 * Math.random()), c.createPk = function() {
            return new c();
          }, c.createFromTime = function(t2) {
            var e3 = i.toBuffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
            return e3[3] = 255 & t2, e3[2] = t2 >> 8 & 255, e3[1] = t2 >> 16 & 255, e3[0] = t2 >> 24 & 255, new c(e3);
          };
          var p = [];
          for (f = 0; f < 10; )
            p[48 + f] = f++;
          for (; f < 16; )
            p[55 + f] = p[87 + f] = f++;
          var h = e2, y = function(t2) {
            return t2.toString("hex");
          };
          c.createFromHexString = function(t2) {
            if (void 0 === t2 || null != t2 && 24 !== t2.length)
              throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
            if (u)
              return new c(i.toBuffer(t2, "hex"));
            for (var e3 = new h(12), r2 = 0, n2 = 0; n2 < 24; )
              e3[r2++] = p[t2.charCodeAt(n2++)] << 4 | p[t2.charCodeAt(n2++)];
            return new c(e3);
          }, c.isValid = function(t2) {
            return null != t2 && ("number" == typeof t2 || ("string" == typeof t2 ? 12 === t2.length || 24 === t2.length && a.test(t2) : t2 instanceof c || (t2 instanceof h || "function" == typeof t2.toHexString && (t2.id instanceof h || "string" == typeof t2.id) && (12 === t2.id.length || 24 === t2.id.length && a.test(t2.id)))));
          }, Object.defineProperty(c.prototype, "generationTime", { enumerable: true, get: function() {
            return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;
          }, set: function(t2) {
            this.id[3] = 255 & t2, this.id[2] = t2 >> 8 & 255, this.id[1] = t2 >> 16 & 255, this.id[0] = t2 >> 24 & 255;
          } }), t.exports = c, t.exports.ObjectID = c, t.exports.ObjectId = c;
        }).call(this, r(2).Buffer, r(10));
      }, function(t, e) {
        function r(t2, e2) {
          if (!(this instanceof r))
            return new r();
          this._bsontype = "BSONRegExp", this.pattern = t2 || "", this.options = e2 || "";
          for (var n = 0; n < this.options.length; n++)
            if ("i" !== this.options[n] && "m" !== this.options[n] && "x" !== this.options[n] && "l" !== this.options[n] && "s" !== this.options[n] && "u" !== this.options[n])
              throw new Error("the regular expression options [" + this.options[n] + "] is not supported");
        }
        t.exports = r, t.exports.BSONRegExp = r;
      }, function(t, e, r) {
        (function(e2) {
          var n = e2 && r(4).inspect.custom || "inspect";
          function o(t2) {
            if (!(this instanceof o))
              return new o(t2);
            this._bsontype = "Symbol", this.value = t2;
          }
          o.prototype.valueOf = function() {
            return this.value;
          }, o.prototype.toString = function() {
            return this.value;
          }, o.prototype[n] = function() {
            return this.value;
          }, o.prototype.toJSON = function() {
            return this.value;
          }, t.exports = o, t.exports.Symbol = o;
        }).call(this, r(2).Buffer);
      }, function(t, e) {
        var r = function t2(e2, r2) {
          if (!(this instanceof t2))
            return new t2(e2, r2);
          this._bsontype = "Code", this.code = e2, this.scope = r2;
        };
        r.prototype.toJSON = function() {
          return { scope: this.scope, code: this.code };
        }, t.exports = r, t.exports.Code = r;
      }, function(t, e, r) {
        "use strict";
        var n = r(25), o = /^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/, i = /^(\+|-)?(Infinity|inf)$/i, s = /^(\+|-)?NaN$/i, a = 6176, u = [124, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse(), c = [248, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse(), l = [120, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse(), f = /^([-+])?(\d+)?$/, p = r(16), h = function(t2) {
          return !isNaN(parseInt(t2, 10));
        }, y = function(t2) {
          var e2 = n.fromNumber(1e9), r2 = n.fromNumber(0), o2 = 0;
          if (!(t2.parts[0] || t2.parts[1] || t2.parts[2] || t2.parts[3]))
            return { quotient: t2, rem: r2 };
          for (o2 = 0; o2 <= 3; o2++)
            r2 = (r2 = r2.shiftLeft(32)).add(new n(t2.parts[o2], 0)), t2.parts[o2] = r2.div(e2).low_, r2 = r2.modulo(e2);
          return { quotient: t2, rem: r2 };
        }, d = function(t2) {
          this._bsontype = "Decimal128", this.bytes = t2;
        };
        d.fromString = function(t2) {
          var e2, r2 = false, y2 = false, _ = false, v = 0, m = 0, b = 0, g = 0, w = 0, O = [0], S = 0, j = 0, A = 0, $ = 0, E = 0, P = 0, x = [0, 0], T = [0, 0], k = 0;
          if ((t2 = t2.trim()).length >= 7e3)
            throw new Error(t2 + " not a valid Decimal128 string");
          var N = t2.match(o), B = t2.match(i), C = t2.match(s);
          if (!N && !B && !C || 0 === t2.length)
            throw new Error(t2 + " not a valid Decimal128 string");
          if (N && N[4] && void 0 === N[2])
            throw new Error(t2 + " not a valid Decimal128 string");
          if ("+" !== t2[k] && "-" !== t2[k] || (r2 = "-" === t2[k++]), !h(t2[k]) && "." !== t2[k]) {
            if ("i" === t2[k] || "I" === t2[k])
              return new d(p.toBuffer(r2 ? c : l));
            if ("N" === t2[k])
              return new d(p.toBuffer(u));
          }
          for (; h(t2[k]) || "." === t2[k]; )
            if ("." !== t2[k])
              S < 34 && ("0" !== t2[k] || _) && (_ || (w = m), _ = true, O[j++] = parseInt(t2[k], 10), S += 1), _ && (b += 1), y2 && (g += 1), m += 1, k += 1;
            else {
              if (y2)
                return new d(p.toBuffer(u));
              y2 = true, k += 1;
            }
          if (y2 && !m)
            throw new Error(t2 + " not a valid Decimal128 string");
          if ("e" === t2[k] || "E" === t2[k]) {
            var R = t2.substr(++k).match(f);
            if (!R || !R[2])
              return new d(p.toBuffer(u));
            E = parseInt(R[0], 10), k += R[0].length;
          }
          if (t2[k])
            return new d(p.toBuffer(u));
          if (A = 0, S) {
            if ($ = S - 1, v = b, 0 !== E && 1 !== v)
              for (; "0" === t2[w + v - 1]; )
                v -= 1;
          } else
            A = 0, $ = 0, O[0] = 0, b = 1, S = 1, v = 0;
          for (E <= g && g - E > 16384 ? E = -6176 : E -= g; E > 6111; ) {
            if (($ += 1) - A > 34) {
              var D = O.join("");
              if (D.match(/^0+$/)) {
                E = 6111;
                break;
              }
              return new d(p.toBuffer(r2 ? c : l));
            }
            E -= 1;
          }
          for (; E < -6176 || S < b; ) {
            if (0 === $) {
              E = -6176, v = 0;
              break;
            }
            if (S < b ? b -= 1 : $ -= 1, !(E < 6111)) {
              if ((D = O.join("")).match(/^0+$/)) {
                E = 6111;
                break;
              }
              return new d(p.toBuffer(r2 ? c : l));
            }
            E += 1;
          }
          if ($ - A + 1 < v && "0" !== t2[v]) {
            var M = m;
            y2 && -6176 === E && (w += 1, M += 1);
            var I = parseInt(t2[w + $ + 1], 10), F = 0;
            if (I >= 5 && (F = 1, 5 === I)) {
              for (F = O[$] % 2 == 1, P = w + $ + 2; P < M; P++)
                if (parseInt(t2[P], 10)) {
                  F = 1;
                  break;
                }
            }
            if (F) {
              for (var L = $; L >= 0 && ++O[L] > 9; L--)
                if (O[L] = 0, 0 === L) {
                  if (!(E < 6111))
                    return new d(p.toBuffer(r2 ? c : l));
                  E += 1, O[L] = 1;
                }
            }
          }
          if (x = n.fromNumber(0), T = n.fromNumber(0), 0 === v)
            x = n.fromNumber(0), T = n.fromNumber(0);
          else if ($ - A < 17)
            for (L = A, T = n.fromNumber(O[L++]), x = new n(0, 0); L <= $; L++)
              T = (T = T.multiply(n.fromNumber(10))).add(n.fromNumber(O[L]));
          else {
            for (L = A, x = n.fromNumber(O[L++]); L <= $ - 17; L++)
              x = (x = x.multiply(n.fromNumber(10))).add(n.fromNumber(O[L]));
            for (T = n.fromNumber(O[L++]); L <= $; L++)
              T = (T = T.multiply(n.fromNumber(10))).add(n.fromNumber(O[L]));
          }
          var U, V, q, W, H = function(t3, e3) {
            if (!t3 && !e3)
              return { high: n.fromNumber(0), low: n.fromNumber(0) };
            var r3 = t3.shiftRightUnsigned(32), o2 = new n(t3.getLowBits(), 0), i2 = e3.shiftRightUnsigned(32), s2 = new n(e3.getLowBits(), 0), a2 = r3.multiply(i2), u2 = r3.multiply(s2), c2 = o2.multiply(i2), l2 = o2.multiply(s2);
            return a2 = a2.add(u2.shiftRightUnsigned(32)), u2 = new n(u2.getLowBits(), 0).add(c2).add(l2.shiftRightUnsigned(32)), { high: a2 = a2.add(u2.shiftRightUnsigned(32)), low: l2 = u2.shiftLeft(32).add(new n(l2.getLowBits(), 0)) };
          }(x, n.fromString("100000000000000000"));
          H.low = H.low.add(T), U = H.low, V = T, q = U.high_ >>> 0, W = V.high_ >>> 0, (q < W || q === W && U.low_ >>> 0 < V.low_ >>> 0) && (H.high = H.high.add(n.fromNumber(1))), e2 = E + a;
          var Y = { low: n.fromNumber(0), high: n.fromNumber(0) };
          H.high.shiftRightUnsigned(49).and(n.fromNumber(1)).equals(n.fromNumber) ? (Y.high = Y.high.or(n.fromNumber(3).shiftLeft(61)), Y.high = Y.high.or(n.fromNumber(e2).and(n.fromNumber(16383).shiftLeft(47))), Y.high = Y.high.or(H.high.and(n.fromNumber(140737488355327)))) : (Y.high = Y.high.or(n.fromNumber(16383 & e2).shiftLeft(49)), Y.high = Y.high.or(H.high.and(n.fromNumber(562949953421311)))), Y.low = H.low, r2 && (Y.high = Y.high.or(n.fromString("9223372036854775808")));
          var K = p.allocBuffer(16);
          return k = 0, K[k++] = 255 & Y.low.low_, K[k++] = Y.low.low_ >> 8 & 255, K[k++] = Y.low.low_ >> 16 & 255, K[k++] = Y.low.low_ >> 24 & 255, K[k++] = 255 & Y.low.high_, K[k++] = Y.low.high_ >> 8 & 255, K[k++] = Y.low.high_ >> 16 & 255, K[k++] = Y.low.high_ >> 24 & 255, K[k++] = 255 & Y.high.low_, K[k++] = Y.high.low_ >> 8 & 255, K[k++] = Y.high.low_ >> 16 & 255, K[k++] = Y.high.low_ >> 24 & 255, K[k++] = 255 & Y.high.high_, K[k++] = Y.high.high_ >> 8 & 255, K[k++] = Y.high.high_ >> 16 & 255, K[k++] = Y.high.high_ >> 24 & 255, new d(K);
        };
        a = 6176, d.prototype.toString = function() {
          for (var t2, e2, r2, o2, i2, s2, u2 = 0, c2 = new Array(36), l2 = 0; l2 < c2.length; l2++)
            c2[l2] = 0;
          var f2, p2, h2, d2, _, v = 0, m = false, b = { parts: new Array(4) }, g = [];
          v = 0;
          var w = this.bytes;
          if (o2 = w[v++] | w[v++] << 8 | w[v++] << 16 | w[v++] << 24, r2 = w[v++] | w[v++] << 8 | w[v++] << 16 | w[v++] << 24, e2 = w[v++] | w[v++] << 8 | w[v++] << 16 | w[v++] << 24, t2 = w[v++] | w[v++] << 8 | w[v++] << 16 | w[v++] << 24, v = 0, { low: new n(o2, r2), high: new n(e2, t2) }.high.lessThan(n.ZERO) && g.push("-"), (i2 = t2 >> 26 & 31) >> 3 == 3) {
            if (30 === i2)
              return g.join("") + "Infinity";
            if (31 === i2)
              return "NaN";
            s2 = t2 >> 15 & 16383, h2 = 8 + (t2 >> 14 & 1);
          } else
            h2 = t2 >> 14 & 7, s2 = t2 >> 17 & 16383;
          if (f2 = s2 - a, b.parts[0] = (16383 & t2) + ((15 & h2) << 14), b.parts[1] = e2, b.parts[2] = r2, b.parts[3] = o2, 0 === b.parts[0] && 0 === b.parts[1] && 0 === b.parts[2] && 0 === b.parts[3])
            m = true;
          else
            for (_ = 3; _ >= 0; _--) {
              var O = 0, S = y(b);
              if (b = S.quotient, O = S.rem.low_)
                for (d2 = 8; d2 >= 0; d2--)
                  c2[9 * _ + d2] = O % 10, O = Math.floor(O / 10);
            }
          if (m)
            u2 = 1, c2[v] = 0;
          else
            for (u2 = 36, l2 = 0; !c2[v]; )
              l2++, u2 -= 1, v += 1;
          if ((p2 = u2 - 1 + f2) >= 34 || p2 <= -7 || f2 > 0) {
            for (g.push(c2[v++]), (u2 -= 1) && g.push("."), l2 = 0; l2 < u2; l2++)
              g.push(c2[v++]);
            g.push("E"), p2 > 0 ? g.push("+" + p2) : g.push(p2);
          } else if (f2 >= 0)
            for (l2 = 0; l2 < u2; l2++)
              g.push(c2[v++]);
          else {
            var j = u2 + f2;
            if (j > 0)
              for (l2 = 0; l2 < j; l2++)
                g.push(c2[v++]);
            else
              g.push("0");
            for (g.push("."); j++ < 0; )
              g.push("0");
            for (l2 = 0; l2 < u2 - Math.max(j - 1, 0); l2++)
              g.push(c2[v++]);
          }
          return g.join("");
        }, d.prototype.toJSON = function() {
          return { $numberDecimal: this.toString() };
        }, t.exports = d, t.exports.Decimal128 = d;
      }, function(t, e) {
        function r() {
          if (!(this instanceof r))
            return new r();
          this._bsontype = "MinKey";
        }
        t.exports = r, t.exports.MinKey = r;
      }, function(t, e) {
        function r() {
          if (!(this instanceof r))
            return new r();
          this._bsontype = "MaxKey";
        }
        t.exports = r, t.exports.MaxKey = r;
      }, function(t, e) {
        function r(t2, e2, n) {
          if (!(this instanceof r))
            return new r(t2, e2, n);
          this._bsontype = "DBRef", this.namespace = t2, this.oid = e2, this.db = n;
        }
        r.prototype.toJSON = function() {
          return { $ref: this.namespace, $id: this.oid, $db: null == this.db ? "" : this.db };
        }, t.exports = r, t.exports.DBRef = r;
      }, function(t, e, r) {
        "use strict";
        t.exports = r(115);
      }, function(t, e, r) {
        "use strict";
        t.exports = /* @__PURE__ */ new Set(["__proto__", "constructor", "prototype"]);
      }, function(t, e, r) {
        "use strict";
        var n = r(53);
        t.exports = function(t2) {
          var e2 = null != this ? this.path : null;
          return n(t2, e2);
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(13);
        t.exports = function(e2, r2) {
          if (t.exports.convertToTrue.has(e2))
            return true;
          if (t.exports.convertToFalse.has(e2))
            return false;
          if (null == e2)
            return e2;
          throw new n("boolean", e2, r2);
        }, t.exports.convertToTrue = /* @__PURE__ */ new Set([true, "true", 1, "1", "yes"]), t.exports.convertToFalse = /* @__PURE__ */ new Set([false, "false", 0, "0", "no"]);
      }, function(t, e, r) {
        "use strict";
        (function(n) {
          function o(t2, e2, r2) {
            return e2 in t2 ? Object.defineProperty(t2, e2, { value: r2, enumerable: true, configurable: true, writable: true }) : t2[e2] = r2, t2;
          }
          function i(t2) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          function s(t2, e2) {
            var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
            if (!r2) {
              if (Array.isArray(t2) || (r2 = function(t3, e3) {
                if (!t3)
                  return;
                if ("string" == typeof t3)
                  return a(t3, e3);
                var r3 = Object.prototype.toString.call(t3).slice(8, -1);
                "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
                if ("Map" === r3 || "Set" === r3)
                  return Array.from(t3);
                if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                  return a(t3, e3);
              }(t2)) || e2 && t2 && "number" == typeof t2.length) {
                r2 && (t2 = r2);
                var n2 = 0, o2 = function() {
                };
                return { s: o2, n: function() {
                  return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
                }, e: function(t3) {
                  throw t3;
                }, f: o2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var i2, s2 = true, u2 = false;
            return { s: function() {
              r2 = r2.call(t2);
            }, n: function() {
              var t3 = r2.next();
              return s2 = t3.done, t3;
            }, e: function(t3) {
              u2 = true, i2 = t3;
            }, f: function() {
              try {
                s2 || null == r2.return || r2.return();
              } finally {
                if (u2)
                  throw i2;
              }
            } };
          }
          function a(t2, e2) {
            (null == e2 || e2 > t2.length) && (e2 = t2.length);
            for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
              n2[r2] = t2[r2];
            return n2;
          }
          var u, c = r(19).EventEmitter, l = r(140), f = r(14), p = r(6), h = r(7), y = r(141), d = r(55), _ = r(76), v = r(0).arrayParentSymbol, m = r(3), b = r(24), g = r(142), w = r(72), O = r(50), S = r(15).get().ReadPreference, j = r(143), A = r(4), $ = r(1), E = r(147), P = r(148).middlewareFunctions, x = r(78).middlewareFunctions, T = P.concat(x).reduce(function(t2, e2) {
            return t2.add(e2);
          }, /* @__PURE__ */ new Set()), k = 0;
          function N(t2, e2) {
            if (!(this instanceof N))
              return new N(t2, e2);
            if (this.obj = t2, this.paths = {}, this.aliases = {}, this.subpaths = {}, this.virtuals = {}, this.singleNestedPaths = {}, this.nested = {}, this.inherits = {}, this.callQueue = [], this._indexes = [], this.methods = {}, this.methodOptions = {}, this.statics = {}, this.tree = {}, this.query = {}, this.childSchemas = [], this.plugins = [], this.$id = ++k, this.mapPaths = [], this.s = { hooks: new l() }, this.options = this.defaultOptions(e2), Array.isArray(t2)) {
              var r2, n2 = s(t2);
              try {
                for (n2.s(); !(r2 = n2.n()).done; ) {
                  var o2 = r2.value;
                  this.add(o2);
                }
              } catch (t3) {
                n2.e(t3);
              } finally {
                n2.f();
              }
            } else
              t2 && this.add(t2);
            var i2 = t2 && t2._id && $.isObject(t2._id);
            !this.paths._id && !this.options.noId && this.options._id && !i2 && _(this), this.setupTimestamp(this.options.timestamps);
          }
          N.prototype = Object.create(c.prototype), N.prototype.constructor = N, N.prototype.instanceOfSchema = true, Object.defineProperty(N.prototype, "$schemaType", { configurable: false, enumerable: false, writable: true }), Object.defineProperty(N.prototype, "childSchemas", { configurable: false, enumerable: true, writable: true }), N.prototype.obj, N.prototype.paths, N.prototype.tree, N.prototype.clone = function() {
            var t2 = this, e2 = new (null == this.base ? N : this.base.Schema)({}, this._userProvidedOptions);
            return e2.base = this.base, e2.obj = this.obj, e2.options = $.clone(this.options), e2.callQueue = this.callQueue.map(function(t3) {
              return t3;
            }), e2.methods = $.clone(this.methods), e2.methodOptions = $.clone(this.methodOptions), e2.statics = $.clone(this.statics), e2.query = $.clone(this.query), e2.plugins = Array.prototype.slice.call(this.plugins), e2._indexes = $.clone(this._indexes), e2.s.hooks = this.s.hooks.clone(), e2.tree = $.clone(this.tree), e2.paths = $.clone(this.paths), e2.nested = $.clone(this.nested), e2.subpaths = $.clone(this.subpaths), e2.singleNestedPaths = $.clone(this.singleNestedPaths), e2.childSchemas = function(t3) {
              for (var e3 = [], r2 = 0, n2 = Object.keys(t3.paths); r2 < n2.length; r2++) {
                var o2 = n2[r2], i2 = t3.paths[o2];
                (i2.$isMongooseDocumentArray || i2.$isSingleNested) && e3.push({ schema: i2.schema, model: i2.caster });
              }
              return e3;
            }(e2), e2.virtuals = $.clone(this.virtuals), e2.$globalPluginsApplied = this.$globalPluginsApplied, e2.$isRootDiscriminator = this.$isRootDiscriminator, e2.$implicitlyCreated = this.$implicitlyCreated, e2.mapPaths = [].concat(this.mapPaths), null != this.discriminatorMapping && (e2.discriminatorMapping = Object.assign({}, this.discriminatorMapping)), null != this.discriminators && (e2.discriminators = Object.assign({}, this.discriminators)), e2.aliases = Object.assign({}, this.aliases), e2.on("init", function(e3) {
              return t2.emit("init", e3);
            }), e2;
          }, N.prototype.pick = function(t2, e2) {
            var r2 = new N({}, e2 || this.options);
            if (!Array.isArray(t2))
              throw new f('Schema#pick() only accepts an array argument, got "' + i(t2) + '"');
            var n2, a2 = s(t2);
            try {
              for (a2.s(); !(n2 = a2.n()).done; ) {
                var u2 = n2.value;
                if (this.nested[u2])
                  r2.add(o({}, u2, m(this.tree, u2)));
                else {
                  var c2 = this.path(u2);
                  if (null == c2)
                    throw new f("Path `" + u2 + "` is not in the schema");
                  r2.add(o({}, u2, c2));
                }
              }
            } catch (t3) {
              a2.e(t3);
            } finally {
              a2.f();
            }
            return r2;
          }, N.prototype.defaultOptions = function(t2) {
            t2 && false === t2.safe && (t2.safe = { w: 0 }), t2 && t2.safe && 0 === t2.safe.w && (t2.versionKey = false), this._userProvidedOptions = null == t2 ? {} : $.clone(t2);
            var e2 = m(this, "base.options", {});
            if ((t2 = $.options({ strict: !("strict" in e2) || e2.strict, strictQuery: "strictQuery" in e2 && e2.strictQuery, bufferCommands: true, capped: false, versionKey: "__v", optimisticConcurrency: false, discriminatorKey: "__t", minimize: true, autoIndex: null, shardKey: null, read: null, validateBeforeSave: true, noId: false, _id: true, noVirtualId: false, id: true, typeKey: "type", typePojoToMixed: !("typePojoToMixed" in e2) || e2.typePojoToMixed }, $.clone(t2))).read && (t2.read = S(t2.read)), t2.optimisticConcurrency && !t2.versionKey)
              throw new f("Must set `versionKey` if using `optimisticConcurrency`");
            return t2;
          }, N.prototype.add = function(t2, e2) {
            if (t2 instanceof N || null != t2 && t2.instanceOfSchema)
              return w(this, t2), this;
            if (false === t2._id && null == e2 && (this.options._id = false), "__proto__." === (e2 = e2 || "") || "constructor." === e2 || "prototype." === e2)
              return this;
            for (var r2 = 0, n2 = Object.keys(t2); r2 < n2.length; r2++) {
              var i2 = n2[r2];
              if (!$.specialProperties.has(i2)) {
                var a2 = e2 + i2;
                if (null == t2[i2])
                  throw new TypeError("Invalid value for schema path `" + a2 + '`, got value "' + t2[i2] + '"');
                if ("_id" !== i2 || false !== t2[i2])
                  if (t2[i2] instanceof d || "VirtualType" === m(t2[i2], "constructor.name", null))
                    this.virtual(t2[i2]);
                  else {
                    if (Array.isArray(t2[i2]) && 1 === t2[i2].length && null == t2[i2][0])
                      throw new TypeError("Invalid value for schema Array path `" + a2 + '`, got value "' + t2[i2][0] + '"');
                    if ($.isPOJO(t2[i2]) || t2[i2] instanceof h)
                      if (Object.keys(t2[i2]).length < 1)
                        e2 && (this.nested[e2.substr(0, e2.length - 1)] = true), this.path(a2, t2[i2]);
                      else if (!t2[i2][this.options.typeKey] || "type" === this.options.typeKey && t2[i2].type.type)
                        this.nested[a2] = true, this.add(t2[i2], a2 + ".");
                      else if (!this.options.typePojoToMixed && $.isPOJO(t2[i2][this.options.typeKey])) {
                        e2 && (this.nested[e2.substr(0, e2.length - 1)] = true);
                        var u2 = new N(t2[i2][this.options.typeKey], { typePojoToMixed: false }), c2 = Object.assign({}, t2[i2], o({}, this.options.typeKey, u2));
                        this.path(e2 + i2, c2);
                      } else
                        e2 && (this.nested[e2.substr(0, e2.length - 1)] = true), this.path(e2 + i2, t2[i2]);
                    else
                      e2 && (this.nested[e2.substr(0, e2.length - 1)] = true), this.path(e2 + i2, t2[i2]);
                  }
              }
            }
            return function(t3, e3) {
              var r3, n3 = s(e3 = e3 || Object.keys(t3.paths));
              try {
                for (n3.s(); !(r3 = n3.n()).done; ) {
                  var o2 = r3.value, i3 = m(t3.paths[o2], "options");
                  if (null != i3) {
                    var a3 = t3.paths[o2].path, u3 = i3.alias;
                    if (u3) {
                      if ("string" != typeof u3)
                        throw new Error("Invalid value for alias option on " + a3 + ", got " + u3);
                      t3.aliases[u3] = a3, t3.virtual(u3).get(function(t4) {
                        return function() {
                          return "function" == typeof this.get ? this.get(t4) : this[t4];
                        };
                      }(a3)).set(function(t4) {
                        return function(e4) {
                          return this.$set(t4, e4);
                        };
                      }(a3));
                    }
                  }
                }
              } catch (t4) {
                n3.e(t4);
              } finally {
                n3.f();
              }
            }(this, Object.keys(t2).map(function(t3) {
              return e2 ? e2 + t3 : t3;
            })), this;
          }, N.reserved = /* @__PURE__ */ Object.create(null), N.prototype.reserved = N.reserved;
          var B = N.reserved;
          function C(t2) {
            return /\.\d+/.test(t2) ? t2.replace(/\.\d+\./g, ".$.").replace(/\.\d+$/, ".$") : t2;
          }
          function R(t2, e2) {
            if (0 === t2.mapPaths.length)
              return null;
            var r2, n2 = s(t2.mapPaths);
            try {
              for (n2.s(); !(r2 = n2.n()).done; ) {
                var o2 = r2.value.path;
                if (new RegExp("^" + o2.replace(/\.\$\*/g, "\\.[^.]+") + "$").test(e2))
                  return t2.paths[o2];
              }
            } catch (t3) {
              n2.e(t3);
            } finally {
              n2.f();
            }
            return null;
          }
          function D(t2, e2) {
            var r2 = e2.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);
            if (r2.length < 2)
              return t2.paths.hasOwnProperty(r2[0]) ? t2.paths[r2[0]] : "adhocOrUndefined";
            var n2 = t2.path(r2[0]), o2 = false;
            if (!n2)
              return "adhocOrUndefined";
            for (var i2 = r2.length - 1, s2 = 1; s2 < r2.length; ++s2) {
              o2 = false;
              var a2 = r2[s2];
              if (s2 === i2 && n2 && !/\D/.test(a2)) {
                n2 = n2.$isMongooseDocumentArray ? n2.$embeddedSchemaType : n2 instanceof u.Array ? n2.caster : void 0;
                break;
              }
              if (/\D/.test(a2)) {
                if (!n2 || !n2.schema) {
                  n2 = void 0;
                  break;
                }
                o2 = "nested" === n2.schema.pathType(a2), n2 = n2.schema.path(a2);
              } else
                n2 instanceof u.Array && s2 !== i2 && (n2 = n2.caster);
            }
            return t2.subpaths[e2] = n2, n2 ? "real" : o2 ? "nested" : "adhocOrUndefined";
          }
          B.prototype = B.emit = B.listeners = B.on = B.removeListener = B.collection = B.errors = B.get = B.init = B.isModified = B.isNew = B.populated = B.remove = B.save = B.toObject = B.validate = 1, N.prototype.path = function(t2, e2) {
            var r2 = C(t2);
            if (void 0 === e2) {
              var n2 = function(t3, e3, r3) {
                if (t3.paths.hasOwnProperty(e3))
                  return t3.paths[e3];
                if (t3.subpaths.hasOwnProperty(r3))
                  return t3.subpaths[r3];
                if (t3.singleNestedPaths.hasOwnProperty(r3) && "object" === i(t3.singleNestedPaths[r3]))
                  return t3.singleNestedPaths[r3];
                return null;
              }(this, t2, r2);
              if (null != n2)
                return n2;
              var o2 = R(this, t2);
              return null != o2 ? o2 : null != (n2 = this.hasMixedParent(r2)) ? n2 : /\.\d+\.?.*$/.test(t2) ? function(t3, e3) {
                return D(t3, e3), t3.subpaths[e3];
              }(this, t2) : void 0;
            }
            var a2 = t2.split(".")[0];
            if (B[a2])
              throw new Error("`" + a2 + "` may not be used as a schema pathname");
            "object" === i(e2) && $.hasUserDefinedProperty(e2, "ref") && E(e2.ref, t2);
            var u2, c2 = t2.split(/\./), l2 = c2.pop(), f2 = this.tree, h2 = "", y2 = s(c2);
            try {
              for (y2.s(); !(u2 = y2.n()).done; ) {
                var d2 = u2.value;
                if ($.specialProperties.has(d2))
                  throw new Error("Cannot set special property `" + d2 + "` on a schema");
                if (h2 = h2 += (h2.length > 0 ? "." : "") + d2, f2[d2] || (this.nested[h2] = true, f2[d2] = {}), "object" !== i(f2[d2])) {
                  var _2 = "Cannot set nested path `" + t2 + "`. Parent path `" + h2 + "` already set to type " + f2[d2].name + ".";
                  throw new Error(_2);
                }
                f2 = f2[d2];
              }
            } catch (t3) {
              y2.e(t3);
            } finally {
              y2.f();
            }
            f2[l2] = $.clone(e2), this.paths[t2] = this.interpretAsType(t2, e2, this.options);
            var v2 = this.paths[t2];
            if (v2.$isSchemaMap) {
              var m2 = t2 + ".$*", b2 = { type: {} };
              if ($.hasUserDefinedProperty(e2, "of"))
                b2 = $.isPOJO(e2.of) && Object.keys(e2.of).length > 0 && !$.hasUserDefinedProperty(e2.of, this.options.typeKey) ? new N(e2.of) : e2.of;
              $.hasUserDefinedProperty(e2, "ref") && (b2 = { type: b2, ref: e2.ref }), this.paths[m2] = this.interpretAsType(m2, b2, this.options), this.mapPaths.push(this.paths[m2]), v2.$__schemaType = this.paths[m2];
            }
            if (v2.$isSingleNested) {
              for (var g2 = 0, w2 = Object.keys(v2.schema.paths); g2 < w2.length; g2++) {
                var O2 = w2[g2];
                this.singleNestedPaths[t2 + "." + O2] = v2.schema.paths[O2];
              }
              for (var S2 = 0, j2 = Object.keys(v2.schema.singleNestedPaths); S2 < j2.length; S2++) {
                var A2 = j2[S2];
                this.singleNestedPaths[t2 + "." + A2] = v2.schema.singleNestedPaths[A2];
              }
              for (var P2 = 0, x2 = Object.keys(v2.schema.subpaths); P2 < x2.length; P2++) {
                var T2 = x2[P2];
                this.singleNestedPaths[t2 + "." + T2] = v2.schema.subpaths[T2];
              }
              for (var k2 = 0, M2 = Object.keys(v2.schema.nested); k2 < M2.length; k2++) {
                var I2 = M2[k2];
                this.singleNestedPaths[t2 + "." + I2] = "nested";
              }
              Object.defineProperty(v2.schema, "base", { configurable: true, enumerable: false, writable: false, value: this.base }), v2.caster.base = this.base, this.childSchemas.push({ schema: v2.schema, model: v2.caster });
            } else
              v2.$isMongooseDocumentArray && (Object.defineProperty(v2.schema, "base", { configurable: true, enumerable: false, writable: false, value: this.base }), v2.casterConstructor.base = this.base, this.childSchemas.push({ schema: v2.schema, model: v2.casterConstructor }));
            if (v2.$isMongooseArray && v2.caster instanceof p) {
              for (var F2 = t2, L2 = v2, U = []; L2.$isMongooseArray; )
                F2 += ".$", L2.$isMongooseDocumentArray ? (L2.$embeddedSchemaType._arrayPath = F2, L2.$embeddedSchemaType._arrayParentPath = t2, L2 = L2.$embeddedSchemaType.clone()) : (L2.caster._arrayPath = F2, L2.caster._arrayParentPath = t2, L2 = L2.caster.clone()), L2.path = F2, U.push(L2);
              for (var V = 0, q = U; V < q.length; V++) {
                var W = q[V];
                this.subpaths[W.path] = W;
              }
            }
            if (v2.$isMongooseDocumentArray) {
              for (var H = 0, Y = Object.keys(v2.schema.paths); H < Y.length; H++) {
                var K = Y[H], z = v2.schema.paths[K];
                this.subpaths[t2 + "." + K] = z, "object" === i(z) && null != z && (z.$isUnderneathDocArray = true);
              }
              for (var Q = 0, J = Object.keys(v2.schema.subpaths); Q < J.length; Q++) {
                var G = J[Q], X = v2.schema.subpaths[G];
                this.subpaths[t2 + "." + G] = X, "object" === i(X) && null != X && (X.$isUnderneathDocArray = true);
              }
              for (var Z = 0, tt = Object.keys(v2.schema.singleNestedPaths); Z < tt.length; Z++) {
                var et = tt[Z], rt = v2.schema.singleNestedPaths[et];
                this.subpaths[t2 + "." + et] = rt, "object" === i(rt) && null != rt && (rt.$isUnderneathDocArray = true);
              }
            }
            return this;
          }, Object.defineProperty(N.prototype, "base", { configurable: true, enumerable: false, writable: true, value: null }), N.prototype.interpretAsType = function(t2, e2, r2) {
            if (e2 instanceof p) {
              if (e2.path === t2)
                return e2;
              var o2 = e2.clone();
              return o2.path = t2, o2;
            }
            var s2 = null != this.base ? this.base.Schema.Types : N.Types;
            if (!($.isPOJO(e2) || e2 instanceof h) && "Object" !== $.getFunctionName(e2.constructor)) {
              var a2 = e2;
              (e2 = {})[r2.typeKey] = a2;
            }
            var u2, c2 = !e2[r2.typeKey] || "type" === r2.typeKey && e2.type.type ? {} : e2[r2.typeKey];
            if ($.isPOJO(c2) || "mixed" === c2)
              return new s2.Mixed(t2, e2);
            if (Array.isArray(c2) || c2 === Array || "array" === c2 || c2 === s2.Array) {
              var l2 = c2 === Array || "array" === c2 ? e2.cast || e2.of : c2[0];
              if (l2 && l2.instanceOfSchema) {
                if (!(l2 instanceof N))
                  throw new TypeError("Schema for array path `" + t2 + "` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`.");
                return new s2.DocumentArray(t2, l2, e2);
              }
              if (l2 && l2[r2.typeKey] && l2[r2.typeKey].instanceOfSchema) {
                if (!(l2[r2.typeKey] instanceof N))
                  throw new TypeError("Schema for array path `" + t2 + "` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`.");
                return new s2.DocumentArray(t2, l2[r2.typeKey], e2, l2);
              }
              if (Array.isArray(l2))
                return new s2.Array(t2, this.interpretAsType(t2, l2, r2), e2);
              if ("string" == typeof l2)
                l2 = s2[l2.charAt(0).toUpperCase() + l2.substring(1)];
              else if (l2 && (!l2[r2.typeKey] || "type" === r2.typeKey && l2.type.type) && $.isPOJO(l2)) {
                if (Object.keys(l2).length) {
                  var f2 = { minimize: r2.minimize };
                  r2.typeKey && (f2.typeKey = r2.typeKey), r2.hasOwnProperty("strict") && (f2.strict = r2.strict), r2.hasOwnProperty("typePojoToMixed") && (f2.typePojoToMixed = r2.typePojoToMixed), this._userProvidedOptions.hasOwnProperty("_id") ? f2._id = this._userProvidedOptions._id : N.Types.DocumentArray.defaultOptions && null != N.Types.DocumentArray.defaultOptions._id && (f2._id = N.Types.DocumentArray.defaultOptions._id);
                  var y2 = new N(l2, f2);
                  return y2.$implicitlyCreated = true, new s2.DocumentArray(t2, y2, e2);
                }
                return new s2.Array(t2, s2.Mixed, e2);
              }
              if (l2 && ("ClockDate" === (u2 = "string" == typeof (c2 = !l2[r2.typeKey] || "type" === r2.typeKey && l2.type.type ? l2 : l2[r2.typeKey]) ? c2 : c2.schemaName || $.getFunctionName(c2)) && (u2 = "Date"), !s2.hasOwnProperty(u2)))
                throw new TypeError("Invalid schema configuration: " + "`".concat(u2, "` is not a valid type within the array `").concat(t2, "`.") + "See http://bit.ly/mongoose-schematypes for a list of valid schema types.");
              return new s2.Array(t2, l2 || s2.Mixed, e2, r2);
            }
            if (c2 && c2.instanceOfSchema)
              return new s2.Embedded(c2, t2, e2);
            if ((u2 = n.isBuffer(c2) ? "Buffer" : "function" == typeof c2 || "object" === i(c2) ? c2.schemaName || $.getFunctionName(c2) : null == c2 ? "" + c2 : c2.toString()) && (u2 = u2.charAt(0).toUpperCase() + u2.substring(1)), "ObjectID" === u2 && (u2 = "ObjectId"), "ClockDate" === u2 && (u2 = "Date"), null == s2[u2])
              throw new TypeError("Invalid schema configuration: `".concat(u2, "` is not ") + "a valid type at path `".concat(t2, "`. See ") + "http://bit.ly/mongoose-schematypes for a list of valid schema types.");
            return new s2[u2](t2, e2);
          }, N.prototype.eachPath = function(t2) {
            for (var e2 = Object.keys(this.paths), r2 = e2.length, n2 = 0; n2 < r2; ++n2)
              t2(e2[n2], this.paths[e2[n2]]);
            return this;
          }, N.prototype.requiredPaths = function(t2) {
            if (this._requiredpaths && !t2)
              return this._requiredpaths;
            for (var e2 = Object.keys(this.paths), r2 = e2.length, n2 = []; r2--; ) {
              var o2 = e2[r2];
              this.paths[o2].isRequired && n2.push(o2);
            }
            return this._requiredpaths = n2, this._requiredpaths;
          }, N.prototype.indexedPaths = function() {
            return this._indexedpaths || (this._indexedpaths = this.indexes()), this._indexedpaths;
          }, N.prototype.pathType = function(t2) {
            var e2 = C(t2);
            if (this.paths.hasOwnProperty(t2))
              return "real";
            if (this.virtuals.hasOwnProperty(t2))
              return "virtual";
            if (this.nested.hasOwnProperty(t2))
              return "nested";
            if (this.subpaths.hasOwnProperty(e2) || this.subpaths.hasOwnProperty(t2))
              return "real";
            var r2 = this.singleNestedPaths.hasOwnProperty(e2) || this.singleNestedPaths.hasOwnProperty(t2);
            return r2 ? "nested" === r2 ? "nested" : "real" : null != R(this, t2) ? "real" : /\.\d+\.|\.\d+$/.test(t2) ? D(this, t2) : "adhocOrUndefined";
          }, N.prototype.hasMixedParent = function(t2) {
            var e2 = t2.split(/\./g);
            t2 = "";
            for (var r2 = 0; r2 < e2.length; ++r2)
              if (t2 = r2 > 0 ? t2 + "." + e2[r2] : e2[r2], this.paths.hasOwnProperty(t2) && this.paths[t2] instanceof u.Mixed)
                return this.paths[t2];
            return null;
          }, N.prototype.setupTimestamp = function(t2) {
            return j(this, t2);
          }, N.prototype.queue = function(t2, e2) {
            return this.callQueue.push([t2, e2]), this;
          }, N.prototype.pre = function(t2) {
            if (t2 instanceof RegExp) {
              var e2, r2 = Array.prototype.slice.call(arguments, 1), n2 = s(T);
              try {
                for (n2.s(); !(e2 = n2.n()).done; ) {
                  var o2 = e2.value;
                  t2.test(o2) && this.pre.apply(this, [o2].concat(r2));
                }
              } catch (t3) {
                n2.e(t3);
              } finally {
                n2.f();
              }
              return this;
            }
            if (Array.isArray(t2)) {
              var i2, a2 = Array.prototype.slice.call(arguments, 1), u2 = s(t2);
              try {
                for (u2.s(); !(i2 = u2.n()).done; ) {
                  var c2 = i2.value;
                  this.pre.apply(this, [c2].concat(a2));
                }
              } catch (t3) {
                u2.e(t3);
              } finally {
                u2.f();
              }
              return this;
            }
            return this.s.hooks.pre.apply(this.s.hooks, arguments), this;
          }, N.prototype.post = function(t2) {
            if (t2 instanceof RegExp) {
              var e2, r2 = Array.prototype.slice.call(arguments, 1), n2 = s(T);
              try {
                for (n2.s(); !(e2 = n2.n()).done; ) {
                  var o2 = e2.value;
                  t2.test(o2) && this.post.apply(this, [o2].concat(r2));
                }
              } catch (t3) {
                n2.e(t3);
              } finally {
                n2.f();
              }
              return this;
            }
            if (Array.isArray(t2)) {
              var i2, a2 = Array.prototype.slice.call(arguments, 1), u2 = s(t2);
              try {
                for (u2.s(); !(i2 = u2.n()).done; ) {
                  var c2 = i2.value;
                  this.post.apply(this, [c2].concat(a2));
                }
              } catch (t3) {
                u2.e(t3);
              } finally {
                u2.f();
              }
              return this;
            }
            return this.s.hooks.post.apply(this.s.hooks, arguments), this;
          }, N.prototype.plugin = function(t2, e2) {
            if ("function" != typeof t2)
              throw new Error('First param to `schema.plugin()` must be a function, got "' + i(t2) + '"');
            if (e2 && e2.deduplicate) {
              var r2, n2 = s(this.plugins);
              try {
                for (n2.s(); !(r2 = n2.n()).done; ) {
                  if (r2.value.fn === t2)
                    return this;
                }
              } catch (t3) {
                n2.e(t3);
              } finally {
                n2.f();
              }
            }
            return this.plugins.push({ fn: t2, opts: e2 }), t2(this, e2), this;
          }, N.prototype.method = function(t2, e2, r2) {
            if ("string" != typeof t2)
              for (var n2 in t2)
                this.methods[n2] = t2[n2], this.methodOptions[n2] = $.clone(r2);
            else
              this.methods[t2] = e2, this.methodOptions[t2] = $.clone(r2);
            return this;
          }, N.prototype.static = function(t2, e2) {
            if ("string" != typeof t2)
              for (var r2 in t2)
                this.statics[r2] = t2[r2];
            else
              this.statics[t2] = e2;
            return this;
          }, N.prototype.index = function(t2, e2) {
            return t2 || (t2 = {}), e2 || (e2 = {}), e2.expires && $.expires(e2), this._indexes.push([t2, e2]), this;
          }, N.prototype.set = function(t2, e2, r2) {
            if (1 === arguments.length)
              return this.options[t2];
            switch (t2) {
              case "read":
                this.options[t2] = S(e2, r2), this._userProvidedOptions[t2] = this.options[t2];
                break;
              case "safe":
                M(this.options, e2), this._userProvidedOptions[t2] = this.options[t2];
                break;
              case "timestamps":
                this.setupTimestamp(e2), this.options[t2] = e2, this._userProvidedOptions[t2] = this.options[t2];
                break;
              case "_id":
                this.options[t2] = e2, this._userProvidedOptions[t2] = this.options[t2], e2 && !this.paths._id ? _(this) : !e2 && null != this.paths._id && this.paths._id.auto && this.remove("_id");
                break;
              default:
                this.options[t2] = e2, this._userProvidedOptions[t2] = this.options[t2];
            }
            return this;
          };
          var M = A.deprecate(function(t2, e2) {
            t2.safe = false === e2 ? { w: 0 } : e2;
          }, "Mongoose: The `safe` option for schemas is deprecated. Use the `writeConcern` option instead: http://bit.ly/mongoose-write-concern");
          N.prototype.get = function(t2) {
            return this.options[t2];
          };
          var I = "2d 2dsphere hashed text".split(" ");
          function F(t2, e2) {
            var r2, n2 = e2.split("."), o2 = n2.pop(), i2 = t2.tree, a2 = s(n2);
            try {
              for (a2.s(); !(r2 = a2.n()).done; ) {
                i2 = i2[r2.value];
              }
            } catch (t3) {
              a2.e(t3);
            } finally {
              a2.f();
            }
            delete i2[o2];
          }
          function L(t2) {
            return t2.startsWith("$[") && t2.endsWith("]");
          }
          Object.defineProperty(N, "indexTypes", { get: function() {
            return I;
          }, set: function() {
            throw new Error("Cannot overwrite Schema.indexTypes");
          } }), N.prototype.indexes = function() {
            return g(this);
          }, N.prototype.virtual = function(t2, e2) {
            var r2 = this;
            if (t2 instanceof d || "VirtualType" === b(t2))
              return this.virtual(t2.path, t2.options);
            if (e2 = new y(e2), $.hasUserDefinedProperty(e2, ["ref", "refPath"])) {
              if (null == e2.localField)
                throw new Error("Reference virtuals require `localField` option");
              if (null == e2.foreignField)
                throw new Error("Reference virtuals require `foreignField` option");
              this.pre("init", function(r3) {
                if (O.has(t2, r3)) {
                  var n3 = O.get(t2, r3);
                  this.$$populatedVirtuals || (this.$$populatedVirtuals = {}), e2.justOne || e2.count ? this.$$populatedVirtuals[t2] = Array.isArray(n3) ? n3[0] : n3 : this.$$populatedVirtuals[t2] = Array.isArray(n3) ? n3 : null == n3 ? [] : [n3], O.unset(t2, r3);
                }
              });
              var n2 = this.virtual(t2);
              return n2.options = e2, n2.set(function(r3) {
                this.$$populatedVirtuals || (this.$$populatedVirtuals = {}), e2.justOne || e2.count ? (this.$$populatedVirtuals[t2] = Array.isArray(r3) ? r3[0] : r3, "object" !== i(this.$$populatedVirtuals[t2]) && (this.$$populatedVirtuals[t2] = e2.count ? r3 : null)) : (this.$$populatedVirtuals[t2] = Array.isArray(r3) ? r3 : null == r3 ? [] : [r3], this.$$populatedVirtuals[t2] = this.$$populatedVirtuals[t2].filter(function(t3) {
                  return t3 && "object" === i(t3);
                }));
              }), "function" == typeof e2.get && n2.get(e2.get), n2;
            }
            var o2 = this.virtuals, s2 = t2.split(".");
            if ("real" === this.pathType(t2))
              throw new Error('Virtual path "' + t2 + '" conflicts with a real path in the schema');
            o2[t2] = s2.reduce(function(r3, n3, o3) {
              return r3[n3] || (r3[n3] = o3 === s2.length - 1 ? new d(e2, t2) : {}), r3[n3];
            }, this.tree);
            for (var a2 = s2[0], u2 = 0; u2 < s2.length - 1; ++u2) {
              if (null != this.paths[a2] && this.paths[a2].$isMongooseDocumentArray) {
                if ("break" === function() {
                  var t3 = s2.slice(u2 + 1).join(".");
                  return r2.paths[a2].schema.virtual(t3).get(function(e3, r3, n3) {
                    var o3 = n3.__parentArray[v], i2 = a2 + "." + n3.__index + "." + t3;
                    return o3.get(i2);
                  }), "break";
                }())
                  break;
              }
              a2 += "." + s2[u2 + 1];
            }
            return o2[t2];
          }, N.prototype.virtualpath = function(t2) {
            return this.virtuals.hasOwnProperty(t2) ? this.virtuals[t2] : null;
          }, N.prototype.remove = function(t2) {
            return "string" == typeof t2 && (t2 = [t2]), Array.isArray(t2) && t2.forEach(function(t3) {
              if (null != this.path(t3) || this.nested[t3]) {
                if (this.nested[t3]) {
                  var e2, r2 = s(Object.keys(this.paths).concat(Object.keys(this.nested)));
                  try {
                    for (r2.s(); !(e2 = r2.n()).done; ) {
                      var n2 = e2.value;
                      n2.startsWith(t3 + ".") && (delete this.paths[n2], delete this.nested[n2], F(this, n2));
                    }
                  } catch (t4) {
                    r2.e(t4);
                  } finally {
                    r2.f();
                  }
                  return delete this.nested[t3], void F(this, t3);
                }
                delete this.paths[t3], F(this, t3);
              }
            }, this), this;
          }, N.prototype.loadClass = function(t2, e2) {
            return t2 === Object.prototype || t2 === Function.prototype || t2.prototype.hasOwnProperty("$isMongooseModelPrototype") || (this.loadClass(Object.getPrototypeOf(t2), e2), e2 || Object.getOwnPropertyNames(t2).forEach(function(e3) {
              if (!e3.match(/^(length|name|prototype|constructor|__proto__)$/)) {
                var r2 = Object.getOwnPropertyDescriptor(t2, e3);
                r2.hasOwnProperty("value") && this.static(e3, r2.value);
              }
            }, this), Object.getOwnPropertyNames(t2.prototype).forEach(function(r2) {
              if (!r2.match(/^(constructor)$/)) {
                var n2 = Object.getOwnPropertyDescriptor(t2.prototype, r2);
                e2 || "function" == typeof n2.value && this.method(r2, n2.value), "function" == typeof n2.get && (this.virtuals[r2] && (this.virtuals[r2].getters = []), this.virtual(r2).get(n2.get)), "function" == typeof n2.set && (this.virtuals[r2] && (this.virtuals[r2].setters = []), this.virtual(r2).set(n2.set));
              }
            }, this)), this;
          }, N.prototype._getSchema = function(t2) {
            var e2 = this.path(t2), r2 = [];
            if (e2)
              return e2.$fullPath = t2, e2;
            for (var n2 = t2.split("."), o2 = 0; o2 < n2.length; ++o2)
              ("$" === n2[o2] || L(n2[o2])) && (n2[o2] = "0");
            return function t3(e3, n3) {
              for (var o3, i2, s2 = e3.length + 1; s2--; )
                if (i2 = e3.slice(0, s2).join("."), o3 = n3.path(i2)) {
                  if (r2.push(i2), o3.caster) {
                    if (o3.caster instanceof u.Mixed)
                      return o3.caster.$fullPath = r2.join("."), o3.caster;
                    if (s2 !== e3.length && o3.schema) {
                      var a2 = void 0;
                      return "$" === e3[s2] || L(e3[s2]) ? s2 + 1 === e3.length ? o3 : ((a2 = t3(e3.slice(s2 + 1), o3.schema)) && (a2.$isUnderneathDocArray = a2.$isUnderneathDocArray || !o3.schema.$isSingleNested), a2) : ((a2 = t3(e3.slice(s2), o3.schema)) && (a2.$isUnderneathDocArray = a2.$isUnderneathDocArray || !o3.schema.$isSingleNested), a2);
                    }
                  } else if (o3.$isSchemaMap) {
                    return s2 + 1 >= e3.length ? o3 : t3(e3.slice(s2 + 1), o3.$__schemaType.schema);
                  }
                  return o3.$fullPath = r2.join("."), o3;
                }
            }(n2, this);
          }, N.prototype._getPathType = function(t2) {
            if (this.path(t2))
              return "real";
            return function t3(e2, r2) {
              for (var n2, o2, i2 = e2.length + 1; i2--; ) {
                if (o2 = e2.slice(0, i2).join("."), n2 = r2.path(o2))
                  return n2.caster ? n2.caster instanceof u.Mixed ? { schema: n2, pathType: "mixed" } : i2 !== e2.length && n2.schema ? "$" === e2[i2] || L(e2[i2]) ? i2 === e2.length - 1 ? { schema: n2, pathType: "nested" } : t3(e2.slice(i2 + 1), n2.schema) : t3(e2.slice(i2), n2.schema) : { schema: n2, pathType: n2.$isSingleNested ? "nested" : "array" } : { schema: n2, pathType: "real" };
                if (i2 === e2.length && r2.nested[o2])
                  return { schema: r2, pathType: "nested" };
              }
              return { schema: n2 || r2, pathType: "undefined" };
            }(t2.split("."), this);
          }, t.exports = e = N, N.Types = u = r(56), e.ObjectId = u.ObjectId;
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        var n = r(1);
        function o(t2, e2) {
          this.path = e2, this.getters = [], this.setters = [], this.options = Object.assign({}, t2);
        }
        o.prototype._applyDefaultGetters = function() {
          if (!(this.getters.length > 0 || this.setters.length > 0)) {
            var t2 = "$" + this.path;
            this.getters.push(function() {
              return this[t2];
            }), this.setters.push(function(e2) {
              this[t2] = e2;
            });
          }
        }, o.prototype.clone = function() {
          var t2 = new o(this.options, this.path);
          return t2.getters = [].concat(this.getters), t2.setters = [].concat(this.setters), t2;
        }, o.prototype.get = function(t2) {
          return this.getters.push(t2), this;
        }, o.prototype.set = function(t2) {
          return this.setters.push(t2), this;
        }, o.prototype.applyGetters = function(t2, e2) {
          n.hasUserDefinedProperty(this.options, ["ref", "refPath"]) && e2.$$populatedVirtuals && e2.$$populatedVirtuals.hasOwnProperty(this.path) && (t2 = e2.$$populatedVirtuals[this.path]);
          for (var r2 = t2, o2 = this.getters.length - 1; o2 >= 0; o2--)
            r2 = this.getters[o2].call(e2, r2, this, e2);
          return r2;
        }, o.prototype.applySetters = function(t2, e2) {
          for (var r2 = t2, n2 = this.setters.length - 1; n2 >= 0; n2--)
            r2 = this.setters[n2].call(e2, r2, this, e2);
          return r2;
        }, t.exports = o;
      }, function(t, e, r) {
        "use strict";
        e.String = r(149), e.Number = r(80), e.Boolean = r(153), e.DocumentArray = r(154), e.Embedded = r(161), e.Array = r(57), e.Buffer = r(163), e.Date = r(165), e.ObjectId = r(168), e.Mixed = r(28), e.Decimal128 = e.Decimal = r(170), e.Map = r(172), e.Oid = e.ObjectId, e.Object = e.Mixed, e.Bool = e.Boolean, e.ObjectID = e.ObjectId;
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        var i, s, a = r(52), u = r(74), c = r(14), l = r(155), f = r(6), p = f.CastError, h = r(28), y = r(156), d = r(157), _ = r(3), v = r(83), m = r(4), b = r(1), g = r(36).castToNumber, w = r(84), O = r(37), S = Symbol("mongoose#isNestedArray"), j = Object.freeze({});
        function A(t2, e2, n2, o2) {
          s || (s = r(38).Embedded);
          var i2, a2, u2 = "type";
          if (o2 && o2.typeKey && (u2 = o2.typeKey), this.schemaOptions = o2, e2) {
            var c2 = {};
            b.isPOJO(e2) && (e2[u2] ? (delete (c2 = b.clone(e2))[u2], e2 = e2[u2]) : e2 = h), null != n2 && null != n2.ref && null == c2.ref && (c2.ref = n2.ref), e2 === Object && (e2 = h);
            var l2 = "string" == typeof e2 ? e2 : b.getFunctionName(e2), p2 = r(56), y2 = p2.hasOwnProperty(l2) ? p2[l2] : e2;
            if (this.casterConstructor = y2, this.casterConstructor instanceof A && (this.casterConstructor[S] = true), "function" != typeof y2 || y2.$isArraySubdocument || y2.$isSchemaMap)
              this.caster = y2, this.caster instanceof s || (this.caster.path = t2);
            else {
              var d2 = this.caster instanceof s ? null : t2;
              this.caster = new y2(d2, c2);
            }
            this.$embeddedSchemaType = this.caster;
          }
          if (this.$isMongooseArray = true, f.call(this, t2, n2, "Array"), null != this.defaultValue && (i2 = this.defaultValue, a2 = "function" == typeof i2), !("defaultValue" in this) || void 0 !== this.defaultValue) {
            var _2 = function() {
              var t3 = [];
              return a2 ? t3 = i2.call(this) : null != i2 && (t3 = t3.concat(i2)), t3;
            };
            _2.$runBeforeSetters = !a2, this.default(_2);
          }
        }
        A.schemaName = "Array", A.options = { castNonArrays: true }, A.defaultOptions = {}, A.set = f.set, A.prototype = Object.create(f.prototype), A.prototype.constructor = A, A.prototype.OptionsConstructor = l, A._checkRequired = f.prototype.checkRequired, A.checkRequired = f.checkRequired, A.prototype.checkRequired = function(t2, e2) {
          return f._isRef(this, t2, e2, true) ? !!t2 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : A.checkRequired())(t2);
        }, A.prototype.enum = function() {
          for (var t2 = this; ; ) {
            var e2 = _(t2, "caster.instance");
            if ("Array" !== e2) {
              if ("String" !== e2 && "Number" !== e2)
                throw new Error("`enum` can only be set on an array of strings or numbers , not " + e2);
              break;
            }
            t2 = t2.caster;
          }
          var r2 = arguments;
          return !Array.isArray(arguments) && b.isObject(arguments) && (r2 = b.object.vals(r2)), t2.caster.enum.apply(t2.caster, r2), this;
        }, A.prototype.applyGetters = function(t2, e2) {
          if (null != e2 && null != e2.$__ && e2.populated(this.path))
            return t2;
          var r2 = f.prototype.applyGetters.call(this, t2, e2);
          if (Array.isArray(r2))
            for (var n2 = r2.length, o2 = 0; o2 < n2; ++o2)
              r2[o2] = this.caster.applyGetters(r2[o2], e2);
          return r2;
        }, A.prototype._applySetters = function(t2, e2, r2, n2) {
          if (this.casterConstructor.$isMongooseArray && A.options.castNonArrays && !this[S]) {
            for (var o2 = 0, i2 = this; null != i2 && i2.$isMongooseArray && !i2.$isMongooseDocumentArray; )
              ++o2, i2 = i2.casterConstructor;
            if (null != t2 && t2.length > 0) {
              var s2 = y(t2);
              if (s2.min === s2.max && s2.max < o2 && s2.containsNonArrayItem)
                for (var a2 = s2.max; a2 < o2; ++a2)
                  t2 = [t2];
            }
          }
          return f.prototype._applySetters.call(this, t2, e2, r2, n2);
        }, A.prototype.cast = function(t2, e2, n2, o2, s2) {
          var a2, u2;
          if (i || (i = r(38).Array), Array.isArray(t2)) {
            var l2 = t2.length;
            if (!l2 && e2) {
              var f2 = e2.schema.indexedPaths(), y2 = this.path;
              for (a2 = 0, u2 = f2.length; a2 < u2; ++a2) {
                var d2 = f2[a2][0][y2];
                if ("2dsphere" === d2 || "2d" === d2)
                  return;
              }
              var _2 = this.path.endsWith(".coordinates") ? this.path.substr(0, this.path.lastIndexOf(".")) : null;
              if (null != _2)
                for (a2 = 0, u2 = f2.length; a2 < u2; ++a2) {
                  if ("2dsphere" === f2[a2][0][_2])
                    return;
                }
            }
            if (t2 = i(t2, (s2 = s2 || j).path || this._arrayPath || this.path, e2, this), n2 && null != e2 && null != e2.$__ && e2.populated(this.path))
              return t2;
            var v2 = this.caster, b2 = v2.$isMongooseArray, g2 = "Number" === v2.instance;
            if (v2 && this.casterConstructor !== h)
              try {
                for (a2 = 0; a2 < l2; a2++) {
                  if (g2 && void 0 === t2[a2])
                    throw new c("Mongoose number arrays disallow storing undefined");
                  var w2 = {};
                  b2 && (null != s2.arrayPath || null != v2._arrayParentPath) && (w2.arrayPathIndex = a2), t2[a2] = v2.applySetters(t2[a2], e2, n2, void 0, w2);
                }
              } catch (e3) {
                throw new p("[" + e3.kind + "]", m.inspect(t2), this.path + "." + a2, e3, this);
              }
            return t2;
          }
          if (n2 || A.options.castNonArrays)
            return e2 && n2 && e2.markModified(this.path), this.cast([t2], e2, n2);
          throw new p("Array", m.inspect(t2), this.path, null, this);
        }, A.prototype._castForPopulate = function(t2, e2) {
          if (i || (i = r(38).Array), Array.isArray(t2)) {
            var n2, o2 = t2.length, s2 = this.caster;
            if (s2 && this.casterConstructor !== h)
              try {
                for (n2 = 0; n2 < o2; n2++) {
                  var a2 = {};
                  s2.$isMongooseArray && null != s2._arrayParentPath && (a2.arrayPathIndex = n2), t2[n2] = s2.cast(t2[n2], e2, false, void 0, a2);
                }
              } catch (e3) {
                throw new p("[" + e3.kind + "]", m.inspect(t2), this.path + "." + n2, e3, this);
              }
            return t2;
          }
          throw new p("Array", m.inspect(t2), this.path, null, this);
        }, A.prototype.discriminator = function(t2, e2) {
          for (var r2 = this; r2.$isMongooseArray && !r2.$isMongooseDocumentArray; )
            if (null == (r2 = r2.casterConstructor) || "function" == typeof r2)
              throw new c("You can only add an embedded discriminator on a document array, " + this.path + " is a plain array");
          return r2.discriminator(t2, e2);
        }, A.prototype.clone = function() {
          var t2 = Object.assign({}, this.options), e2 = new this.constructor(this.path, this.caster, t2, this.schemaOptions);
          return e2.validators = this.validators.slice(), void 0 !== this.requiredValidator && (e2.requiredValidator = this.requiredValidator), e2;
        }, A.prototype.castForQuery = function(t2, e2) {
          var r2, n2, o2 = this;
          if (2 === arguments.length) {
            if (!(r2 = this.$conditionalHandlers[t2]))
              throw new Error("Can't use " + t2 + " with Array.");
            n2 = r2.call(this, e2);
          } else {
            n2 = t2;
            var i2 = this.casterConstructor;
            if (n2 && i2.discriminators && i2.schema && i2.schema.options && i2.schema.options.discriminatorKey)
              if ("string" == typeof n2[i2.schema.options.discriminatorKey] && i2.discriminators[n2[i2.schema.options.discriminatorKey]])
                i2 = i2.discriminators[n2[i2.schema.options.discriminatorKey]];
              else {
                var s2 = O(i2.discriminators, n2[i2.schema.options.discriminatorKey]);
                s2 && (i2 = s2);
              }
            var a2 = this.casterConstructor.prototype, u2 = a2 && (a2.castForQuery || a2.cast);
            !u2 && i2.castForQuery && (u2 = i2.castForQuery);
            var c2 = this.caster;
            Array.isArray(n2) ? (this.setters.reverse().forEach(function(t3) {
              n2 = t3.call(o2, n2, o2);
            }), n2 = n2.map(function(t3) {
              return b.isObject(t3) && t3.$elemMatch ? t3 : u2 ? t3 = u2.call(c2, t3) : null != t3 ? t3 = new i2(t3) : t3;
            })) : u2 ? n2 = u2.call(c2, n2) : null != n2 && (n2 = new i2(n2));
          }
          return n2;
        };
        var $ = A.prototype.$conditionalHandlers = {};
        function E(t2) {
          return function(e2) {
            if (!Array.isArray(e2))
              throw new TypeError("conditional " + t2 + " requires an array");
            var r2, o2 = [], i2 = n(e2);
            try {
              for (i2.s(); !(r2 = i2.n()).done; ) {
                var s2 = r2.value;
                o2.push(d(this.casterConstructor.schema, s2));
              }
            } catch (t3) {
              i2.e(t3);
            } finally {
              i2.f();
            }
            return o2;
          };
        }
        $.$all = function(t2) {
          return Array.isArray(t2) || (t2 = [t2]), t2 = t2.map(function(t3) {
            if (b.isObject(t3)) {
              var e2 = {};
              return e2[this.path] = t3, d(this.casterConstructor.schema, e2)[this.path];
            }
            return t3;
          }, this), this.castForQuery(t2);
        }, $.$options = String, $.$elemMatch = function(t2) {
          for (var e2 = Object.keys(t2), r2 = e2.length, n2 = 0; n2 < r2; ++n2) {
            var o2 = e2[n2], i2 = t2[o2];
            v(o2) && null != i2 && (t2[o2] = this.castForQuery(o2, i2));
          }
          var s2 = _(this, "casterConstructor.schema.options.discriminatorKey"), a2 = _(this, "casterConstructor.schema.discriminators", {});
          return null != s2 && null != t2[s2] && null != a2[t2[s2]] ? d(a2[t2[s2]], t2) : d(this.casterConstructor.schema, t2);
        }, $.$geoIntersects = w.cast$geoIntersects, $.$or = E("$or"), $.$and = E("$and"), $.$nor = E("$nor"), $.$near = $.$nearSphere = w.cast$near, $.$within = $.$geoWithin = w.cast$within, $.$size = $.$minDistance = $.$maxDistance = g, $.$exists = a, $.$type = u, $.$eq = $.$gt = $.$gte = $.$lt = $.$lte = $.$ne = $.$regex = A.prototype.castForQuery, $.$nin = f.prototype.$conditionalHandlers.$nin, $.$in = f.prototype.$conditionalHandlers.$in, t.exports = A;
      }, function(t, e, r) {
        "use strict";
        var n, o = r(0).documentSchemaSymbol, i = r(3), s = r(17).internalToObjectOptions, a = r(1), u = r(0).getSymbol, c = r(0).scopeSymbol;
        function l(t2, e2, o2, i2) {
          n = n || r(12);
          for (var s2, u2, c2 = Object.keys(t2), l2 = c2.length, p = 0; p < l2; ++p) {
            s2 = t2[u2 = c2[p]], f(u2, a.isPOJO(s2) && Object.keys(s2).length && (!s2[i2.typeKey] || "type" === i2.typeKey && s2.type.type) ? s2 : null, e2, o2, c2, i2);
          }
        }
        function f(t2, e2, f2, p, h, y) {
          n = n || r(12);
          var d = (p ? p + "." : "") + t2;
          p = p || "", e2 ? Object.defineProperty(f2, t2, { enumerable: true, configurable: true, get: function() {
            var t3, r2, s2 = this;
            if (this.$__.getters || (this.$__.getters = {}), !this.$__.getters[d]) {
              var u2 = Object.create(n.prototype, (t3 = this, r2 = {}, Object.getOwnPropertyNames(t3).forEach(function(e3) {
                -1 === ["isNew", "$__", "errors", "_doc", "$locals", "$op", "__parentArray", "__index", "$isDocumentArrayElement"].indexOf(e3) || (r2[e3] = Object.getOwnPropertyDescriptor(t3, e3), r2[e3].enumerable = false);
              }), r2));
              p || (u2.$__[c] = this), u2.$__.nestedPath = d, Object.defineProperty(u2, "schema", { enumerable: false, configurable: true, writable: false, value: f2.schema }), Object.defineProperty(u2, "$__schema", { enumerable: false, configurable: true, writable: false, value: f2.schema }), Object.defineProperty(u2, o, { enumerable: false, configurable: true, writable: false, value: f2.schema }), Object.defineProperty(u2, "toObject", { enumerable: false, configurable: true, writable: false, value: function() {
                return a.clone(s2.get(d, null, { virtuals: i(this, "schema.options.toObject.virtuals", null) }));
              } }), Object.defineProperty(u2, "$__get", { enumerable: false, configurable: true, writable: false, value: function() {
                return s2.get(d, null, { virtuals: i(this, "schema.options.toObject.virtuals", null) });
              } }), Object.defineProperty(u2, "toJSON", { enumerable: false, configurable: true, writable: false, value: function() {
                return s2.get(d, null, { virtuals: i(s2, "schema.options.toJSON.virtuals", null) });
              } }), Object.defineProperty(u2, "$__isNested", { enumerable: false, configurable: true, writable: false, value: true });
              var h2 = Object.freeze({ minimize: true, virtuals: false, getters: false, transform: false });
              Object.defineProperty(u2, "$isEmpty", { enumerable: false, configurable: true, writable: false, value: function() {
                return 0 === Object.keys(this.get(d, null, h2) || {}).length;
              } }), Object.defineProperty(u2, "$__parent", { enumerable: false, configurable: true, writable: false, value: this }), l(e2, u2, d, y), this.$__.getters[d] = u2;
            }
            return this.$__.getters[d];
          }, set: function(t3) {
            null != t3 && t3.$__isNested ? t3 = t3.$__get() : t3 instanceof n && !t3.$__isNested && (t3 = t3.toObject(s)), (this.$__[c] || this).$set(d, t3);
          } }) : Object.defineProperty(f2, t2, { enumerable: true, configurable: true, get: function() {
            return this[u].call(this.$__[c] || this, d);
          }, set: function(t3) {
            this.$set.call(this.$__[c] || this, d, t3);
          } });
        }
        e.compile = l, e.defineKey = f;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        t.exports = function(t2) {
          return null == t2 || ("object" !== n(t2) || !("$meta" in t2) && !("$slice" in t2));
        };
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          if (void 0 !== e2.Map)
            t.exports = e2.Map, t.exports.Map = e2.Map;
          else {
            var r2 = function(t2) {
              this._keys = [], this._values = {};
              for (var e3 = 0; e3 < t2.length; e3++)
                if (null != t2[e3]) {
                  var r3 = t2[e3], n = r3[0], o = r3[1];
                  this._keys.push(n), this._values[n] = { v: o, i: this._keys.length - 1 };
                }
            };
            r2.prototype.clear = function() {
              this._keys = [], this._values = {};
            }, r2.prototype.delete = function(t2) {
              var e3 = this._values[t2];
              return null != e3 && (delete this._values[t2], this._keys.splice(e3.i, 1), true);
            }, r2.prototype.entries = function() {
              var t2 = this, e3 = 0;
              return { next: function() {
                var r3 = t2._keys[e3++];
                return { value: void 0 !== r3 ? [r3, t2._values[r3].v] : void 0, done: void 0 === r3 };
              } };
            }, r2.prototype.forEach = function(t2, e3) {
              e3 = e3 || this;
              for (var r3 = 0; r3 < this._keys.length; r3++) {
                var n = this._keys[r3];
                t2.call(e3, this._values[n].v, n, e3);
              }
            }, r2.prototype.get = function(t2) {
              return this._values[t2] ? this._values[t2].v : void 0;
            }, r2.prototype.has = function(t2) {
              return null != this._values[t2];
            }, r2.prototype.keys = function() {
              var t2 = this, e3 = 0;
              return { next: function() {
                var r3 = t2._keys[e3++];
                return { value: void 0 !== r3 ? r3 : void 0, done: void 0 === r3 };
              } };
            }, r2.prototype.set = function(t2, e3) {
              return this._values[t2] ? (this._values[t2].v = e3, this) : (this._keys.push(t2), this._values[t2] = { v: e3, i: this._keys.length - 1 }, this);
            }, r2.prototype.values = function() {
              var t2 = this, e3 = 0;
              return { next: function() {
                var r3 = t2._keys[e3++];
                return { value: void 0 !== r3 ? t2._values[r3].v : void 0, done: void 0 === r3 };
              } };
            }, Object.defineProperty(r2.prototype, "size", { enumerable: true, get: function() {
              return this._keys.length;
            } }), t.exports = r2, t.exports.Map = r2;
          }
        }).call(this, r(9));
      }, function(t, e) {
        var r = function t2(e2) {
          if (!(this instanceof t2))
            return new t2(e2);
          this._bsontype = "Int32", this.value = e2;
        };
        r.prototype.valueOf = function() {
          return this.value;
        }, r.prototype.toJSON = function() {
          return this.value;
        }, t.exports = r, t.exports.Int32 = r;
      }, function(t, e, r) {
        "use strict";
        var n = r(12), o = r(181), i = false;
        t.exports = function() {
          return i ? o : n;
        }, t.exports.setBrowser = function(t2) {
          i = t2;
        };
      }, function(t, e) {
        t.exports = function(t2, e2, r) {
          var n = [], o = t2.length;
          if (0 === o)
            return n;
          var i = e2 < 0 ? Math.max(0, e2 + o) : e2 || 0;
          for (void 0 !== r && (o = r < 0 ? r + o : r); o-- > i; )
            n[o - i] = t2[o];
          return n;
        };
      }, function(t, e, r) {
        var n = r(2), o = n.Buffer;
        function i(t2, e2) {
          for (var r2 in t2)
            e2[r2] = t2[r2];
        }
        function s(t2, e2, r2) {
          return o(t2, e2, r2);
        }
        o.from && o.alloc && o.allocUnsafe && o.allocUnsafeSlow ? t.exports = n : (i(n, e), e.Buffer = s), s.prototype = Object.create(o.prototype), i(o, s), s.from = function(t2, e2, r2) {
          if ("number" == typeof t2)
            throw new TypeError("Argument must not be a number");
          return o(t2, e2, r2);
        }, s.alloc = function(t2, e2, r2) {
          if ("number" != typeof t2)
            throw new TypeError("Argument must be a number");
          var n2 = o(t2);
          return void 0 !== e2 ? "string" == typeof r2 ? n2.fill(e2, r2) : n2.fill(e2) : n2.fill(0), n2;
        }, s.allocUnsafe = function(t2) {
          if ("number" != typeof t2)
            throw new TypeError("Argument must be a number");
          return o(t2);
        }, s.allocUnsafeSlow = function(t2) {
          if ("number" != typeof t2)
            throw new TypeError("Argument must be a number");
          return n.SlowBuffer(t2);
        };
      }, function(t, e) {
        function r(t2) {
          return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var n = Object.prototype.toString;
        t.exports = function(t2) {
          if ("object" != r(e2 = t2) || "[object RegExp]" != n.call(e2))
            throw new TypeError("Not a RegExp");
          var e2, o = [];
          t2.global && o.push("g"), t2.multiline && o.push("m"), t2.ignoreCase && o.push("i"), t2.dotAll && o.push("s"), t2.unicode && o.push("u"), t2.sticky && o.push("y");
          var i = new RegExp(t2.source, o.join(""));
          return "number" == typeof t2.lastIndex && (i.lastIndex = t2.lastIndex), i;
        };
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2) {
          return t2.name ? t2.name : (t2.toString().trim().match(/^function\s*([^\s(]+)/) || [])[1];
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(3);
        t.exports = function(t2, e2) {
          return n(t2, "_bsontype", void 0) === e2;
        };
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          var n = r(23), o = r(119), i = { _promise: null, get: function() {
            return i._promise;
          }, set: function(t2) {
            n.ok("function" == typeof t2, "mongoose.Promise must be a function, got ".concat(t2)), i._promise = t2, o.Promise = t2;
          } };
          i.set(e2.Promise), t.exports = i;
        }).call(this, r(9));
      }, function(t, e, r) {
        "use strict";
        (function(t2, n) {
          function o(t3) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
              return typeof t4;
            } : function(t4) {
              return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
            })(t3);
          }
          var i = r(121).Buffer, s = r(65), a = ["__proto__", "constructor", "prototype"], u = e.clone = function t3(r2, n2) {
            if (null == r2)
              return r2;
            if (Array.isArray(r2))
              return e.cloneArray(r2, n2);
            if (r2.constructor) {
              if (/ObjectI[dD]$/.test(r2.constructor.name))
                return "function" == typeof r2.clone ? r2.clone() : new r2.constructor(r2.id);
              if ("ReadPreference" === r2.constructor.name)
                return new r2.constructor(r2.mode, t3(r2.tags, n2));
              if ("Binary" == r2._bsontype && r2.buffer && r2.value)
                return "function" == typeof r2.clone ? r2.clone() : new r2.constructor(r2.value(true), r2.sub_type);
              if ("Date" === r2.constructor.name || "Function" === r2.constructor.name)
                return new r2.constructor(+r2);
              if ("RegExp" === r2.constructor.name)
                return s(r2);
              if ("Buffer" === r2.constructor.name)
                return e.cloneBuffer(r2);
            }
            return l(r2) ? e.cloneObject(r2, n2) : r2.valueOf ? r2.valueOf() : void 0;
          };
          e.cloneObject = function(t3, e2) {
            for (var r2, n2, o2 = e2 && e2.minimize, i2 = {}, s2 = 0, c2 = Object.keys(t3); s2 < c2.length; s2++) {
              var l2 = c2[s2];
              -1 === a.indexOf(l2) && (n2 = u(t3[l2], e2), o2 && void 0 === n2 || (r2 || (r2 = true), i2[l2] = n2));
            }
            return o2 ? r2 && i2 : i2;
          }, e.cloneArray = function(t3, e2) {
            for (var r2 = [], n2 = 0, o2 = t3.length; n2 < o2; n2++)
              r2.push(u(t3[n2], e2));
            return r2;
          }, e.tick = function(t3) {
            if ("function" == typeof t3)
              return function() {
                var e2 = arguments;
                f(function() {
                  t3.apply(this, e2);
                });
              };
          }, e.merge = function t3(r2, n2) {
            for (var o2, i2 = Object.keys(n2), s2 = i2.length; s2--; )
              o2 = i2[s2], -1 === a.indexOf(o2) && (void 0 === r2[o2] ? r2[o2] = n2[o2] : e.isObject(n2[o2]) ? t3(r2[o2], n2[o2]) : r2[o2] = n2[o2]);
          }, e.mergeClone = function t3(r2, n2) {
            for (var o2, i2 = Object.keys(n2), s2 = i2.length; s2--; )
              o2 = i2[s2], -1 === a.indexOf(o2) && (void 0 === r2[o2] ? r2[o2] = u(n2[o2]) : e.isObject(n2[o2]) ? t3(r2[o2], n2[o2]) : r2[o2] = u(n2[o2]));
          }, e.readPref = function(t3) {
            switch (t3) {
              case "p":
                t3 = "primary";
                break;
              case "pp":
                t3 = "primaryPreferred";
                break;
              case "s":
                t3 = "secondary";
                break;
              case "sp":
                t3 = "secondaryPreferred";
                break;
              case "n":
                t3 = "nearest";
            }
            return t3;
          }, e.readConcern = function(t3) {
            if ("string" == typeof t3) {
              switch (t3) {
                case "l":
                  t3 = "local";
                  break;
                case "a":
                  t3 = "available";
                  break;
                case "m":
                  t3 = "majority";
                  break;
                case "lz":
                  t3 = "linearizable";
                  break;
                case "s":
                  t3 = "snapshot";
              }
              t3 = { level: t3 };
            }
            return t3;
          };
          var c = Object.prototype.toString;
          e.toString = function(t3) {
            return c.call(t3);
          };
          var l = e.isObject = function(t3) {
            return "[object Object]" == e.toString(t3);
          };
          e.isArray = function(t3) {
            return Array.isArray(t3) || "object" == o(t3) && "[object Array]" == e.toString(t3);
          }, e.keys = Object.keys, e.create = "function" == typeof Object.create ? Object.create : function(t3) {
            if (arguments.length > 1)
              throw new Error("Adding properties is not supported");
            function e2() {
            }
            return e2.prototype = t3, new e2();
          }, e.inherits = function(t3, r2) {
            t3.prototype = e.create(r2.prototype), t3.prototype.constructor = t3;
          };
          var f = e.soon = "function" == typeof t2 ? t2 : n.nextTick;
          e.cloneBuffer = function(t3) {
            var e2 = i.alloc(t3.length);
            return t3.copy(e2, 0, 0, t3.length), e2;
          }, e.isArgumentsObject = function(t3) {
            return "[object Arguments]" === Object.prototype.toString.call(t3);
          };
        }).call(this, r(70).setImmediate, r(10));
      }, function(t, e, r) {
        (function(t2) {
          var n = void 0 !== t2 && t2 || "undefined" != typeof self && self || window, o = Function.prototype.apply;
          function i(t3, e2) {
            this._id = t3, this._clearFn = e2;
          }
          e.setTimeout = function() {
            return new i(o.call(setTimeout, n, arguments), clearTimeout);
          }, e.setInterval = function() {
            return new i(o.call(setInterval, n, arguments), clearInterval);
          }, e.clearTimeout = e.clearInterval = function(t3) {
            t3 && t3.close();
          }, i.prototype.unref = i.prototype.ref = function() {
          }, i.prototype.close = function() {
            this._clearFn.call(n, this._id);
          }, e.enroll = function(t3, e2) {
            clearTimeout(t3._idleTimeoutId), t3._idleTimeout = e2;
          }, e.unenroll = function(t3) {
            clearTimeout(t3._idleTimeoutId), t3._idleTimeout = -1;
          }, e._unrefActive = e.active = function(t3) {
            clearTimeout(t3._idleTimeoutId);
            var e2 = t3._idleTimeout;
            e2 >= 0 && (t3._idleTimeoutId = setTimeout(function() {
              t3._onTimeout && t3._onTimeout();
            }, e2));
          }, r(120), e.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== t2 && t2.setImmediate || this && this.setImmediate, e.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== t2 && t2.clearImmediate || this && this.clearImmediate;
        }).call(this, r(9));
      }, function(t, e, r) {
        "use strict";
        (function(t2, r2, n, o) {
          function i(t3) {
            return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
              return typeof t4;
            } : function(t4) {
              return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
            })(t3);
          }
          e.isNode = void 0 !== t2 && "object" == i(r2) && "object" == (void 0 === n ? "undefined" : i(n)) && "function" == typeof o && t2.argv, e.isMongo = !e.isNode && "function" == typeof printjson && "function" == typeof ObjectId && "function" == typeof rs && "function" == typeof sh, e.isBrowser = !e.isNode && !e.isMongo && "undefined" != typeof window, e.type = e.isNode ? "node" : e.isMongo ? "mongo" : e.isBrowser ? "browser" : "unknown";
        }).call(this, r(10), r(126)(t), r(9), r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2, e2, r2) {
          for (var n = {}, o = 0, i = Object.keys(e2.tree); o < i.length; o++) {
            var s = i[o];
            r2 && (t2.paths[s] || t2.nested[s] || t2.singleNestedPaths[s]) || (n[s] = e2.tree[s]);
          }
          for (var a in t2.add(n), t2.callQueue = t2.callQueue.concat(e2.callQueue), t2.method(e2.methods), t2.static(e2.statics), e2.query)
            t2.query[a] = e2.query[a];
          for (var u in e2.virtuals)
            t2.virtuals[u] = e2.virtuals[u].clone();
          t2.s.hooks.merge(e2.s.hooks, false);
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = r(5), l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3) {
            var e3;
            !function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            var r3 = t3.message;
            r3 || (r3 = c.messages.general.default);
            var n3 = f(r3, t3);
            return e3 = a2.call(this, n3), t3 = Object.assign({}, t3, { message: n3 }), e3.properties = t3, e3.kind = t3.type, e3.path = t3.path, e3.value = t3.value, e3.reason = t3.reason, e3;
          }
          return e2 = u2, (r2 = [{
            key: "toString",
            value: function() {
              return this.message;
            }
          }, { key: "toJSON", value: function() {
            return Object.assign({ name: this.name, message: this.message }, this);
          } }]) && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), u2;
        }(c);
        function f(t2, e2) {
          if ("function" == typeof t2)
            return t2(e2);
          for (var r2 = 0, n2 = Object.keys(e2); r2 < n2.length; r2++) {
            var o2 = n2[r2];
            "message" !== o2 && (t2 = t2.replace("{" + o2.toUpperCase() + "}", e2[o2]));
          }
          return t2;
        }
        Object.defineProperty(l.prototype, "name", { value: "ValidatorError" }), Object.defineProperty(l.prototype, "properties", { enumerable: false, writable: true, value: null }), l.prototype.formatMessage = f, t.exports = l;
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2) {
          if (Array.isArray(t2)) {
            if (!t2.every(function(t3) {
              return "number" == typeof t3 || "string" == typeof t3;
            }))
              throw new Error("$type array values must be strings or numbers");
            return t2;
          }
          if ("number" != typeof t2 && "string" != typeof t2)
            throw new Error("$type parameter must be number, string, or array of numbers and strings");
          return t2;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3, e3) {
            var r3;
            !function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            var n3 = Array.isArray(e3) ? "array" : "primitive value";
            return (r3 = a2.call(this, "Tried to set nested object field `" + t3 + "` to ".concat(n3, " `") + e3 + "` and strict mode is set to throw.")).path = t3, r3;
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "ObjectExpectedError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2) {
          var e2 = { _id: { auto: true } };
          e2._id[t2.options.typeKey] = "ObjectId", t2.add(e2);
        };
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2, e2) {
          if (null == t2)
            return null;
          if ("boolean" == typeof t2)
            return e2;
          if ("boolean" == typeof t2[e2])
            return t2[e2] ? e2 : null;
          if (!(e2 in t2))
            return e2;
          return t2[e2];
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(35), o = r(27);
        function i(t2, e2, r2) {
          var s = { useErrorHandlers: true, numCallbackParams: 1, nullResultByDefault: true, contextParameter: true }, a = (r2 = r2 || {}).decorateDoc ? t2 : t2.prototype;
          t2.$appliedHooks = true;
          for (var u = 0, c = Object.keys(e2.paths); u < c.length; u++) {
            var l = c[u], f = e2.paths[l], p = null;
            if (f.$isSingleNested)
              p = f.caster;
            else {
              if (!f.$isMongooseDocumentArray)
                continue;
              p = f.Constructor;
            }
            if (!p.$appliedHooks && (i(p, f.schema, r2), null != p.discriminators))
              for (var h = 0, y = Object.keys(p.discriminators); h < y.length; h++) {
                var d = y[h];
                i(p.discriminators[d], p.discriminators[d].schema, r2);
              }
          }
          var _ = e2.s.hooks.filter(function(t3) {
            return "updateOne" === t3.name || "deleteOne" === t3.name ? !!t3.document : "remove" === t3.name || "init" === t3.name ? null == t3.document || !!t3.document : null == t3.query && null == t3.document || false !== t3.document;
          }).filter(function(t3) {
            return !e2.methods[t3.name] || !t3.fn[n.builtInMiddleware];
          });
          t2._middleware = _, a.$__originalValidate = a.$__originalValidate || a.$__validate;
          for (var v = 0, m = ["save", "validate", "remove", "deleteOne"]; v < m.length; v++) {
            var b = m[v], g = "validate" === b ? "$__originalValidate" : "$__".concat(b), w = _.createWrapper(b, a[g], null, s);
            a["$__".concat(b)] = w;
          }
          a.$__init = _.createWrapperSync("init", a.$__init, null, s);
          for (var O = Object.keys(e2.methods), S = Object.assign({}, s, { checkForPromise: true }), j = function() {
            var e3 = $[A];
            if (!_.hasHooks(e3))
              return "continue";
            var r3 = a[e3];
            a[e3] = function() {
              var r4 = this, n2 = Array.prototype.slice.call(arguments), i2 = n2.slice(-1).pop(), s2 = "function" == typeof i2 ? n2.slice(0, n2.length - 1) : n2;
              return o(i2, function(t3) {
                return r4["$__".concat(e3)].apply(r4, s2.concat([t3]));
              }, t2.events);
            }, a["$__".concat(e3)] = _.createWrapper(e3, r3, null, S);
          }, A = 0, $ = O; A < $.length; A++)
            j();
        }
        t.exports = i, i.middlewareFunctions = ["deleteOne", "save", "validate", "remove", "updateOne", "init"];
      }, function(t, e, r) {
        "use strict";
        var n = r(13);
        t.exports = function(t2, e2) {
          if (null == t2)
            return t2;
          if (t2._id && "string" == typeof t2._id)
            return t2._id;
          if (t2.toString && t2.toString !== Object.prototype.toString && !Array.isArray(t2))
            return t2.toString();
          throw new n("string", t2, e2);
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(5), o = r(151), i = r(6), s = r(152), a = r(81), u = r(1), c = i.CastError;
        function l(t2, e2) {
          i.call(this, t2, e2, "Number");
        }
        function f(t2) {
          return this.cast(t2);
        }
        l.get = i.get, l.set = i.set, l._cast = s, l.cast = function(t2) {
          return 0 === arguments.length || (false === t2 && (t2 = this._defaultCaster), this._cast = t2), this._cast;
        }, l._defaultCaster = function(t2) {
          if ("number" != typeof t2)
            throw new Error();
          return t2;
        }, l.schemaName = "Number", l.defaultOptions = {}, l.prototype = Object.create(i.prototype), l.prototype.constructor = l, l.prototype.OptionsConstructor = o, l._checkRequired = function(t2) {
          return "number" == typeof t2 || t2 instanceof Number;
        }, l.checkRequired = i.checkRequired, l.prototype.checkRequired = function(t2, e2) {
          return i._isRef(this, t2, e2, true) ? !!t2 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : l.checkRequired())(t2);
        }, l.prototype.min = function(t2, e2) {
          if (this.minValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.minValidator;
          }, this)), null != t2) {
            var r2 = e2 || n.messages.Number.min;
            r2 = r2.replace(/{MIN}/, t2), this.validators.push({ validator: this.minValidator = function(e3) {
              return null == e3 || e3 >= t2;
            }, message: r2, type: "min", min: t2 });
          }
          return this;
        }, l.prototype.max = function(t2, e2) {
          if (this.maxValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.maxValidator;
          }, this)), null != t2) {
            var r2 = e2 || n.messages.Number.max;
            r2 = r2.replace(/{MAX}/, t2), this.validators.push({ validator: this.maxValidator = function(e3) {
              return null == e3 || e3 <= t2;
            }, message: r2, type: "max", max: t2 });
          }
          return this;
        }, l.prototype.enum = function(t2, e2) {
          return this.enumValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.enumValidator;
          }, this)), Array.isArray(t2) || (t2 = u.isObject(t2) ? u.object.vals(t2) : Array.prototype.slice.call(arguments), e2 = n.messages.Number.enum), e2 = null == e2 ? n.messages.Number.enum : e2, this.enumValidator = function(e3) {
            return null == e3 || -1 !== t2.indexOf(e3);
          }, this.validators.push({ validator: this.enumValidator, message: e2, type: "enum", enumValues: t2 }), this;
        }, l.prototype.cast = function(t2, e2, r2) {
          if (i._isRef(this, t2, e2, r2))
            return "number" == typeof t2 ? t2 : this._castRef(t2, e2, r2);
          var n2, o2 = t2 && void 0 !== t2._id ? t2._id : t2;
          n2 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : l.cast();
          try {
            return n2(o2);
          } catch (t3) {
            throw new c("Number", o2, this.path, t3, this);
          }
        }, l.prototype.$conditionalHandlers = u.options(i.prototype.$conditionalHandlers, { $bitsAllClear: a, $bitsAnyClear: a, $bitsAllSet: a, $bitsAnySet: a, $gt: f, $gte: f, $lt: f, $lte: f, $mod: function(t2) {
          var e2 = this;
          return Array.isArray(t2) ? t2.map(function(t3) {
            return e2.cast(t3);
          }) : [this.cast(t2)];
        } }), l.prototype.castForQuery = function(t2, e2) {
          var r2;
          if (2 === arguments.length) {
            if (!(r2 = this.$conditionalHandlers[t2]))
              throw new c("number", e2, this.path, null, this);
            return r2.call(this, e2);
          }
          return e2 = this._castForQuery(t2);
        }, t.exports = l;
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          var n = r(13);
          function o(t2, e3) {
            var r2 = Number(e3);
            if (isNaN(r2))
              throw new n("number", e3, t2);
            return r2;
          }
          t.exports = function(t2) {
            var r2 = this;
            return Array.isArray(t2) ? t2.map(function(t3) {
              return o(r2.path, t3);
            }) : e2.isBuffer(t2) ? t2 : o(r2.path, t2);
          };
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        var n = r(11);
        t.exports = function(t2, e2) {
          return "string" == typeof t2 && "string" == typeof e2 || "number" == typeof t2 && "number" == typeof e2 ? t2 === e2 : t2 instanceof n && e2 instanceof n && t2.toString() === e2.toString();
        };
      }, function(t, e, r) {
        "use strict";
        var n = /* @__PURE__ */ new Set(["$ref", "$id", "$db"]);
        t.exports = function(t2) {
          return t2.startsWith("$") && !n.has(t2);
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(36).castArraysOfNumbers, o = r(36).castToNumber;
        function i(t2, e2) {
          switch (t2.$geometry.type) {
            case "Polygon":
            case "LineString":
            case "Point":
              n(t2.$geometry.coordinates, e2);
          }
          return s(e2, t2), t2;
        }
        function s(t2, e2) {
          e2.$maxDistance && (e2.$maxDistance = o.call(t2, e2.$maxDistance)), e2.$minDistance && (e2.$minDistance = o.call(t2, e2.$minDistance));
        }
        e.cast$geoIntersects = function(t2) {
          if (!t2.$geometry)
            return;
          return i(t2, this), t2;
        }, e.cast$near = function(t2) {
          var e2 = r(57);
          if (Array.isArray(t2))
            return n(t2, this), t2;
          if (s(this, t2), t2 && t2.$geometry)
            return i(t2, this);
          if (!Array.isArray(t2))
            throw new TypeError("$near must be either an array or an object with a $geometry property");
          return e2.prototype.castForQuery.call(this, t2);
        }, e.cast$within = function(t2) {
          var e2 = this;
          if (s(this, t2), t2.$box || t2.$polygon) {
            var r2 = t2.$box ? "$box" : "$polygon";
            t2[r2].forEach(function(t3) {
              if (!Array.isArray(t3))
                throw new TypeError("Invalid $within $box argument. Expected an array, received " + t3);
              t3.forEach(function(r3, n3) {
                t3[n3] = o.call(e2, r3);
              });
            });
          } else if (t2.$center || t2.$centerSphere) {
            var n2 = t2.$center ? "$center" : "$centerSphere";
            t2[n2].forEach(function(r3, i2) {
              Array.isArray(r3) ? r3.forEach(function(t3, n3) {
                r3[n3] = o.call(e2, t3);
              }) : t2[n2][i2] = o.call(e2, r3);
            });
          } else
            t2.$geometry && i(t2, this);
          return t2;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(86), o = r(0).arrayAtomicsSymbol, i = r(0).arrayParentSymbol, s = r(0).arrayPathSymbol, a = r(0).arraySchemaSymbol, u = Array.prototype.push;
        t.exports = function(t2, e2, r2, c) {
          var l;
          if (Array.isArray(t2)) {
            var f = t2.length;
            if (0 === f)
              l = new n();
            else if (1 === f)
              (l = new n(1))[0] = t2[0];
            else if (f < 1e4)
              l = new n(), u.apply(l, t2);
            else {
              l = new n();
              for (var p = 0; p < f; ++p)
                u.call(l, t2[p]);
            }
            null != t2[o] && (l[o] = t2[o]);
          } else
            l = new n();
          return l[s] = e2, null != r2 && null != r2.$__ && (l[i] = r2, l[a] = c || r2.schema.path(e2)), l;
        };
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          function o(t2, e3) {
            var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
            if (!r2) {
              if (Array.isArray(t2) || (r2 = function(t3, e4) {
                if (!t3)
                  return;
                if ("string" == typeof t3)
                  return i(t3, e4);
                var r3 = Object.prototype.toString.call(t3).slice(8, -1);
                "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
                if ("Map" === r3 || "Set" === r3)
                  return Array.from(t3);
                if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                  return i(t3, e4);
              }(t2)) || e3 && t2 && "number" == typeof t2.length) {
                r2 && (t2 = r2);
                var n2 = 0, o2 = function() {
                };
                return { s: o2, n: function() {
                  return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
                }, e: function(t3) {
                  throw t3;
                }, f: o2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s2, a2 = true, u2 = false;
            return { s: function() {
              r2 = r2.call(t2);
            }, n: function() {
              var t3 = r2.next();
              return a2 = t3.done, t3;
            }, e: function(t3) {
              u2 = true, s2 = t3;
            }, f: function() {
              try {
                a2 || null == r2.return || r2.return();
              } finally {
                if (u2)
                  throw s2;
              }
            } };
          }
          function i(t2, e3) {
            (null == e3 || e3 > t2.length) && (e3 = t2.length);
            for (var r2 = 0, n2 = new Array(e3); r2 < e3; r2++)
              n2[r2] = t2[r2];
            return n2;
          }
          function s(t2, e3) {
            if (!(t2 instanceof e3))
              throw new TypeError("Cannot call a class as a function");
          }
          function a(t2, e3) {
            for (var r2 = 0; r2 < e3.length; r2++) {
              var n2 = e3[r2];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
            }
          }
          function u() {
            return (u = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e3, r2) {
              var n2 = c(t2, e3);
              if (n2) {
                var o2 = Object.getOwnPropertyDescriptor(n2, e3);
                return o2.get ? o2.get.call(arguments.length < 3 ? t2 : r2) : o2.value;
              }
            }).apply(this, arguments);
          }
          function c(t2, e3) {
            for (; !Object.prototype.hasOwnProperty.call(t2, e3) && null !== (t2 = d(t2)); )
              ;
            return t2;
          }
          function l(t2, e3) {
            if (e3 && ("object" === n(e3) || "function" == typeof e3))
              return e3;
            if (void 0 !== e3)
              throw new TypeError("Derived constructors may only return object or undefined");
            return function(t3) {
              if (void 0 === t3)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return t3;
            }(t2);
          }
          function f(t2) {
            var e3 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
            return (f = function(t3) {
              if (null === t3 || (r2 = t3, -1 === Function.toString.call(r2).indexOf("[native code]")))
                return t3;
              var r2;
              if ("function" != typeof t3)
                throw new TypeError("Super expression must either be null or a function");
              if (void 0 !== e3) {
                if (e3.has(t3))
                  return e3.get(t3);
                e3.set(t3, n2);
              }
              function n2() {
                return p(t3, arguments, d(this).constructor);
              }
              return n2.prototype = Object.create(t3.prototype, { constructor: { value: n2, enumerable: false, writable: true, configurable: true } }), y(n2, t3);
            })(t2);
          }
          function p(t2, e3, r2) {
            return (p = h() ? Reflect.construct.bind() : function(t3, e4, r3) {
              var n2 = [null];
              n2.push.apply(n2, e4);
              var o2 = new (Function.bind.apply(t3, n2))();
              return r3 && y(o2, r3.prototype), o2;
            }).apply(null, arguments);
          }
          function h() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t2) {
              return false;
            }
          }
          function y(t2, e3) {
            return (y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e4) {
              return t3.__proto__ = e4, t3;
            })(t2, e3);
          }
          function d(t2) {
            return (d = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
              return t3.__proto__ || Object.getPrototypeOf(t3);
            })(t2);
          }
          var _ = r(12), v = r(29), m = r(14), b = r(11), g = r(87), w = r(3), O = r(17).internalToObjectOptions, S = r(1), j = r(4), A = r(0).arrayAtomicsSymbol, $ = r(0).arrayParentSymbol, E = r(0).arrayPathSymbol, P = r(0).arraySchemaSymbol, x = r(0).populateModelSymbol, T = Symbol("mongoose#Array#sliced"), k = Array.prototype.push, N = Symbol("mongoose#MongooseCoreArray#validators"), B = function(t2) {
            !function(t3, e3) {
              if ("function" != typeof e3 && null !== e3)
                throw new TypeError("Super expression must either be null or a function");
              t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && y(t3, e3);
            }(p2, t2);
            var r2, n2, o2, i2, c2, f2 = (r2 = p2, n2 = h(), function() {
              var t3, e3 = d(r2);
              if (n2) {
                var o3 = d(this).constructor;
                t3 = Reflect.construct(e3, arguments, o3);
              } else
                t3 = e3.apply(this, arguments);
              return l(this, t3);
            });
            function p2() {
              return s(this, p2), f2.apply(this, arguments);
            }
            return o2 = p2, (i2 = [{ key: "isMongooseArray", get: function() {
              return true;
            } }, { key: "validators", get: function() {
              return this[N];
            }, set: function(t3) {
              this[N] = t3;
            } }, {
              key: "$__getAtomics",
              value: function() {
                var t3 = [], e3 = Object.keys(this[A] || {}), r3 = e3.length, n3 = Object.assign({}, O, { _isNested: true });
                if (0 === r3)
                  return t3[0] = ["$set", this.toObject(n3)], t3;
                for (; r3--; ) {
                  var o3 = e3[r3], i3 = this[A][o3];
                  S.isMongooseObject(i3) ? i3 = i3.toObject(n3) : Array.isArray(i3) ? i3 = this.toObject.call(i3, n3) : null != i3 && Array.isArray(i3.$each) ? i3.$each = this.toObject.call(i3.$each, n3) : null != i3 && "function" == typeof i3.valueOf && (i3 = i3.valueOf()), "$addToSet" === o3 && (i3 = { $each: i3 }), t3.push([o3, i3]);
                }
                return t3;
              }
            }, {
              key: "$atomics",
              value: function() {
                return this[A] || {};
              }
            }, {
              key: "$parent",
              value: function() {
                return this[$];
              }
            }, { key: "$path", value: function() {
              return this[E];
            } }, { key: "$shift", value: function() {
              if (this._registerAtomic("$pop", -1), this._markModified(), !this._shifted)
                return this._shifted = true, [].shift.call(this);
            } }, {
              key: "$pop",
              value: function() {
                if (this._registerAtomic("$pop", 1), this._markModified(), !this._popped)
                  return this._popped = true, [].pop.call(this);
              }
            }, { key: "$schema", value: function() {
              return this[P];
            } }, { key: "_cast", value: function(t3) {
              var r3, n3 = false;
              return this[$] && (n3 = this[$].populated(this[E], true)), n3 && null != t3 ? (r3 = n3.options[x], (e2.isBuffer(t3) || t3 instanceof b || !S.isObject(t3)) && (t3 = { _id: t3 }), t3.$__schema && t3.$__schema.discriminatorMapping && void 0 !== t3.$__schema.discriminatorMapping.key || (t3 = new r3(t3)), this[P].caster.applySetters(t3, this[$], true)) : this[P].caster.applySetters(t3, this[$], false);
            } }, { key: "_mapCast", value: function(t3, e3) {
              return this._cast(t3, this.length + e3);
            } }, { key: "_markModified", value: function(t3) {
              var e3, r3 = this[$];
              if (r3) {
                if (e3 = this[E], arguments.length && (e3 = e3 + "." + t3), null != e3 && e3.endsWith(".$"))
                  return this;
                r3.markModified(e3, arguments.length > 0 ? t3 : r3);
              }
              return this;
            } }, { key: "_registerAtomic", value: function(t3, e3) {
              if (!this[T]) {
                if ("$set" === t3)
                  return this[A] = { $set: e3 }, g(this[$], this[E]), this._markModified(), this;
                this[A] || (this[A] = {});
                var r3, n3 = this[A];
                if ("$pop" === t3 && !("$pop" in n3)) {
                  var o3 = this;
                  this[$].once("save", function() {
                    o3._popped = o3._shifted = null;
                  });
                }
                if (this[A].$set || Object.keys(n3).length && !(t3 in n3))
                  return this[A] = { $set: this }, this;
                if ("$pullAll" === t3 || "$addToSet" === t3)
                  n3[t3] || (n3[t3] = []), n3[t3] = n3[t3].concat(e3);
                else if ("$pullDocs" === t3) {
                  var i3 = n3.$pull || (n3.$pull = {});
                  e3[0] instanceof v ? (r3 = i3.$or || (i3.$or = []), Array.prototype.push.apply(r3, e3.map(function(t4) {
                    return t4.toObject({ transform: false, virtuals: false });
                  }))) : (r3 = i3._id || (i3._id = { $in: [] })).$in = r3.$in.concat(e3);
                } else
                  "$push" === t3 ? (n3.$push = n3.$push || { $each: [] }, null != e3 && S.hasUserDefinedProperty(e3, "$each") ? n3.$push = e3 : n3.$push.$each = n3.$push.$each.concat(e3)) : n3[t3] = e3;
                return this;
              }
            } }, { key: "addToSet", value: function() {
              C(this, arguments);
              var t3 = [].map.call(arguments, this._mapCast, this);
              t3 = this[P].applySetters(t3, this[$]);
              var e3 = [], r3 = "";
              return t3[0] instanceof v ? r3 = "doc" : t3[0] instanceof Date && (r3 = "date"), t3.forEach(function(t4) {
                var n3, o3 = +t4;
                switch (r3) {
                  case "doc":
                    n3 = this.some(function(e4) {
                      return e4.equals(t4);
                    });
                    break;
                  case "date":
                    n3 = this.some(function(t5) {
                      return +t5 === o3;
                    });
                    break;
                  default:
                    n3 = ~this.indexOf(t4);
                }
                n3 || ([].push.call(this, t4), this._registerAtomic("$addToSet", t4), this._markModified(), [].push.call(e3, t4));
              }, this), e3;
            } }, { key: "hasAtomics", value: function() {
              return S.isPOJO(this[A]) ? Object.keys(this[A]).length : 0;
            } }, { key: "includes", value: function(t3, e3) {
              return -1 !== this.indexOf(t3, e3);
            } }, { key: "indexOf", value: function(t3, e3) {
              t3 instanceof b && (t3 = t3.toString()), e3 = null == e3 ? 0 : e3;
              for (var r3 = this.length, n3 = e3; n3 < r3; ++n3)
                if (t3 == this[n3])
                  return n3;
              return -1;
            } }, { key: "inspect", value: function() {
              return JSON.stringify(this);
            } }, { key: "nonAtomicPush", value: function() {
              var t3 = [].map.call(arguments, this._mapCast, this), e3 = [].push.apply(this, t3);
              return this._registerAtomic("$set", this), this._markModified(), e3;
            } }, { key: "pop", value: function() {
              var t3 = [].pop.call(this);
              return this._registerAtomic("$set", this), this._markModified(), t3;
            } }, { key: "pull", value: function() {
              for (var t3, e3 = [].map.call(arguments, this._cast, this), r3 = this[$].get(this[E]), n3 = r3.length; n3--; )
                if ((t3 = r3[n3]) instanceof _) {
                  var o3 = e3.some(function(e4) {
                    return t3.equals(e4);
                  });
                  o3 && [].splice.call(r3, n3, 1);
                } else
                  ~r3.indexOf.call(e3, t3) && [].splice.call(r3, n3, 1);
              return e3[0] instanceof v ? this._registerAtomic("$pullDocs", e3.map(function(t4) {
                return t4.$__getValue("_id") || t4;
              })) : this._registerAtomic("$pullAll", e3), this._markModified(), g(this[$], this[E]) > 0 && this._registerAtomic("$set", this), this;
            } }, { key: "push", value: function() {
              var t3 = arguments, e3 = t3, r3 = null != t3[0] && S.hasUserDefinedProperty(t3[0], "$each");
              if (r3 && (e3 = t3[0], t3 = t3[0].$each), null == this[P])
                return k.apply(this, t3);
              C(this, t3);
              var n3, o3 = this[$];
              t3 = [].map.call(t3, this._mapCast, this), t3 = this[P].applySetters(t3, o3, void 0, void 0, { skipDocumentArrayCast: true });
              var i3 = this[A];
              if (r3) {
                if (e3.$each = t3, w(i3, "$push.$each.length", 0) > 0 && i3.$push.$position != i3.$position)
                  throw new m("Cannot call `Array#push()` multiple times with different `$position`");
                null != e3.$position ? ([].splice.apply(this, [e3.$position, 0].concat(t3)), n3 = this.length) : n3 = [].push.apply(this, t3);
              } else {
                if (w(i3, "$push.$each.length", 0) > 0 && null != i3.$push.$position)
                  throw new m("Cannot call `Array#push()` multiple times with different `$position`");
                e3 = t3, n3 = [].push.apply(this, t3);
              }
              return this._registerAtomic("$push", e3), this._markModified(), n3;
            } }, { key: "remove", value: function() {
              return this.pull.apply(this, arguments);
            } }, { key: "set", value: function(t3, e3) {
              var r3 = this._cast(e3, t3);
              return this[t3] = r3, this._markModified(t3), this;
            } }, { key: "shift", value: function() {
              var t3 = [].shift.call(this);
              return this._registerAtomic("$set", this), this._markModified(), t3;
            } }, { key: "sort", value: function() {
              var t3 = [].sort.apply(this, arguments);
              return this._registerAtomic("$set", this), t3;
            } }, {
              key: "splice",
              value: function() {
                var t3;
                if (C(this, Array.prototype.slice.call(arguments, 2)), arguments.length) {
                  var e3;
                  if (null == this[P])
                    e3 = arguments;
                  else {
                    e3 = [];
                    for (var r3 = 0; r3 < arguments.length; ++r3)
                      e3[r3] = r3 < 2 ? arguments[r3] : this._cast(arguments[r3], arguments[0] + (r3 - 2));
                  }
                  t3 = [].splice.apply(this, e3), this._registerAtomic("$set", this);
                }
                return t3;
              }
            }, {
              key: "slice",
              value: function() {
                var t3 = u(d(p2.prototype), "slice", this).apply(this, arguments);
                return t3[$] = this[$], t3[P] = this[P], t3[A] = this[A], t3[E] = this[E], t3[T] = true, t3;
              }
            }, {
              key: "filter",
              value: function() {
                var t3 = u(d(p2.prototype), "filter", this).apply(this, arguments);
                return t3[$] = this[$], t3[P] = this[P], t3[A] = this[A], t3[E] = this[E], t3;
              }
            }, { key: "toBSON", value: function() {
              return this.toObject(O);
            } }, { key: "toObject", value: function(t3) {
              return t3 && t3.depopulate ? ((t3 = S.clone(t3))._isNested = true, [].concat(this).map(function(e3) {
                return e3 instanceof _ ? e3.toObject(t3) : e3;
              })) : [].concat(this);
            } }, { key: "unshift", value: function() {
              var t3;
              return C(this, arguments), null == this[P] ? t3 = arguments : (t3 = [].map.call(arguments, this._cast, this), t3 = this[P].applySetters(t3, this[$])), [].unshift.apply(this, t3), this._registerAtomic("$set", this), this._markModified(), this.length;
            } }]) && a(o2.prototype, i2), c2 && a(o2, c2), Object.defineProperty(o2, "prototype", { writable: false }), p2;
          }(f(Array));
          function C(t2, e3) {
            var r2, n2, i2, s2 = null == t2 ? null : w(t2[P], "caster.options.ref", null);
            0 === t2.length && e3.length > 0 && function(t3, e4) {
              if (!e4)
                return false;
              var r3, n3 = o(t3);
              try {
                for (n3.s(); !(r3 = n3.n()).done; ) {
                  var i3 = r3.value;
                  if (null == i3)
                    return false;
                  var s3 = i3.constructor;
                  if (!(i3 instanceof _) || s3.modelName !== e4 && s3.baseModelName !== e4)
                    return false;
                }
              } catch (t4) {
                n3.e(t4);
              } finally {
                n3.f();
              }
              return true;
            }(e3, s2) && t2[$].populated(t2[E], [], (r2 = {}, n2 = x, i2 = e3[0].constructor, n2 in r2 ? Object.defineProperty(r2, n2, { value: i2, enumerable: true, configurable: true, writable: true }) : r2[n2] = i2, r2));
          }
          j.inspect.custom && (B.prototype[j.inspect.custom] = B.prototype.inspect), t.exports = B;
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2, e2, r2) {
          var n = (r2 = r2 || {}).skipDocArrays, o = 0;
          if (!t2)
            return o;
          for (var i = 0, s = Object.keys(t2.$__.activePaths.states.modify); i < s.length; i++) {
            var a = s[i];
            if (n) {
              var u = t2.$__schema.path(a);
              if (u && u.$isMongooseDocumentArray)
                continue;
            }
            a.startsWith(e2 + ".") && (delete t2.$__.activePaths.states.modify[a], ++o);
          }
          return o;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(15).get().Binary, o = r(1), i = r(64).Buffer;
        function s(t2, e2, r2) {
          var n2, a2, c, l, f, p = arguments.length;
          return n2 = 0 === p || null == arguments[0] ? 0 : t2, Array.isArray(e2) ? (c = e2[0], l = e2[1]) : a2 = e2, f = "number" == typeof n2 || n2 instanceof Number ? i.alloc(n2) : i.from(n2, a2, r2), o.decorate(f, s.mixin), f.isMongooseBuffer = true, f[s.pathSymbol] = c, f[u] = l, f._subtype = 0, f;
        }
        var a = Symbol.for("mongoose#Buffer#_path"), u = Symbol.for("mongoose#Buffer#_parent");
        s.pathSymbol = a, s.mixin = { _subtype: void 0, _markModified: function() {
          var t2 = this[u];
          return t2 && t2.markModified(this[s.pathSymbol]), this;
        }, write: function() {
          var t2 = i.prototype.write.apply(this, arguments);
          return t2 > 0 && this._markModified(), t2;
        }, copy: function(t2) {
          var e2 = i.prototype.copy.apply(this, arguments);
          return t2 && t2.isMongooseBuffer && t2._markModified(), e2;
        } }, "writeUInt8 writeUInt16 writeUInt32 writeInt8 writeInt16 writeInt32 writeFloat writeDouble fill utf8Write binaryWrite asciiWrite set writeUInt16LE writeUInt16BE writeUInt32LE writeUInt32BE writeInt16LE writeInt16BE writeInt32LE writeInt32BE writeFloatLE writeFloatBE writeDoubleLE writeDoubleBE".split(" ").forEach(function(t2) {
          i.prototype[t2] && (s.mixin[t2] = function() {
            var e2 = i.prototype[t2].apply(this, arguments);
            return this._markModified(), e2;
          });
        }), s.mixin.toObject = function(t2) {
          var e2 = "number" == typeof t2 ? t2 : this._subtype || 0;
          return new n(i.from(this), e2);
        }, s.mixin.toBSON = function() {
          return new n(this, this._subtype || 0);
        }, s.mixin.equals = function(t2) {
          if (!i.isBuffer(t2))
            return false;
          if (this.length !== t2.length)
            return false;
          for (var e2 = 0; e2 < this.length; ++e2)
            if (this[e2] !== t2[e2])
              return false;
          return true;
        }, s.mixin.subtype = function(t2) {
          if ("number" != typeof t2)
            throw new TypeError("Invalid subtype. Expected a number");
          this._subtype !== t2 && this._markModified(), this._subtype = t2;
        }, s.Binary = n, t.exports = s;
      }, function(t, e, r) {
        "use strict";
        var n = r(15).get().ObjectId, o = r(23);
        t.exports = function(t2) {
          if (null == t2)
            return t2;
          if (t2 instanceof n)
            return t2;
          if (t2._id) {
            if (t2._id instanceof n)
              return t2._id;
            if (t2._id.toString instanceof Function)
              return new n(t2._id.toString());
          }
          if (t2.toString instanceof Function)
            return new n(t2.toString());
          o.ok(false);
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return i(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return i(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, o2 = function() {
              };
              return { s: o2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: o2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function i(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        function s(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function a() {
          return (a = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e2, r2) {
            var n2 = u(t2, e2);
            if (n2) {
              var o2 = Object.getOwnPropertyDescriptor(n2, e2);
              return o2.get ? o2.get.call(arguments.length < 3 ? t2 : r2) : o2.value;
            }
          }).apply(this, arguments);
        }
        function u(t2, e2) {
          for (; !Object.prototype.hasOwnProperty.call(t2, e2) && null !== (t2 = y(t2)); )
            ;
          return t2;
        }
        function c(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function l(t2) {
          var e2 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
          return (l = function(t3) {
            if (null === t3 || (r2 = t3, -1 === Function.toString.call(r2).indexOf("[native code]")))
              return t3;
            var r2;
            if ("function" != typeof t3)
              throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== e2) {
              if (e2.has(t3))
                return e2.get(t3);
              e2.set(t3, n2);
            }
            function n2() {
              return f(t3, arguments, y(this).constructor);
            }
            return n2.prototype = Object.create(t3.prototype, { constructor: { value: n2, enumerable: false, writable: true, configurable: true } }), h(n2, t3);
          })(t2);
        }
        function f(t2, e2, r2) {
          return (f = p() ? Reflect.construct.bind() : function(t3, e3, r3) {
            var n2 = [null];
            n2.push.apply(n2, e3);
            var o2 = new (Function.bind.apply(t3, n2))();
            return r3 && h(o2, r3.prototype), o2;
          }).apply(null, arguments);
        }
        function p() {
          if ("undefined" == typeof Reflect || !Reflect.construct)
            return false;
          if (Reflect.construct.sham)
            return false;
          if ("function" == typeof Proxy)
            return true;
          try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            })), true;
          } catch (t2) {
            return false;
          }
        }
        function h(t2, e2) {
          return (h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function y(t2) {
          return (y = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var d = r(28), _ = r(11), v = r(26), m = r(1).deepEqual, b = r(3), g = r(24), w = r(91), O = r(4), S = r(51), j = r(0).populateModelSymbol, A = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && h(t3, e3);
          }(f2, t2);
          var e2, r2, n2, i2, u2, l2 = (e2 = f2, r2 = p(), function() {
            var t3, n3 = y(e2);
            if (r2) {
              var o2 = y(this).constructor;
              t3 = Reflect.construct(n3, arguments, o2);
            } else
              t3 = n3.apply(this, arguments);
            return c(this, t3);
          });
          function f2(t3, e3, r3, n3) {
            var o2;
            return function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, f2), "Object" === g(t3) && (t3 = Object.keys(t3).reduce(function(e4, r4) {
              return e4.concat([[r4, t3[r4]]]);
            }, [])), (o2 = l2.call(this, t3)).$__parent = null != r3 && null != r3.$__ ? r3 : null, o2.$__path = e3, o2.$__schemaType = null == n3 ? new d(e3) : n3, o2.$__runDeferred(), o2;
          }
          return n2 = f2, (i2 = [{ key: "$init", value: function(t3, e3) {
            $(t3), a(y(f2.prototype), "set", this).call(this, t3, e3), null != e3 && e3.$isSingleNested && (e3.$basePath = this.$__path + "." + t3);
          } }, { key: "$__set", value: function(t3, e3) {
            a(y(f2.prototype), "set", this).call(this, t3, e3);
          } }, { key: "get", value: function(t3, e3) {
            return t3 instanceof _ && (t3 = t3.toString()), false === (e3 = e3 || {}).getters ? a(y(f2.prototype), "get", this).call(this, t3) : this.$__schemaType.applyGetters(a(y(f2.prototype), "get", this).call(this, t3), this.$__parent);
          } }, { key: "set", value: function(t3, e3) {
            if (t3 instanceof _ && (t3 = t3.toString()), $(t3), e3 = w(e3), null == this.$__schemaType)
              return this.$__deferred = this.$__deferred || [], void this.$__deferred.push({ key: t3, value: e3 });
            var r3 = this.$__path + "." + t3, n3 = null != this.$__parent && this.$__parent.$__ ? this.$__parent.populated(r3) || this.$__parent.populated(this.$__path) : null, o2 = this.get(t3);
            if (null != n3)
              null == e3.$__ && (e3 = new n3.options[j](e3)), e3.$__.wasPopulated = true;
            else
              try {
                e3 = this.$__schemaType.applySetters(e3, this.$__parent, false, this.get(t3), { path: r3 });
              } catch (t4) {
                if (null != this.$__parent && null != this.$__parent.$__)
                  return void this.$__parent.invalidate(r3, t4);
                throw t4;
              }
            a(y(f2.prototype), "set", this).call(this, t3, e3), null != e3 && e3.$isSingleNested && (e3.$basePath = this.$__path + "." + t3);
            var i3 = this.$__parent;
            null == i3 || null == i3.$__ || m(e3, o2) || i3.markModified(this.$__path + "." + t3);
          } }, { key: "clear", value: function() {
            a(y(f2.prototype), "clear", this).call(this);
            var t3 = this.$__parent;
            null != t3 && t3.markModified(this.$__path);
          } }, { key: "delete", value: function(t3) {
            t3 instanceof _ && (t3 = t3.toString()), this.set(t3, void 0), a(y(f2.prototype), "delete", this).call(this, t3);
          } }, { key: "toBSON", value: function() {
            return new Map(this);
          } }, { key: "toObject", value: function(t3) {
            if (b(t3, "flattenMaps")) {
              var e3, r3 = {}, n3 = o(this.keys());
              try {
                for (n3.s(); !(e3 = n3.n()).done; ) {
                  var i3 = e3.value;
                  r3[i3] = v(this.get(i3));
                }
              } catch (t4) {
                n3.e(t4);
              } finally {
                n3.f();
              }
              return r3;
            }
            return new Map(this);
          } }, { key: "toJSON", value: function() {
            var t3, e3 = {}, r3 = o(this.keys());
            try {
              for (r3.s(); !(t3 = r3.n()).done; ) {
                var n3 = t3.value;
                e3[n3] = this.get(n3);
              }
            } catch (t4) {
              r3.e(t4);
            } finally {
              r3.f();
            }
            return e3;
          } }, { key: "inspect", value: function() {
            return new Map(this);
          } }, { key: "$__runDeferred", value: function() {
            if (this.$__deferred) {
              var t3, e3 = o(this.$__deferred);
              try {
                for (e3.s(); !(t3 = e3.n()).done; ) {
                  var r3 = t3.value;
                  this.set(r3.key, r3.value);
                }
              } catch (t4) {
                e3.e(t4);
              } finally {
                e3.f();
              }
              this.$__deferred = null;
            }
          } }]) && s(n2.prototype, i2), u2 && s(n2, u2), Object.defineProperty(n2, "prototype", { writable: false }), f2;
        }(l(Map));
        function $(t2) {
          var e2 = n(t2);
          if ("string" !== e2)
            throw new TypeError("Mongoose maps only support string keys, got ".concat(e2));
          if (t2.startsWith("$"))
            throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(t2, '"'));
          if (t2.includes("."))
            throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(t2, '"'));
          if (S.has(t2))
            throw new Error('Mongoose maps do not support reserved key name "'.concat(t2, '"'));
        }
        O.inspect.custom && Object.defineProperty(A.prototype, O.inspect.custom, { enumerable: false, writable: false, configurable: false, value: A.prototype.inspect }), Object.defineProperty(A.prototype, "$__set", { enumerable: false, writable: true, configurable: false }), Object.defineProperty(A.prototype, "$__parent", { enumerable: false, writable: true, configurable: false }), Object.defineProperty(A.prototype, "$__path", { enumerable: false, writable: true, configurable: false }), Object.defineProperty(A.prototype, "$__schemaType", { enumerable: false, writable: true, configurable: false }), Object.defineProperty(A.prototype, "$isMongooseMap", { enumerable: false, writable: false, configurable: false, value: true }), Object.defineProperty(A.prototype, "$__deferredCalls", { enumerable: false, writable: false, configurable: false, value: true }), t.exports = A;
      }, function(t, e, r) {
        "use strict";
        var n = r(1);
        t.exports = function(t2) {
          return n.isPOJO(t2) && null != t2.$__ && null != t2._doc ? t2._doc : t2;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        var i = r(12), s = r(22), a = r(17).internalToObjectOptions, u = r(27), c = r(0).documentArrayParent;
        function l(t2, e2, r2, o2, s2) {
          var a2 = this;
          this.$isSingleNested = true, null != s2 && null != s2.path && (this.$basePath = s2.path);
          var u2 = null != s2 && s2.priorDoc, c2 = null;
          if (u2 && (this._doc = Object.assign({}, s2.priorDoc._doc), delete this._doc[this.$__schema.options.discriminatorKey], c2 = Object.keys(s2.priorDoc._doc || {}).filter(function(t3) {
            return t3 !== a2.$__schema.options.discriminatorKey;
          })), null != r2 && (s2 = Object.assign({}, s2, { isNew: r2.isNew, defaults: r2.$__.$options.defaults })), i.call(this, t2, e2, o2, s2), u2) {
            var l2, f = n(c2);
            try {
              for (f.s(); !(l2 = f.n()).done; ) {
                var p = l2.value;
                if (!this.$__.activePaths.states.modify[p] && !this.$__.activePaths.states.default[p] && !this.$__.$setCalled.has(p)) {
                  var h = this.$__schema.path(p), y = null == h ? void 0 : h.getDefault(this);
                  void 0 === y ? delete this._doc[p] : (this._doc[p] = y, this.$__.activePaths.default(p));
                }
              }
            } catch (t3) {
              f.e(t3);
            } finally {
              f.f();
            }
            delete s2.priorDoc, delete this.$__.$options.priorDoc;
          }
        }
        t.exports = l, l.prototype = Object.create(i.prototype), l.prototype.toBSON = function() {
          return this.toObject(a);
        }, l.prototype.save = function(t2, e2) {
          var r2 = this;
          return "function" == typeof t2 && (e2 = t2, t2 = {}), (t2 = t2 || {}).suppressWarning || console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."), u(e2, function(t3) {
            r2.$__save(t3);
          });
        }, l.prototype.$__save = function(t2) {
          var e2 = this;
          return s(function() {
            return t2(null, e2);
          });
        }, l.prototype.$isValid = function(t2) {
          return this.$__parent && this.$basePath ? this.$__parent.$isValid([this.$basePath, t2].join(".")) : i.prototype.$isValid.call(this, t2);
        }, l.prototype.markModified = function(t2) {
          if (i.prototype.markModified.call(this, t2), this.$__parent && this.$basePath) {
            if (this.$__parent.isDirectModified(this.$basePath))
              return;
            this.$__parent.markModified([this.$basePath, t2].join("."), this);
          }
        }, l.prototype.isModified = function(t2, e2) {
          var r2 = this;
          return this.$__parent && this.$basePath ? Array.isArray(t2) || "string" == typeof t2 ? (t2 = (t2 = Array.isArray(t2) ? t2 : t2.split(" ")).map(function(t3) {
            return [r2.$basePath, t3].join(".");
          }), this.$__parent.isModified(t2, e2)) : this.$__parent.isModified(this.$basePath) : i.prototype.isModified.call(this, t2, e2);
        }, l.prototype.$markValid = function(t2) {
          i.prototype.$markValid.call(this, t2), this.$__parent && this.$basePath && this.$__parent.$markValid([this.$basePath, t2].join("."));
        }, l.prototype.invalidate = function(t2, e2, r2) {
          if (e2 !== this.ownerDocument().$__.validationError && i.prototype.invalidate.call(this, t2, e2, r2), this.$__parent && this.$basePath)
            this.$__parent.invalidate([this.$basePath, t2].join("."), e2, r2);
          else if ("cast" === e2.kind || "CastError" === e2.name)
            throw e2;
          return this.ownerDocument().$__.validationError;
        }, l.prototype.$ignore = function(t2) {
          i.prototype.$ignore.call(this, t2), this.$__parent && this.$basePath && this.$__parent.$ignore([this.$basePath, t2].join("."));
        }, l.prototype.ownerDocument = function() {
          if (this.$__.ownerDocument)
            return this.$__.ownerDocument;
          var t2 = this.$__parent;
          if (!t2)
            return this;
          for (; t2.$__parent || t2[c]; )
            t2 = t2.$__parent || t2[c];
          return this.$__.ownerDocument = t2, this.$__.ownerDocument;
        }, l.prototype.parent = function() {
          return this.$__parent;
        }, l.prototype.$parent = l.prototype.parent, l.prototype.$__remove = function(t2) {
          return t2(null, this);
        }, l.prototype.remove = function(t2, e2) {
          "function" == typeof t2 && (e2 = t2, t2 = null), function(t3) {
            var e3 = t3.ownerDocument();
            function r2() {
              e3.removeListener("save", r2), e3.removeListener("remove", r2), t3.emit("remove", t3), t3.constructor.emit("remove", t3), e3 = t3 = null;
            }
            e3.on("save", r2), e3.on("remove", r2);
          }(this), t2 && t2.noop || this.$__parent.set(this.$basePath, null), "function" == typeof e2 && e2(null);
        }, l.prototype.populate = function() {
          throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`');
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        var i = r(28), s = r(58).defineKey, a = r(3), u = r(1), c = { toJSON: true, toObject: true, _id: true, id: true };
        t.exports = function(t2, e2, r2, o2, l) {
          if (!r2 || !r2.instanceOfSchema)
            throw new Error("You must pass a valid discriminator Schema");
          if (t2.schema.discriminatorMapping && !t2.schema.discriminatorMapping.isRoot)
            throw new Error('Discriminator "' + e2 + '" can only be a discriminator of the root model');
          if (l) {
            var f = a(t2.base, "options.applyPluginsToDiscriminators", false);
            t2.base._applyPlugins(r2, { skipTopLevel: !f });
          }
          var p = t2.schema.options.discriminatorKey, h = t2.schema.path(p);
          if (null != h)
            u.hasUserDefinedProperty(h.options, "select") || (h.options.select = true), h.options.$skipDiscriminatorCheck = true;
          else {
            var y = {};
            y[p] = { default: void 0, select: true, $skipDiscriminatorCheck: true }, y[p][t2.schema.options.typeKey] = String, t2.schema.add(y), s(p, null, t2.prototype, null, [p], t2.schema.options);
          }
          if (r2.path(p) && true !== r2.path(p).options.$skipDiscriminatorCheck)
            throw new Error('Discriminator "' + e2 + '" cannot have field with name "' + p + '"');
          var d = e2;
          if (("string" == typeof o2 && o2.length || null != o2) && (d = o2), function(e3, r3) {
            e3._baseSchema = r3, r3.paths._id && r3.paths._id.options && !r3.paths._id.options.auto && e3.remove("_id");
            for (var o3 = [], s2 = 0, a2 = Object.keys(r3.paths); s2 < a2.length; s2++) {
              var l2 = a2[s2];
              if (e3.nested[l2])
                o3.push(l2);
              else if (-1 !== l2.indexOf(".")) {
                var f2, y2 = "", _ = n(l2.split(".").slice(0, -1));
                try {
                  for (_.s(); !(f2 = _.n()).done; ) {
                    var v = f2.value;
                    y2 += (y2.length ? "." : "") + v, (e3.paths[y2] instanceof i || e3.singleNestedPaths[y2] instanceof i) && o3.push(l2);
                  }
                } catch (t3) {
                  _.e(t3);
                } finally {
                  _.f();
                }
              }
            }
            u.merge(e3, r3, { isDiscriminatorSchemaMerge: true, omit: { discriminators: true, base: true }, omitNested: o3.reduce(function(t3, e4) {
              return t3["tree." + e4] = true, t3;
            }, {}) });
            for (var m = 0, b = o3; m < b.length; m++) {
              var g = b[m];
              delete e3.paths[g];
            }
            e3.childSchemas.forEach(function(t3) {
              t3.model.prototype.$__setSchema(t3.schema);
            });
            var w = {};
            w[p] = { default: d, select: true, set: function(t3) {
              if (t3 === d || Array.isArray(d) && u.deepEqual(t3, d))
                return d;
              throw new Error(`Can't set discriminator key "` + p + '"');
            }, $skipDiscriminatorCheck: true }, w[p][e3.options.typeKey] = h ? h.options[e3.options.typeKey] : String, e3.add(w), e3.discriminatorMapping = { key: p, value: d, isRoot: false }, r3.options.collection && (e3.options.collection = r3.options.collection);
            var O = e3.options.toJSON, S = e3.options.toObject, j = e3.options._id, A = e3.options.id, $ = Object.keys(e3.options);
            e3.options.discriminatorKey = r3.options.discriminatorKey;
            for (var E = 0, P = $; E < P.length; E++) {
              var x = P[E];
              if (!c[x]) {
                if ("pluralization" === x && 1 == e3.options[x] && null == r3.options[x])
                  continue;
                if (!u.deepEqual(e3.options[x], r3.options[x]))
                  throw new Error("Can't customize discriminator option " + x + " (can only modify " + Object.keys(c).join(", ") + ")");
              }
            }
            e3.options = u.clone(r3.options), O && (e3.options.toJSON = O), S && (e3.options.toObject = S), void 0 !== j && (e3.options._id = j), e3.options.id = A, e3.s.hooks = t2.schema.s.hooks.merge(e3.s.hooks), e3.plugins = Array.prototype.slice.call(r3.plugins), e3.callQueue = r3.callQueue.concat(e3.callQueue), delete e3._requiredpaths;
          }(r2, t2.schema), t2.discriminators || (t2.discriminators = {}), t2.schema.discriminatorMapping || (t2.schema.discriminatorMapping = { key: p, value: null, isRoot: true }), t2.schema.discriminators || (t2.schema.discriminators = {}), t2.schema.discriminators[e2] = r2, t2.discriminators[e2])
            throw new Error('Discriminator with name "' + e2 + '" already exists');
          return r2;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(76);
        t.exports = function(t2, e2) {
          return null == e2 || null == e2._id || (t2 = t2.clone(), e2._id ? t2.paths._id || (n(t2), t2.options._id = true) : (t2.remove("_id"), t2.options._id = false)), t2;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(37);
        t.exports = function(t2, e2) {
          var r2 = t2.schema.options.discriminatorKey;
          if (null != e2 && t2.discriminators && null != e2[r2])
            if (t2.discriminators[e2[r2]])
              t2 = t2.discriminators[e2[r2]];
            else {
              var o = n(t2.discriminators, e2[r2]);
              o && (t2 = o);
            }
          return t2;
        };
      }, function(t, e, r) {
        "use strict";
        t.exports = r(97);
      }, function(t, e, r) {
        "use strict";
        (function(n) {
          function o(t2) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          function i(t2, e2) {
            for (var r2 = 0; r2 < e2.length; r2++) {
              var n2 = e2[r2];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
            }
          }
          function s(t2, e2) {
            return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
              return t3.__proto__ = e3, t3;
            })(t2, e2);
          }
          function a(t2) {
            var e2 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (t3) {
                return false;
              }
            }();
            return function() {
              var r2, n2 = c(t2);
              if (e2) {
                var o2 = c(this).constructor;
                r2 = Reflect.construct(n2, arguments, o2);
              } else
                r2 = n2.apply(this, arguments);
              return u(this, r2);
            };
          }
          function u(t2, e2) {
            if (e2 && ("object" === o(e2) || "function" == typeof e2))
              return e2;
            if (void 0 !== e2)
              throw new TypeError("Derived constructors may only return object or undefined");
            return function(t3) {
              if (void 0 === t3)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return t3;
            }(t2);
          }
          function c(t2) {
            return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
              return t3.__proto__ || Object.getPrototypeOf(t3);
            })(t2);
          }
          r(15).set(r(101));
          var l = r(62), f = r(68);
          l.setBrowser(true), Object.defineProperty(e, "Promise", { get: function() {
            return f.get();
          }, set: function(t2) {
            f.set(t2);
          } }), e.PromiseProvider = f, e.Error = r(5), e.Schema = r(54), e.Types = r(38), e.VirtualType = r(55), e.SchemaType = r(6), e.utils = r(1), e.Document = l(), e.model = function(t2, r2) {
            var n2 = function(t3) {
              !function(t4, e3) {
                if ("function" != typeof e3 && null !== e3)
                  throw new TypeError("Super expression must either be null or a function");
                t4.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t4, writable: true, configurable: true } }), Object.defineProperty(t4, "prototype", { writable: false }), e3 && s(t4, e3);
              }(c2, t3);
              var e2, n3, o2, u2 = a(c2);
              function c2(t4, e3) {
                return function(t5, e4) {
                  if (!(t5 instanceof e4))
                    throw new TypeError("Cannot call a class as a function");
                }(this, c2), u2.call(this, t4, r2, e3);
              }
              return e2 = c2, n3 && i(e2.prototype, n3), o2 && i(e2, o2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
            }(e.Document);
            return n2.modelName = t2, n2;
          }, "undefined" != typeof window && (window.mongoose = t.exports, window.Buffer = n);
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        e.byteLength = function(t2) {
          var e2 = c(t2), r2 = e2[0], n2 = e2[1];
          return 3 * (r2 + n2) / 4 - n2;
        }, e.toByteArray = function(t2) {
          var e2, r2, n2 = c(t2), s2 = n2[0], a2 = n2[1], u2 = new i(function(t3, e3, r3) {
            return 3 * (e3 + r3) / 4 - r3;
          }(0, s2, a2)), l2 = 0, f = a2 > 0 ? s2 - 4 : s2;
          for (r2 = 0; r2 < f; r2 += 4)
            e2 = o[t2.charCodeAt(r2)] << 18 | o[t2.charCodeAt(r2 + 1)] << 12 | o[t2.charCodeAt(r2 + 2)] << 6 | o[t2.charCodeAt(r2 + 3)], u2[l2++] = e2 >> 16 & 255, u2[l2++] = e2 >> 8 & 255, u2[l2++] = 255 & e2;
          2 === a2 && (e2 = o[t2.charCodeAt(r2)] << 2 | o[t2.charCodeAt(r2 + 1)] >> 4, u2[l2++] = 255 & e2);
          1 === a2 && (e2 = o[t2.charCodeAt(r2)] << 10 | o[t2.charCodeAt(r2 + 1)] << 4 | o[t2.charCodeAt(r2 + 2)] >> 2, u2[l2++] = e2 >> 8 & 255, u2[l2++] = 255 & e2);
          return u2;
        }, e.fromByteArray = function(t2) {
          for (var e2, r2 = t2.length, o2 = r2 % 3, i2 = [], s2 = 0, a2 = r2 - o2; s2 < a2; s2 += 16383)
            i2.push(l(t2, s2, s2 + 16383 > a2 ? a2 : s2 + 16383));
          1 === o2 ? (e2 = t2[r2 - 1], i2.push(n[e2 >> 2] + n[e2 << 4 & 63] + "==")) : 2 === o2 && (e2 = (t2[r2 - 2] << 8) + t2[r2 - 1], i2.push(n[e2 >> 10] + n[e2 >> 4 & 63] + n[e2 << 2 & 63] + "="));
          return i2.join("");
        };
        for (var n = [], o = [], i = "undefined" != typeof Uint8Array ? Uint8Array : Array, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = 0, u = s.length; a < u; ++a)
          n[a] = s[a], o[s.charCodeAt(a)] = a;
        function c(t2) {
          var e2 = t2.length;
          if (e2 % 4 > 0)
            throw new Error("Invalid string. Length must be a multiple of 4");
          var r2 = t2.indexOf("=");
          return -1 === r2 && (r2 = e2), [r2, r2 === e2 ? 0 : 4 - r2 % 4];
        }
        function l(t2, e2, r2) {
          for (var o2, i2, s2 = [], a2 = e2; a2 < r2; a2 += 3)
            o2 = (t2[a2] << 16 & 16711680) + (t2[a2 + 1] << 8 & 65280) + (255 & t2[a2 + 2]), s2.push(n[(i2 = o2) >> 18 & 63] + n[i2 >> 12 & 63] + n[i2 >> 6 & 63] + n[63 & i2]);
          return s2.join("");
        }
        o["-".charCodeAt(0)] = 62, o["_".charCodeAt(0)] = 63;
      }, function(t, e) {
        e.read = function(t2, e2, r, n, o) {
          var i, s, a = 8 * o - n - 1, u = (1 << a) - 1, c = u >> 1, l = -7, f = r ? o - 1 : 0, p = r ? -1 : 1, h = t2[e2 + f];
          for (f += p, i = h & (1 << -l) - 1, h >>= -l, l += a; l > 0; i = 256 * i + t2[e2 + f], f += p, l -= 8)
            ;
          for (s = i & (1 << -l) - 1, i >>= -l, l += n; l > 0; s = 256 * s + t2[e2 + f], f += p, l -= 8)
            ;
          if (0 === i)
            i = 1 - c;
          else {
            if (i === u)
              return s ? NaN : 1 / 0 * (h ? -1 : 1);
            s += Math.pow(2, n), i -= c;
          }
          return (h ? -1 : 1) * s * Math.pow(2, i - n);
        }, e.write = function(t2, e2, r, n, o, i) {
          var s, a, u, c = 8 * i - o - 1, l = (1 << c) - 1, f = l >> 1, p = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, h = n ? 0 : i - 1, y = n ? 1 : -1, d = e2 < 0 || 0 === e2 && 1 / e2 < 0 ? 1 : 0;
          for (e2 = Math.abs(e2), isNaN(e2) || e2 === 1 / 0 ? (a = isNaN(e2) ? 1 : 0, s = l) : (s = Math.floor(Math.log(e2) / Math.LN2), e2 * (u = Math.pow(2, -s)) < 1 && (s--, u *= 2), (e2 += s + f >= 1 ? p / u : p * Math.pow(2, 1 - f)) * u >= 2 && (s++, u /= 2), s + f >= l ? (a = 0, s = l) : s + f >= 1 ? (a = (e2 * u - 1) * Math.pow(2, o), s += f) : (a = e2 * Math.pow(2, f - 1) * Math.pow(2, o), s = 0)); o >= 8; t2[r + h] = 255 & a, h += y, a /= 256, o -= 8)
            ;
          for (s = s << o | a, c += o; c > 0; t2[r + h] = 255 & s, h += y, s /= 256, c -= 8)
            ;
          t2[r + h - y] |= 128 * d;
        };
      }, function(t, e) {
        var r = {}.toString;
        t.exports = Array.isArray || function(t2) {
          return "[object Array]" == r.call(t2);
        };
      }, function(t, e, r) {
        "use strict";
        e.Binary = r(102), e.Collection = function() {
          throw new Error("Cannot create a collection from browser library");
        }, e.getConnection = function() {
          return function() {
            throw new Error("Cannot create a connection from browser library");
          };
        }, e.Decimal128 = r(109), e.ObjectId = r(110), e.ReadPreference = r(111);
      }, function(t, e, r) {
        "use strict";
        var n = r(39).Binary;
        t.exports = n;
      }, function(t, e) {
        function r(t2) {
          return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        t.exports = function(t2) {
          return t2 && "object" === r(t2) && "function" == typeof t2.copy && "function" == typeof t2.fill && "function" == typeof t2.readUInt8;
        };
      }, function(t, e) {
        "function" == typeof Object.create ? t.exports = function(t2, e2) {
          t2.super_ = e2, t2.prototype = Object.create(e2.prototype, { constructor: { value: t2, enumerable: false, writable: true, configurable: true } });
        } : t.exports = function(t2, e2) {
          t2.super_ = e2;
          var r = function() {
          };
          r.prototype = e2.prototype, t2.prototype = new r(), t2.prototype.constructor = t2;
        };
      }, function(module, exports, __webpack_require__) {
        "use strict";
        var Long = __webpack_require__(25).Long, Double = __webpack_require__(40).Double, Timestamp = __webpack_require__(41).Timestamp, ObjectID = __webpack_require__(42).ObjectID, _Symbol = __webpack_require__(44).Symbol, Code = __webpack_require__(45).Code, MinKey = __webpack_require__(47).MinKey, MaxKey = __webpack_require__(48).MaxKey, Decimal128 = __webpack_require__(46), Int32 = __webpack_require__(61), DBRef = __webpack_require__(49).DBRef, BSONRegExp = __webpack_require__(43).BSONRegExp, Binary = __webpack_require__(30).Binary, utils = __webpack_require__(16), deserialize = function(t, e, r) {
          var n = (e = null == e ? {} : e) && e.index ? e.index : 0, o = t[n] | t[n + 1] << 8 | t[n + 2] << 16 | t[n + 3] << 24;
          if (o < 5 || t.length < o || o + n > t.length)
            throw new Error("corrupt bson message");
          if (0 !== t[n + o - 1])
            throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");
          return deserializeObject(t, n, e, r);
        }, deserializeObject = function t(e, r, n, o) {
          var i = null != n.evalFunctions && n.evalFunctions, s = null != n.cacheFunctions && n.cacheFunctions, a = null != n.cacheFunctionsCrc32 && n.cacheFunctionsCrc32;
          if (!a)
            var u = null;
          var c = null == n.fieldsAsRaw ? null : n.fieldsAsRaw, l = null != n.raw && n.raw, f = "boolean" == typeof n.bsonRegExp && n.bsonRegExp, p = null != n.promoteBuffers && n.promoteBuffers, h = null == n.promoteLongs || n.promoteLongs, y = null == n.promoteValues || n.promoteValues, d = r;
          if (e.length < 5)
            throw new Error("corrupt bson message < 5 bytes long");
          var _ = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24;
          if (_ < 5 || _ > e.length)
            throw new Error("corrupt bson message");
          for (var v = o ? [] : {}, m = 0; ; ) {
            var b = e[r++];
            if (0 === b)
              break;
            for (var g = r; 0 !== e[g] && g < e.length; )
              g++;
            if (g >= e.length)
              throw new Error("Bad BSON Document: illegal CString");
            var w = o ? m++ : e.toString("utf8", r, g);
            if (r = g + 1, b === BSON.BSON_DATA_STRING) {
              var O = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24;
              if (O <= 0 || O > e.length - r || 0 !== e[r + O - 1])
                throw new Error("bad string length in bson");
              v[w] = e.toString("utf8", r, r + O - 1), r += O;
            } else if (b === BSON.BSON_DATA_OID) {
              var S = utils.allocBuffer(12);
              e.copy(S, 0, r, r + 12), v[w] = new ObjectID(S), r += 12;
            } else if (b === BSON.BSON_DATA_INT && false === y)
              v[w] = new Int32(e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24);
            else if (b === BSON.BSON_DATA_INT)
              v[w] = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24;
            else if (b === BSON.BSON_DATA_NUMBER && false === y)
              v[w] = new Double(e.readDoubleLE(r)), r += 8;
            else if (b === BSON.BSON_DATA_NUMBER)
              v[w] = e.readDoubleLE(r), r += 8;
            else if (b === BSON.BSON_DATA_DATE) {
              var j = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24, A = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24;
              v[w] = new Date(new Long(j, A).toNumber());
            } else if (b === BSON.BSON_DATA_BOOLEAN) {
              if (0 !== e[r] && 1 !== e[r])
                throw new Error("illegal boolean type value");
              v[w] = 1 === e[r++];
            } else if (b === BSON.BSON_DATA_OBJECT) {
              var $ = r, E = e[r] | e[r + 1] << 8 | e[r + 2] << 16 | e[r + 3] << 24;
              if (E <= 0 || E > e.length - r)
                throw new Error("bad embedded document length in bson");
              v[w] = l ? e.slice(r, r + E) : t(e, $, n, false), r += E;
            } else if (b === BSON.BSON_DATA_ARRAY) {
              $ = r;
              var P = n, x = r + (E = e[r] | e[r + 1] << 8 | e[r + 2] << 16 | e[r + 3] << 24);
              if (c && c[w]) {
                for (var T in P = {}, n)
                  P[T] = n[T];
                P.raw = true;
              }
              if (v[w] = t(e, $, P, true), 0 !== e[(r += E) - 1])
                throw new Error("invalid array terminator byte");
              if (r !== x)
                throw new Error("corrupted array bson");
            } else if (b === BSON.BSON_DATA_UNDEFINED)
              v[w] = void 0;
            else if (b === BSON.BSON_DATA_NULL)
              v[w] = null;
            else if (b === BSON.BSON_DATA_LONG) {
              j = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24, A = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24;
              var k = new Long(j, A);
              v[w] = h && true === y && k.lessThanOrEqual(JS_INT_MAX_LONG) && k.greaterThanOrEqual(JS_INT_MIN_LONG) ? k.toNumber() : k;
            } else if (b === BSON.BSON_DATA_DECIMAL128) {
              var N = utils.allocBuffer(16);
              e.copy(N, 0, r, r + 16), r += 16;
              var B = new Decimal128(N);
              v[w] = B.toObject ? B.toObject() : B;
            } else if (b === BSON.BSON_DATA_BINARY) {
              var C = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24, R = C, D = e[r++];
              if (C < 0)
                throw new Error("Negative binary type element size found");
              if (C > e.length)
                throw new Error("Binary type size larger than document size");
              if (null != e.slice) {
                if (D === Binary.SUBTYPE_BYTE_ARRAY) {
                  if ((C = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24) < 0)
                    throw new Error("Negative binary type element size found for subtype 0x02");
                  if (C > R - 4)
                    throw new Error("Binary type with subtype 0x02 contains to long binary size");
                  if (C < R - 4)
                    throw new Error("Binary type with subtype 0x02 contains to short binary size");
                }
                v[w] = p && y ? e.slice(r, r + C) : new Binary(e.slice(r, r + C), D);
              } else {
                var M = "undefined" != typeof Uint8Array ? new Uint8Array(new ArrayBuffer(C)) : new Array(C);
                if (D === Binary.SUBTYPE_BYTE_ARRAY) {
                  if ((C = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24) < 0)
                    throw new Error("Negative binary type element size found for subtype 0x02");
                  if (C > R - 4)
                    throw new Error("Binary type with subtype 0x02 contains to long binary size");
                  if (C < R - 4)
                    throw new Error("Binary type with subtype 0x02 contains to short binary size");
                }
                for (g = 0; g < C; g++)
                  M[g] = e[r + g];
                v[w] = p && y ? M : new Binary(M, D);
              }
              r += C;
            } else if (b === BSON.BSON_DATA_REGEXP && false === f) {
              for (g = r; 0 !== e[g] && g < e.length; )
                g++;
              if (g >= e.length)
                throw new Error("Bad BSON Document: illegal CString");
              var I = e.toString("utf8", r, g);
              for (g = r = g + 1; 0 !== e[g] && g < e.length; )
                g++;
              if (g >= e.length)
                throw new Error("Bad BSON Document: illegal CString");
              var F = e.toString("utf8", r, g);
              r = g + 1;
              var L = new Array(F.length);
              for (g = 0; g < F.length; g++)
                switch (F[g]) {
                  case "m":
                    L[g] = "m";
                    break;
                  case "s":
                    L[g] = "g";
                    break;
                  case "i":
                    L[g] = "i";
                }
              v[w] = new RegExp(I, L.join(""));
            } else if (b === BSON.BSON_DATA_REGEXP && true === f) {
              for (g = r; 0 !== e[g] && g < e.length; )
                g++;
              if (g >= e.length)
                throw new Error("Bad BSON Document: illegal CString");
              for (I = e.toString("utf8", r, g), g = r = g + 1; 0 !== e[g] && g < e.length; )
                g++;
              if (g >= e.length)
                throw new Error("Bad BSON Document: illegal CString");
              F = e.toString("utf8", r, g), r = g + 1, v[w] = new BSONRegExp(I, F);
            } else if (b === BSON.BSON_DATA_SYMBOL) {
              if ((O = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24) <= 0 || O > e.length - r || 0 !== e[r + O - 1])
                throw new Error("bad string length in bson");
              v[w] = new _Symbol(e.toString("utf8", r, r + O - 1)), r += O;
            } else if (b === BSON.BSON_DATA_TIMESTAMP)
              j = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24, A = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24, v[w] = new Timestamp(j, A);
            else if (b === BSON.BSON_DATA_MIN_KEY)
              v[w] = new MinKey();
            else if (b === BSON.BSON_DATA_MAX_KEY)
              v[w] = new MaxKey();
            else if (b === BSON.BSON_DATA_CODE) {
              if ((O = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24) <= 0 || O > e.length - r || 0 !== e[r + O - 1])
                throw new Error("bad string length in bson");
              var U = e.toString("utf8", r, r + O - 1);
              if (i)
                if (s) {
                  var V = a ? u(U) : U;
                  v[w] = isolateEvalWithHash(functionCache, V, U, v);
                } else
                  v[w] = isolateEval(U);
              else
                v[w] = new Code(U);
              r += O;
            } else if (b === BSON.BSON_DATA_CODE_W_SCOPE) {
              var q = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24;
              if (q < 13)
                throw new Error("code_w_scope total size shorter minimum expected length");
              if ((O = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24) <= 0 || O > e.length - r || 0 !== e[r + O - 1])
                throw new Error("bad string length in bson");
              U = e.toString("utf8", r, r + O - 1), $ = r += O, E = e[r] | e[r + 1] << 8 | e[r + 2] << 16 | e[r + 3] << 24;
              var W = t(e, $, n, false);
              if (r += E, q < 8 + E + O)
                throw new Error("code_w_scope total size is to short, truncating scope");
              if (q > 8 + E + O)
                throw new Error("code_w_scope total size is to long, clips outer document");
              i ? (s ? (V = a ? u(U) : U, v[w] = isolateEvalWithHash(functionCache, V, U, v)) : v[w] = isolateEval(U), v[w].scope = W) : v[w] = new Code(U, W);
            } else {
              if (b !== BSON.BSON_DATA_DBPOINTER)
                throw new Error("Detected unknown BSON type " + b.toString(16) + ' for fieldname "' + w + '", are you using the latest BSON parser');
              if ((O = e[r++] | e[r++] << 8 | e[r++] << 16 | e[r++] << 24) <= 0 || O > e.length - r || 0 !== e[r + O - 1])
                throw new Error("bad string length in bson");
              var H = e.toString("utf8", r, r + O - 1);
              r += O;
              var Y = utils.allocBuffer(12);
              e.copy(Y, 0, r, r + 12), S = new ObjectID(Y), r += 12;
              var K = H.split("."), z = K.shift(), Q = K.join(".");
              v[w] = new DBRef(Q, S, z);
            }
          }
          if (_ !== r - d) {
            if (o)
              throw new Error("corrupt array bson");
            throw new Error("corrupt object bson");
          }
          return null != v.$id && (v = new DBRef(v.$ref, v.$id, v.$db)), v;
        }, isolateEvalWithHash = function isolateEvalWithHash(functionCache, hash, functionString, object) {
          var value = null;
          return null == functionCache[hash] && (eval("value = " + functionString), functionCache[hash] = value), functionCache[hash].bind(object);
        }, isolateEval = function isolateEval(functionString) {
          var value = null;
          return eval("value = " + functionString), value;
        }, BSON = {}, functionCache = BSON.functionCache = {};
        BSON.BSON_DATA_NUMBER = 1, BSON.BSON_DATA_STRING = 2, BSON.BSON_DATA_OBJECT = 3, BSON.BSON_DATA_ARRAY = 4, BSON.BSON_DATA_BINARY = 5, BSON.BSON_DATA_UNDEFINED = 6, BSON.BSON_DATA_OID = 7, BSON.BSON_DATA_BOOLEAN = 8, BSON.BSON_DATA_DATE = 9, BSON.BSON_DATA_NULL = 10, BSON.BSON_DATA_REGEXP = 11, BSON.BSON_DATA_DBPOINTER = 12, BSON.BSON_DATA_CODE = 13, BSON.BSON_DATA_SYMBOL = 14, BSON.BSON_DATA_CODE_W_SCOPE = 15, BSON.BSON_DATA_INT = 16, BSON.BSON_DATA_TIMESTAMP = 17, BSON.BSON_DATA_LONG = 18, BSON.BSON_DATA_DECIMAL128 = 19, BSON.BSON_DATA_MIN_KEY = 255, BSON.BSON_DATA_MAX_KEY = 127, BSON.BSON_BINARY_SUBTYPE_DEFAULT = 0, BSON.BSON_BINARY_SUBTYPE_FUNCTION = 1, BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2, BSON.BSON_BINARY_SUBTYPE_UUID = 3, BSON.BSON_BINARY_SUBTYPE_MD5 = 4, BSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128, BSON.BSON_INT32_MAX = 2147483647, BSON.BSON_INT32_MIN = -2147483648, BSON.BSON_INT64_MAX = Math.pow(2, 63) - 1, BSON.BSON_INT64_MIN = -Math.pow(2, 63), BSON.JS_INT_MAX = 9007199254740992, BSON.JS_INT_MIN = -9007199254740992;
        var JS_INT_MAX_LONG = Long.fromNumber(9007199254740992), JS_INT_MIN_LONG = Long.fromNumber(-9007199254740992);
        module.exports = deserialize;
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          var o = r(107).writeIEEE754, i = r(25).Long, s = r(60), a = r(30).Binary, u = r(16).normalizedFunctionString, c = /\x00/, l = ["$db", "$ref", "$id", "$clusterTime"], f = function(t2) {
            return "object" === n(t2) && "[object Date]" === Object.prototype.toString.call(t2);
          }, p = function(t2) {
            return "[object RegExp]" === Object.prototype.toString.call(t2);
          }, h = function(t2, e3, r2, n2, o2) {
            t2[n2++] = C.BSON_DATA_STRING;
            var i2 = o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8");
            t2[(n2 = n2 + i2 + 1) - 1] = 0;
            var s2 = t2.write(r2, n2 + 4, "utf8");
            return t2[n2 + 3] = s2 + 1 >> 24 & 255, t2[n2 + 2] = s2 + 1 >> 16 & 255, t2[n2 + 1] = s2 + 1 >> 8 & 255, t2[n2] = s2 + 1 & 255, n2 = n2 + 4 + s2, t2[n2++] = 0, n2;
          }, y = function(t2, e3, r2, n2, s2) {
            if (Math.floor(r2) === r2 && r2 >= C.JS_INT_MIN && r2 <= C.JS_INT_MAX)
              if (r2 >= C.BSON_INT32_MIN && r2 <= C.BSON_INT32_MAX) {
                t2[n2++] = C.BSON_DATA_INT;
                var a2 = s2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8");
                n2 += a2, t2[n2++] = 0, t2[n2++] = 255 & r2, t2[n2++] = r2 >> 8 & 255, t2[n2++] = r2 >> 16 & 255, t2[n2++] = r2 >> 24 & 255;
              } else if (r2 >= C.JS_INT_MIN && r2 <= C.JS_INT_MAX)
                t2[n2++] = C.BSON_DATA_NUMBER, n2 += a2 = s2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, o(t2, r2, n2, "little", 52, 8), n2 += 8;
              else {
                t2[n2++] = C.BSON_DATA_LONG, n2 += a2 = s2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
                var u2 = i.fromNumber(r2), c2 = u2.getLowBits(), l2 = u2.getHighBits();
                t2[n2++] = 255 & c2, t2[n2++] = c2 >> 8 & 255, t2[n2++] = c2 >> 16 & 255, t2[n2++] = c2 >> 24 & 255, t2[n2++] = 255 & l2, t2[n2++] = l2 >> 8 & 255, t2[n2++] = l2 >> 16 & 255, t2[n2++] = l2 >> 24 & 255;
              }
            else
              t2[n2++] = C.BSON_DATA_NUMBER, n2 += a2 = s2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, o(t2, r2, n2, "little", 52, 8), n2 += 8;
            return n2;
          }, d = function(t2, e3, r2, n2, o2) {
            return t2[n2++] = C.BSON_DATA_NULL, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, n2;
          }, _ = function(t2, e3, r2, n2, o2) {
            return t2[n2++] = C.BSON_DATA_BOOLEAN, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, t2[n2++] = r2 ? 1 : 0, n2;
          }, v = function(t2, e3, r2, n2, o2) {
            t2[n2++] = C.BSON_DATA_DATE, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var s2 = i.fromNumber(r2.getTime()), a2 = s2.getLowBits(), u2 = s2.getHighBits();
            return t2[n2++] = 255 & a2, t2[n2++] = a2 >> 8 & 255, t2[n2++] = a2 >> 16 & 255, t2[n2++] = a2 >> 24 & 255, t2[n2++] = 255 & u2, t2[n2++] = u2 >> 8 & 255, t2[n2++] = u2 >> 16 & 255, t2[n2++] = u2 >> 24 & 255, n2;
          }, m = function(t2, e3, r2, n2, o2) {
            if (t2[n2++] = C.BSON_DATA_REGEXP, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, r2.source && null != r2.source.match(c))
              throw Error("value " + r2.source + " must not contain null bytes");
            return n2 += t2.write(r2.source, n2, "utf8"), t2[n2++] = 0, r2.global && (t2[n2++] = 115), r2.ignoreCase && (t2[n2++] = 105), r2.multiline && (t2[n2++] = 109), t2[n2++] = 0, n2;
          }, b = function(t2, e3, r2, n2, o2) {
            if (t2[n2++] = C.BSON_DATA_REGEXP, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, null != r2.pattern.match(c))
              throw Error("pattern " + r2.pattern + " must not contain null bytes");
            return n2 += t2.write(r2.pattern, n2, "utf8"), t2[n2++] = 0, n2 += t2.write(r2.options.split("").sort().join(""), n2, "utf8"), t2[n2++] = 0, n2;
          }, g = function(t2, e3, r2, n2, o2) {
            return null === r2 ? t2[n2++] = C.BSON_DATA_NULL : "MinKey" === r2._bsontype ? t2[n2++] = C.BSON_DATA_MIN_KEY : t2[n2++] = C.BSON_DATA_MAX_KEY, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, n2;
          }, w = function(t2, e3, r2, n2, o2) {
            if (t2[n2++] = C.BSON_DATA_OID, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, "string" == typeof r2.id)
              t2.write(r2.id, n2, "binary");
            else {
              if (!r2.id || !r2.id.copy)
                throw new Error("object [" + JSON.stringify(r2) + "] is not a valid ObjectId");
              r2.id.copy(t2, n2, 0, 12);
            }
            return n2 + 12;
          }, O = function(t2, e3, r2, n2, o2) {
            t2[n2++] = C.BSON_DATA_BINARY, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var i2 = r2.length;
            return t2[n2++] = 255 & i2, t2[n2++] = i2 >> 8 & 255, t2[n2++] = i2 >> 16 & 255, t2[n2++] = i2 >> 24 & 255, t2[n2++] = C.BSON_BINARY_SUBTYPE_DEFAULT, r2.copy(t2, n2, 0, i2), n2 += i2;
          }, S = function(t2, e3, r2, n2, o2, i2, s2, a2, u2, c2) {
            for (var l2 = 0; l2 < c2.length; l2++)
              if (c2[l2] === r2)
                throw new Error("cyclic dependency detected");
            c2.push(r2), t2[n2++] = Array.isArray(r2) ? C.BSON_DATA_ARRAY : C.BSON_DATA_OBJECT, n2 += u2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var f2 = B(t2, r2, o2, n2, i2 + 1, s2, a2, c2);
            return c2.pop(), f2;
          }, j = function(t2, e3, r2, n2, o2) {
            return t2[n2++] = C.BSON_DATA_DECIMAL128, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, r2.bytes.copy(t2, n2, 0, 16), n2 + 16;
          }, A = function(t2, e3, r2, n2, o2) {
            t2[n2++] = "Long" === r2._bsontype ? C.BSON_DATA_LONG : C.BSON_DATA_TIMESTAMP, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var i2 = r2.getLowBits(), s2 = r2.getHighBits();
            return t2[n2++] = 255 & i2, t2[n2++] = i2 >> 8 & 255, t2[n2++] = i2 >> 16 & 255, t2[n2++] = i2 >> 24 & 255, t2[n2++] = 255 & s2, t2[n2++] = s2 >> 8 & 255, t2[n2++] = s2 >> 16 & 255, t2[n2++] = s2 >> 24 & 255, n2;
          }, $ = function(t2, e3, r2, n2, o2) {
            return t2[n2++] = C.BSON_DATA_INT, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, t2[n2++] = 255 & r2, t2[n2++] = r2 >> 8 & 255, t2[n2++] = r2 >> 16 & 255, t2[n2++] = r2 >> 24 & 255, n2;
          }, E = function(t2, e3, r2, n2, i2) {
            return t2[n2++] = C.BSON_DATA_NUMBER, n2 += i2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0, o(t2, r2, n2, "little", 52, 8), n2 += 8;
          }, P = function(t2, e3, r2, n2, o2, i2, s2) {
            t2[n2++] = C.BSON_DATA_CODE, n2 += s2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var a2 = u(r2), c2 = t2.write(a2, n2 + 4, "utf8") + 1;
            return t2[n2] = 255 & c2, t2[n2 + 1] = c2 >> 8 & 255, t2[n2 + 2] = c2 >> 16 & 255, t2[n2 + 3] = c2 >> 24 & 255, n2 = n2 + 4 + c2 - 1, t2[n2++] = 0, n2;
          }, x = function(t2, e3, r2, o2, i2, s2, a2, u2, c2) {
            if (r2.scope && "object" === n(r2.scope)) {
              t2[o2++] = C.BSON_DATA_CODE_W_SCOPE;
              var l2 = c2 ? t2.write(e3, o2, "ascii") : t2.write(e3, o2, "utf8");
              o2 += l2, t2[o2++] = 0;
              var f2 = o2, p2 = "string" == typeof r2.code ? r2.code : r2.code.toString();
              o2 += 4;
              var h2 = t2.write(p2, o2 + 4, "utf8") + 1;
              t2[o2] = 255 & h2, t2[o2 + 1] = h2 >> 8 & 255, t2[o2 + 2] = h2 >> 16 & 255, t2[o2 + 3] = h2 >> 24 & 255, t2[o2 + 4 + h2 - 1] = 0, o2 = o2 + h2 + 4;
              var y2 = B(t2, r2.scope, i2, o2, s2 + 1, a2, u2);
              o2 = y2 - 1;
              var d2 = y2 - f2;
              t2[f2++] = 255 & d2, t2[f2++] = d2 >> 8 & 255, t2[f2++] = d2 >> 16 & 255, t2[f2++] = d2 >> 24 & 255, t2[o2++] = 0;
            } else {
              t2[o2++] = C.BSON_DATA_CODE, o2 += l2 = c2 ? t2.write(e3, o2, "ascii") : t2.write(e3, o2, "utf8"), t2[o2++] = 0, p2 = r2.code.toString();
              var _2 = t2.write(p2, o2 + 4, "utf8") + 1;
              t2[o2] = 255 & _2, t2[o2 + 1] = _2 >> 8 & 255, t2[o2 + 2] = _2 >> 16 & 255, t2[o2 + 3] = _2 >> 24 & 255, o2 = o2 + 4 + _2 - 1, t2[o2++] = 0;
            }
            return o2;
          }, T = function(t2, e3, r2, n2, o2) {
            t2[n2++] = C.BSON_DATA_BINARY, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var i2 = r2.value(true), s2 = r2.position;
            return r2.sub_type === a.SUBTYPE_BYTE_ARRAY && (s2 += 4), t2[n2++] = 255 & s2, t2[n2++] = s2 >> 8 & 255, t2[n2++] = s2 >> 16 & 255, t2[n2++] = s2 >> 24 & 255, t2[n2++] = r2.sub_type, r2.sub_type === a.SUBTYPE_BYTE_ARRAY && (s2 -= 4, t2[n2++] = 255 & s2, t2[n2++] = s2 >> 8 & 255, t2[n2++] = s2 >> 16 & 255, t2[n2++] = s2 >> 24 & 255), i2.copy(t2, n2, 0, r2.position), n2 += r2.position;
          }, k = function(t2, e3, r2, n2, o2) {
            t2[n2++] = C.BSON_DATA_SYMBOL, n2 += o2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var i2 = t2.write(r2.value, n2 + 4, "utf8") + 1;
            return t2[n2] = 255 & i2, t2[n2 + 1] = i2 >> 8 & 255, t2[n2 + 2] = i2 >> 16 & 255, t2[n2 + 3] = i2 >> 24 & 255, n2 = n2 + 4 + i2 - 1, t2[n2++] = 0, n2;
          }, N = function(t2, e3, r2, n2, o2, i2, s2) {
            t2[n2++] = C.BSON_DATA_OBJECT, n2 += s2 ? t2.write(e3, n2, "ascii") : t2.write(e3, n2, "utf8"), t2[n2++] = 0;
            var a2, u2 = n2, c2 = (a2 = null != r2.db ? B(t2, { $ref: r2.namespace, $id: r2.oid, $db: r2.db }, false, n2, o2 + 1, i2) : B(t2, { $ref: r2.namespace, $id: r2.oid }, false, n2, o2 + 1, i2)) - u2;
            return t2[u2++] = 255 & c2, t2[u2++] = c2 >> 8 & 255, t2[u2++] = c2 >> 16 & 255, t2[u2++] = c2 >> 24 & 255, a2;
          }, B = function(t2, r2, o2, i2, a2, u2, B2, C2) {
            i2 = i2 || 0, (C2 = C2 || []).push(r2);
            var R = i2 + 4;
            if (Array.isArray(r2))
              for (var D = 0; D < r2.length; D++) {
                var M = "" + D, I = r2[D];
                if (I && I.toBSON) {
                  if ("function" != typeof I.toBSON)
                    throw new Error("toBSON is not a function");
                  I = I.toBSON();
                }
                var F = n(I);
                if ("string" === F)
                  R = h(t2, M, I, R, true);
                else if ("number" === F)
                  R = y(t2, M, I, R, true);
                else {
                  if ("bigint" === F)
                    throw new TypeError("Unsupported type BigInt, please use Decimal128");
                  if ("boolean" === F)
                    R = _(t2, M, I, R, true);
                  else if (I instanceof Date || f(I))
                    R = v(t2, M, I, R, true);
                  else if (void 0 === I)
                    R = d(t2, M, 0, R, true);
                  else if (null === I)
                    R = d(t2, M, 0, R, true);
                  else if ("ObjectID" === I._bsontype || "ObjectId" === I._bsontype)
                    R = w(t2, M, I, R, true);
                  else if (e2.isBuffer(I))
                    R = O(t2, M, I, R, true);
                  else if (I instanceof RegExp || p(I))
                    R = m(t2, M, I, R, true);
                  else if ("object" === F && null == I._bsontype)
                    R = S(t2, M, I, R, o2, a2, u2, B2, true, C2);
                  else if ("object" === F && "Decimal128" === I._bsontype)
                    R = j(t2, M, I, R, true);
                  else if ("Long" === I._bsontype || "Timestamp" === I._bsontype)
                    R = A(t2, M, I, R, true);
                  else if ("Double" === I._bsontype)
                    R = E(t2, M, I, R, true);
                  else if ("function" == typeof I && u2)
                    R = P(t2, M, I, R, 0, 0, u2);
                  else if ("Code" === I._bsontype)
                    R = x(t2, M, I, R, o2, a2, u2, B2, true);
                  else if ("Binary" === I._bsontype)
                    R = T(t2, M, I, R, true);
                  else if ("Symbol" === I._bsontype)
                    R = k(t2, M, I, R, true);
                  else if ("DBRef" === I._bsontype)
                    R = N(t2, M, I, R, a2, u2, true);
                  else if ("BSONRegExp" === I._bsontype)
                    R = b(t2, M, I, R, true);
                  else if ("Int32" === I._bsontype)
                    R = $(t2, M, I, R, true);
                  else if ("MinKey" === I._bsontype || "MaxKey" === I._bsontype)
                    R = g(t2, M, I, R, true);
                  else if (void 0 !== I._bsontype)
                    throw new TypeError("Unrecognized or invalid _bsontype: " + I._bsontype);
                }
              }
            else if (r2 instanceof s)
              for (var L = r2.entries(), U = false; !U; ) {
                var V = L.next();
                if (!(U = V.done)) {
                  if (M = V.value[0], F = n(I = V.value[1]), "string" == typeof M && -1 === l.indexOf(M)) {
                    if (null != M.match(c))
                      throw Error("key " + M + " must not contain null bytes");
                    if (o2) {
                      if ("$" === M[0])
                        throw Error("key " + M + " must not start with '$'");
                      if (~M.indexOf("."))
                        throw Error("key " + M + " must not contain '.'");
                    }
                  }
                  if ("string" === F)
                    R = h(t2, M, I, R);
                  else if ("number" === F)
                    R = y(t2, M, I, R);
                  else {
                    if ("bigint" === F)
                      throw new TypeError("Unsupported type BigInt, please use Decimal128");
                    if ("boolean" === F)
                      R = _(t2, M, I, R);
                    else if (I instanceof Date || f(I))
                      R = v(t2, M, I, R);
                    else if (null === I || void 0 === I && false === B2)
                      R = d(t2, M, 0, R);
                    else if ("ObjectID" === I._bsontype || "ObjectId" === I._bsontype)
                      R = w(t2, M, I, R);
                    else if (e2.isBuffer(I))
                      R = O(t2, M, I, R);
                    else if (I instanceof RegExp || p(I))
                      R = m(t2, M, I, R);
                    else if ("object" === F && null == I._bsontype)
                      R = S(t2, M, I, R, o2, a2, u2, B2, false, C2);
                    else if ("object" === F && "Decimal128" === I._bsontype)
                      R = j(t2, M, I, R);
                    else if ("Long" === I._bsontype || "Timestamp" === I._bsontype)
                      R = A(t2, M, I, R);
                    else if ("Double" === I._bsontype)
                      R = E(t2, M, I, R);
                    else if ("Code" === I._bsontype)
                      R = x(t2, M, I, R, o2, a2, u2, B2);
                    else if ("function" == typeof I && u2)
                      R = P(t2, M, I, R, 0, 0, u2);
                    else if ("Binary" === I._bsontype)
                      R = T(t2, M, I, R);
                    else if ("Symbol" === I._bsontype)
                      R = k(t2, M, I, R);
                    else if ("DBRef" === I._bsontype)
                      R = N(t2, M, I, R, a2, u2);
                    else if ("BSONRegExp" === I._bsontype)
                      R = b(t2, M, I, R);
                    else if ("Int32" === I._bsontype)
                      R = $(t2, M, I, R);
                    else if ("MinKey" === I._bsontype || "MaxKey" === I._bsontype)
                      R = g(t2, M, I, R);
                    else if (void 0 !== I._bsontype)
                      throw new TypeError("Unrecognized or invalid _bsontype: " + I._bsontype);
                  }
                }
              }
            else {
              if (r2.toBSON) {
                if ("function" != typeof r2.toBSON)
                  throw new Error("toBSON is not a function");
                if (null != (r2 = r2.toBSON()) && "object" !== n(r2))
                  throw new Error("toBSON function did not return an object");
              }
              for (M in r2) {
                if ((I = r2[M]) && I.toBSON) {
                  if ("function" != typeof I.toBSON)
                    throw new Error("toBSON is not a function");
                  I = I.toBSON();
                }
                if (F = n(I), "string" == typeof M && -1 === l.indexOf(M)) {
                  if (null != M.match(c))
                    throw Error("key " + M + " must not contain null bytes");
                  if (o2) {
                    if ("$" === M[0])
                      throw Error("key " + M + " must not start with '$'");
                    if (~M.indexOf("."))
                      throw Error("key " + M + " must not contain '.'");
                  }
                }
                if ("string" === F)
                  R = h(t2, M, I, R);
                else if ("number" === F)
                  R = y(t2, M, I, R);
                else {
                  if ("bigint" === F)
                    throw new TypeError("Unsupported type BigInt, please use Decimal128");
                  if ("boolean" === F)
                    R = _(t2, M, I, R);
                  else if (I instanceof Date || f(I))
                    R = v(t2, M, I, R);
                  else if (void 0 === I)
                    false === B2 && (R = d(t2, M, 0, R));
                  else if (null === I)
                    R = d(t2, M, 0, R);
                  else if ("ObjectID" === I._bsontype || "ObjectId" === I._bsontype)
                    R = w(t2, M, I, R);
                  else if (e2.isBuffer(I))
                    R = O(t2, M, I, R);
                  else if (I instanceof RegExp || p(I))
                    R = m(t2, M, I, R);
                  else if ("object" === F && null == I._bsontype)
                    R = S(t2, M, I, R, o2, a2, u2, B2, false, C2);
                  else if ("object" === F && "Decimal128" === I._bsontype)
                    R = j(t2, M, I, R);
                  else if ("Long" === I._bsontype || "Timestamp" === I._bsontype)
                    R = A(t2, M, I, R);
                  else if ("Double" === I._bsontype)
                    R = E(t2, M, I, R);
                  else if ("Code" === I._bsontype)
                    R = x(t2, M, I, R, o2, a2, u2, B2);
                  else if ("function" == typeof I && u2)
                    R = P(t2, M, I, R, 0, 0, u2);
                  else if ("Binary" === I._bsontype)
                    R = T(t2, M, I, R);
                  else if ("Symbol" === I._bsontype)
                    R = k(t2, M, I, R);
                  else if ("DBRef" === I._bsontype)
                    R = N(t2, M, I, R, a2, u2);
                  else if ("BSONRegExp" === I._bsontype)
                    R = b(t2, M, I, R);
                  else if ("Int32" === I._bsontype)
                    R = $(t2, M, I, R);
                  else if ("MinKey" === I._bsontype || "MaxKey" === I._bsontype)
                    R = g(t2, M, I, R);
                  else if (void 0 !== I._bsontype)
                    throw new TypeError("Unrecognized or invalid _bsontype: " + I._bsontype);
                }
              }
            }
            C2.pop(), t2[R++] = 0;
            var q = R - i2;
            return t2[i2++] = 255 & q, t2[i2++] = q >> 8 & 255, t2[i2++] = q >> 16 & 255, t2[i2++] = q >> 24 & 255, R;
          }, C = { BSON_DATA_NUMBER: 1, BSON_DATA_STRING: 2, BSON_DATA_OBJECT: 3, BSON_DATA_ARRAY: 4, BSON_DATA_BINARY: 5, BSON_DATA_UNDEFINED: 6, BSON_DATA_OID: 7, BSON_DATA_BOOLEAN: 8, BSON_DATA_DATE: 9, BSON_DATA_NULL: 10, BSON_DATA_REGEXP: 11, BSON_DATA_CODE: 13, BSON_DATA_SYMBOL: 14, BSON_DATA_CODE_W_SCOPE: 15, BSON_DATA_INT: 16, BSON_DATA_TIMESTAMP: 17, BSON_DATA_LONG: 18, BSON_DATA_DECIMAL128: 19, BSON_DATA_MIN_KEY: 255, BSON_DATA_MAX_KEY: 127, BSON_BINARY_SUBTYPE_DEFAULT: 0, BSON_BINARY_SUBTYPE_FUNCTION: 1, BSON_BINARY_SUBTYPE_BYTE_ARRAY: 2, BSON_BINARY_SUBTYPE_UUID: 3, BSON_BINARY_SUBTYPE_MD5: 4, BSON_BINARY_SUBTYPE_USER_DEFINED: 128, BSON_INT32_MAX: 2147483647, BSON_INT32_MIN: -2147483648 };
          C.BSON_INT64_MAX = Math.pow(2, 63) - 1, C.BSON_INT64_MIN = -Math.pow(2, 63), C.JS_INT_MAX = 9007199254740992, C.JS_INT_MIN = -9007199254740992, t.exports = B;
        }).call(this, r(2).Buffer);
      }, function(t, e) {
        e.readIEEE754 = function(t2, e2, r, n, o) {
          var i, s, a = "big" === r, u = 8 * o - n - 1, c = (1 << u) - 1, l = c >> 1, f = -7, p = a ? 0 : o - 1, h = a ? 1 : -1, y = t2[e2 + p];
          for (p += h, i = y & (1 << -f) - 1, y >>= -f, f += u; f > 0; i = 256 * i + t2[e2 + p], p += h, f -= 8)
            ;
          for (s = i & (1 << -f) - 1, i >>= -f, f += n; f > 0; s = 256 * s + t2[e2 + p], p += h, f -= 8)
            ;
          if (0 === i)
            i = 1 - l;
          else {
            if (i === c)
              return s ? NaN : 1 / 0 * (y ? -1 : 1);
            s += Math.pow(2, n), i -= l;
          }
          return (y ? -1 : 1) * s * Math.pow(2, i - n);
        }, e.writeIEEE754 = function(t2, e2, r, n, o, i) {
          var s, a, u, c = "big" === n, l = 8 * i - o - 1, f = (1 << l) - 1, p = f >> 1, h = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, y = c ? i - 1 : 0, d = c ? -1 : 1, _ = e2 < 0 || 0 === e2 && 1 / e2 < 0 ? 1 : 0;
          for (e2 = Math.abs(e2), isNaN(e2) || e2 === 1 / 0 ? (a = isNaN(e2) ? 1 : 0, s = f) : (s = Math.floor(Math.log(e2) / Math.LN2), e2 * (u = Math.pow(2, -s)) < 1 && (s--, u *= 2), (e2 += s + p >= 1 ? h / u : h * Math.pow(2, 1 - p)) * u >= 2 && (s++, u /= 2), s + p >= f ? (a = 0, s = f) : s + p >= 1 ? (a = (e2 * u - 1) * Math.pow(2, o), s += p) : (a = e2 * Math.pow(2, p - 1) * Math.pow(2, o), s = 0)); o >= 8; t2[r + y] = 255 & a, y += d, a /= 256, o -= 8)
            ;
          for (s = s << o | a, l += o; l > 0; t2[r + y] = 255 & s, y += d, s /= 256, l -= 8)
            ;
          t2[r + y - d] |= 128 * _;
        };
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          var o = r(25).Long, i = r(40).Double, s = r(41).Timestamp, a = r(42).ObjectID, u = r(44).Symbol, c = r(43).BSONRegExp, l = r(45).Code, f = r(46), p = r(47).MinKey, h = r(48).MaxKey, y = r(49).DBRef, d = r(30).Binary, _ = r(16).normalizedFunctionString, v = function(t2, e3, r2) {
            var n2 = 5;
            if (Array.isArray(t2))
              for (var o2 = 0; o2 < t2.length; o2++)
                n2 += m(o2.toString(), t2[o2], e3, true, r2);
            else
              for (var i2 in t2.toBSON && (t2 = t2.toBSON()), t2)
                n2 += m(i2, t2[i2], e3, false, r2);
            return n2;
          };
          function m(t2, r2, m2, g, w) {
            switch (r2 && r2.toBSON && (r2 = r2.toBSON()), n(r2)) {
              case "string":
                return 1 + e2.byteLength(t2, "utf8") + 1 + 4 + e2.byteLength(r2, "utf8") + 1;
              case "number":
                return Math.floor(r2) === r2 && r2 >= b.JS_INT_MIN && r2 <= b.JS_INT_MAX && r2 >= b.BSON_INT32_MIN && r2 <= b.BSON_INT32_MAX ? (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 5 : (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 9;
              case "undefined":
                return g || !w ? (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 : 0;
              case "boolean":
                return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 2;
              case "object":
                if (null == r2 || r2 instanceof p || r2 instanceof h || "MinKey" === r2._bsontype || "MaxKey" === r2._bsontype)
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1;
                if (r2 instanceof a || "ObjectID" === r2._bsontype || "ObjectId" === r2._bsontype)
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 13;
                if (r2 instanceof Date || "object" === n(S = r2) && "[object Date]" === Object.prototype.toString.call(S))
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 9;
                if (void 0 !== e2 && e2.isBuffer(r2))
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 6 + r2.length;
                if (r2 instanceof o || r2 instanceof i || r2 instanceof s || "Long" === r2._bsontype || "Double" === r2._bsontype || "Timestamp" === r2._bsontype)
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 9;
                if (r2 instanceof f || "Decimal128" === r2._bsontype)
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 17;
                if (r2 instanceof l || "Code" === r2._bsontype)
                  return null != r2.scope && Object.keys(r2.scope).length > 0 ? (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + 4 + 4 + e2.byteLength(r2.code.toString(), "utf8") + 1 + v(r2.scope, m2, w) : (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + 4 + e2.byteLength(r2.code.toString(), "utf8") + 1;
                if (r2 instanceof d || "Binary" === r2._bsontype)
                  return r2.sub_type === d.SUBTYPE_BYTE_ARRAY ? (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + (r2.position + 1 + 4 + 1 + 4) : (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + (r2.position + 1 + 4 + 1);
                if (r2 instanceof u || "Symbol" === r2._bsontype)
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + e2.byteLength(r2.value, "utf8") + 4 + 1 + 1;
                if (r2 instanceof y || "DBRef" === r2._bsontype) {
                  var O = { $ref: r2.namespace, $id: r2.oid };
                  return null != r2.db && (O.$db = r2.db), (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + v(O, m2, w);
                }
                return r2 instanceof RegExp || "[object RegExp]" === Object.prototype.toString.call(r2) ? (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + e2.byteLength(r2.source, "utf8") + 1 + (r2.global ? 1 : 0) + (r2.ignoreCase ? 1 : 0) + (r2.multiline ? 1 : 0) + 1 : r2 instanceof c || "BSONRegExp" === r2._bsontype ? (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + e2.byteLength(r2.pattern, "utf8") + 1 + e2.byteLength(r2.options, "utf8") + 1 : (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + v(r2, m2, w) + 1;
              case "function":
                if (r2 instanceof RegExp || "[object RegExp]" === Object.prototype.toString.call(r2) || "[object RegExp]" === String.call(r2))
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + e2.byteLength(r2.source, "utf8") + 1 + (r2.global ? 1 : 0) + (r2.ignoreCase ? 1 : 0) + (r2.multiline ? 1 : 0) + 1;
                if (m2 && null != r2.scope && Object.keys(r2.scope).length > 0)
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + 4 + 4 + e2.byteLength(_(r2), "utf8") + 1 + v(r2.scope, m2, w);
                if (m2)
                  return (null != t2 ? e2.byteLength(t2, "utf8") + 1 : 0) + 1 + 4 + e2.byteLength(_(r2), "utf8") + 1;
            }
            var S;
            return 0;
          }
          var b = { BSON_INT32_MAX: 2147483647, BSON_INT32_MIN: -2147483648, JS_INT_MAX: 9007199254740992, JS_INT_MIN: -9007199254740992 };
          t.exports = v;
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        t.exports = r(39).Decimal128;
      }, function(t, e, r) {
        "use strict";
        var n = r(39).ObjectID;
        Object.defineProperty(n.prototype, "_id", { enumerable: false, configurable: true, get: function() {
          return this;
        } }), t.exports = n;
      }, function(t, e, r) {
        "use strict";
        t.exports = function() {
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(113).ctor("require", "modify", "init", "default", "ignore");
        t.exports = function() {
          this.strictMode = void 0, this.selected = void 0, this.shardval = void 0, this.saveError = void 0, this.validationError = void 0, this.adhocPaths = void 0, this.removing = void 0, this.inserting = void 0, this.saving = void 0, this.version = void 0, this.getters = {}, this._id = void 0, this.populate = void 0, this.populated = void 0, this.wasPopulated = false, this.scope = void 0, this.activePaths = new n(), this.pathsToScopes = {}, this.cachedRequired = {}, this.session = null, this.$setCalled = /* @__PURE__ */ new Set(), this.ownerDocument = void 0, this.fullPath = void 0;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(1), o = t.exports = function() {
        };
        o.ctor = function() {
          var t2 = n.args(arguments), e2 = function() {
            o.apply(this, arguments), this.paths = {}, this.states = {}, this.stateNames = t2;
            for (var e3, r2 = t2.length; r2--; )
              e3 = t2[r2], this.states[e3] = {};
          };
          return e2.prototype = new o(), t2.forEach(function(t3) {
            e2.prototype[t3] = function(e3) {
              this._changeState(e3, t3);
            };
          }), e2;
        }, o.prototype._changeState = function(t2, e2) {
          var r2 = this.states[this.paths[t2]];
          r2 && delete r2[t2], this.paths[t2] = e2, this.states[e2][t2] = true;
        }, o.prototype.clear = function(t2) {
          for (var e2, r2 = Object.keys(this.states[t2]), n2 = r2.length; n2--; )
            e2 = r2[n2], delete this.states[t2][e2], delete this.paths[e2];
        }, o.prototype.some = function() {
          var t2 = this, e2 = arguments.length ? arguments : this.stateNames;
          return Array.prototype.some.call(e2, function(e3) {
            return Object.keys(t2.states[e3]).length;
          });
        }, o.prototype._iter = function(t2) {
          return function() {
            var e2 = arguments.length, r2 = n.args(arguments, 0, e2 - 1), o2 = arguments[e2 - 1];
            r2.length || (r2 = this.stateNames);
            var i = this, s = r2.reduce(function(t3, e3) {
              return t3.concat(Object.keys(i.states[e3]));
            }, []);
            return s[t2](function(t3, e3, r3) {
              return o2(t3, e3, r3);
            });
          };
        }, o.prototype.forEach = function() {
          return this.forEach = this._iter("forEach"), this.forEach.apply(this, arguments);
        }, o.prototype.map = function() {
          return this.map = this._iter("map"), this.map.apply(this, arguments);
        };
      }, function(t, e) {
        function r(t2) {
          return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var n = 1e3, o = 6e4, i = 60 * o, s = 24 * i;
        function a(t2, e2, r2, n2) {
          var o2 = e2 >= 1.5 * r2;
          return Math.round(t2 / r2) + " " + n2 + (o2 ? "s" : "");
        }
        t.exports = function(t2, e2) {
          e2 = e2 || {};
          var u = r(t2);
          if ("string" === u && t2.length > 0)
            return function(t3) {
              if ((t3 = String(t3)).length > 100)
                return;
              var e3 = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t3);
              if (!e3)
                return;
              var r2 = parseFloat(e3[1]);
              switch ((e3[2] || "ms").toLowerCase()) {
                case "years":
                case "year":
                case "yrs":
                case "yr":
                case "y":
                  return 315576e5 * r2;
                case "weeks":
                case "week":
                case "w":
                  return 6048e5 * r2;
                case "days":
                case "day":
                case "d":
                  return r2 * s;
                case "hours":
                case "hour":
                case "hrs":
                case "hr":
                case "h":
                  return r2 * i;
                case "minutes":
                case "minute":
                case "mins":
                case "min":
                case "m":
                  return r2 * o;
                case "seconds":
                case "second":
                case "secs":
                case "sec":
                case "s":
                  return r2 * n;
                case "milliseconds":
                case "millisecond":
                case "msecs":
                case "msec":
                case "ms":
                  return r2;
                default:
                  return;
              }
            }(t2);
          if ("number" === u && isFinite(t2))
            return e2.long ? function(t3) {
              var e3 = Math.abs(t3);
              if (e3 >= s)
                return a(t3, e3, s, "day");
              if (e3 >= i)
                return a(t3, e3, i, "hour");
              if (e3 >= o)
                return a(t3, e3, o, "minute");
              if (e3 >= n)
                return a(t3, e3, n, "second");
              return t3 + " ms";
            }(t2) : function(t3) {
              var e3 = Math.abs(t3);
              if (e3 >= s)
                return Math.round(t3 / s) + "d";
              if (e3 >= i)
                return Math.round(t3 / i) + "h";
              if (e3 >= o)
                return Math.round(t3 / o) + "m";
              if (e3 >= n)
                return Math.round(t3 / n) + "s";
              return t3 + "ms";
            }(t2);
          throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t2));
        };
      }, function(t, e, r) {
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var o = r(116), i = ["__proto__", "constructor", "prototype"];
        function s(t2) {
          return t2;
        }
        e.get = function(t2, r2, i2, a) {
          var u;
          "function" == typeof i2 && (i2.length < 2 ? (a = i2, i2 = void 0) : (u = i2, i2 = void 0)), a || (a = s);
          var c = "string" == typeof t2 ? o(t2) : t2;
          if (!Array.isArray(c))
            throw new TypeError("Invalid `path`. Must be either string or array");
          for (var l, f = r2, p = 0; p < c.length; ++p) {
            if (l = c[p], "string" != typeof c[p] && "number" != typeof c[p])
              throw new TypeError("Each segment of path to `get()` must be a string or number, got " + n(c[p]));
            if (Array.isArray(f) && !/^\d+$/.test(l)) {
              var h = c.slice(p);
              return [].concat(f).map(function(t3) {
                return t3 ? e.get(h, t3, i2 || u, a) : a(void 0);
              });
            }
            if (u)
              f = u(f, l);
            else {
              var y = i2 && f[i2] ? f[i2] : f;
              f = y instanceof Map ? y.get(l) : y[l];
            }
            if (!f)
              return a(f);
          }
          return a(f);
        }, e.has = function(t2, e2) {
          var r2 = "string" == typeof t2 ? o(t2) : t2;
          if (!Array.isArray(r2))
            throw new TypeError("Invalid `path`. Must be either string or array");
          for (var i2 = r2.length, s2 = e2, a = 0; a < i2; ++a) {
            if ("string" != typeof r2[a] && "number" != typeof r2[a])
              throw new TypeError("Each segment of path to `has()` must be a string or number, got " + n(r2[a]));
            if (null == s2 || "object" !== n(s2) || !(r2[a] in s2))
              return false;
            s2 = s2[r2[a]];
          }
          return true;
        }, e.unset = function(t2, e2) {
          var r2 = "string" == typeof t2 ? o(t2) : t2;
          if (!Array.isArray(r2))
            throw new TypeError("Invalid `path`. Must be either string or array");
          for (var s2 = r2.length, a = e2, u = 0; u < s2; ++u) {
            if (null == a || "object" !== n(a) || !(r2[u] in a))
              return false;
            if ("string" != typeof r2[u] && "number" != typeof r2[u])
              throw new TypeError("Each segment of path to `unset()` must be a string or number, got " + n(r2[u]));
            if (-1 !== i.indexOf(r2[u]))
              return false;
            if (u === s2 - 1)
              return delete a[r2[u]], true;
            a = a instanceof Map ? a.get(r2[u]) : a[r2[u]];
          }
          return true;
        }, e.set = function(t2, r2, a, u, c, l) {
          var f;
          "function" == typeof u && (u.length < 2 ? (c = u, u = void 0) : (f = u, u = void 0)), c || (c = s);
          var p = "string" == typeof t2 ? o(t2) : t2;
          if (!Array.isArray(p))
            throw new TypeError("Invalid `path`. Must be either string or array");
          if (null != a) {
            for (var h = 0; h < p.length; ++h) {
              if ("string" != typeof p[h] && "number" != typeof p[h])
                throw new TypeError("Each segment of path to `set()` must be a string or number, got " + n(p[h]));
              if (-1 !== i.indexOf(p[h]))
                return;
            }
            for (var y, d = l || /\$/.test(t2) && false !== l, _ = a, v = (h = 0, p.length - 1); h < v; ++h)
              if ("$" != (y = p[h])) {
                if (Array.isArray(_) && !/^\d+$/.test(y)) {
                  var m = p.slice(h);
                  if (!d && Array.isArray(r2))
                    for (var b = 0; b < _.length && b < r2.length; ++b)
                      e.set(m, r2[b], _[b], u || f, c, d);
                  else
                    for (b = 0; b < _.length; ++b)
                      e.set(m, r2, _[b], u || f, c, d);
                  return;
                }
                if (f)
                  _ = f(_, y);
                else {
                  var g = u && _[u] ? _[u] : _;
                  _ = g instanceof Map ? g.get(y) : g[y];
                }
                if (!_)
                  return;
              } else if (h == v - 1)
                break;
            if (y = p[v], u && _[u] && (_ = _[u]), Array.isArray(_) && !/^\d+$/.test(y))
              if (!d && Array.isArray(r2))
                !function t3(e2, r3, n2, o2, i2, s2) {
                  for (var a2, u2 = 0; u2 < e2.length && u2 < r3.length; ++u2)
                    a2 = e2[u2], Array.isArray(a2) && Array.isArray(r3[u2]) ? t3(a2, r3[u2], n2, o2, i2, s2) : a2 && (o2 ? o2(a2, n2, s2(r3[u2])) : (a2[i2] && (a2 = a2[i2]), a2[n2] = s2(r3[u2])));
                }(_, r2, y, f, u, c);
              else
                for (b = 0; b < _.length; ++b) {
                  var w = _[b];
                  w && (f ? f(w, y, c(r2)) : (w[u] && (w = w[u]), w[y] = c(r2)));
                }
            else
              f ? f(_, y, c(r2)) : _ instanceof Map ? _.set(y, c(r2)) : _[y] = c(r2);
          }
        };
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2) {
          for (var e2 = [], r2 = "", n = "DEFAULT", o = 0; o < t2.length; ++o)
            "IN_SQUARE_BRACKETS" !== n || /\d/.test(t2[o]) || "]" === t2[o] || (n = "DEFAULT", r2 = e2[e2.length - 1] + "[" + r2, e2.splice(e2.length - 1, 1)), "[" === t2[o] ? ("IMMEDIATELY_AFTER_SQUARE_BRACKETS" !== n && (e2.push(r2), r2 = ""), n = "IN_SQUARE_BRACKETS") : "]" === t2[o] ? "IN_SQUARE_BRACKETS" === n ? (n = "IMMEDIATELY_AFTER_SQUARE_BRACKETS", e2.push(r2), r2 = "") : (n = "DEFAULT", r2 += t2[o]) : "." === t2[o] ? ("IMMEDIATELY_AFTER_SQUARE_BRACKETS" !== n && (e2.push(r2), r2 = ""), n = "DEFAULT") : r2 += t2[o];
          return "IMMEDIATELY_AFTER_SQUARE_BRACKETS" !== n && e2.push(r2), e2;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2, r2) {
          return e2 && o(t2.prototype, e2), r2 && o(t2, r2), Object.defineProperty(t2, "prototype", { writable: false }), t2;
        }
        var s = r(26), a = i(function t2(e2) {
          if (function(t3, e3) {
            if (!(t3 instanceof e3))
              throw new TypeError("Cannot call a class as a function");
          }(this, t2), this._docs = {}, this._childDocs = [], null != e2 && (e2 = s(e2), Object.assign(this, e2), "object" === n(e2.subPopulate) && (this.populate = e2.subPopulate), null != e2.perDocumentLimit && null != e2.limit))
            throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `" + e2.path + "`.");
        });
        t.exports = a;
      }, function(t, e, r) {
        "use strict";
        var n = Object.getOwnPropertySymbols, o = Object.prototype.hasOwnProperty, i = Object.prototype.propertyIsEnumerable;
        function s(t2) {
          if (null == t2)
            throw new TypeError("Object.assign cannot be called with null or undefined");
          return Object(t2);
        }
        t.exports = function() {
          try {
            if (!Object.assign)
              return false;
            var t2 = new String("abc");
            if (t2[5] = "de", "5" === Object.getOwnPropertyNames(t2)[0])
              return false;
            for (var e2 = {}, r2 = 0; r2 < 10; r2++)
              e2["_" + String.fromCharCode(r2)] = r2;
            if ("0123456789" !== Object.getOwnPropertyNames(e2).map(function(t3) {
              return e2[t3];
            }).join(""))
              return false;
            var n2 = {};
            return "abcdefghijklmnopqrst".split("").forEach(function(t3) {
              n2[t3] = t3;
            }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n2)).join("");
          } catch (t3) {
            return false;
          }
        }() ? Object.assign : function(t2, e2) {
          for (var r2, a, u = s(t2), c = 1; c < arguments.length; c++) {
            for (var l in r2 = Object(arguments[c]))
              o.call(r2, l) && (u[l] = r2[l]);
            if (n) {
              a = n(r2);
              for (var f = 0; f < a.length; f++)
                i.call(r2, a[f]) && (u[a[f]] = r2[a[f]]);
            }
          }
          return u;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var o = r(63), i = r(23), s = r(4), a = r(69), u = r(122)("mquery");
        function c(t2, e2) {
          if (!(this instanceof c))
            return new c(t2, e2);
          var r2 = this.constructor.prototype;
          this.op = r2.op || void 0, this.options = Object.assign({}, r2.options), this._conditions = r2._conditions ? a.clone(r2._conditions) : {}, this._fields = r2._fields ? a.clone(r2._fields) : void 0, this._update = r2._update ? a.clone(r2._update) : void 0, this._path = r2._path || void 0, this._distinct = r2._distinct || void 0, this._collection = r2._collection || void 0, this._traceFunction = r2._traceFunction || void 0, e2 && this.setOptions(e2), t2 && (t2.find && t2.remove && t2.update ? this.collection(t2) : this.find(t2));
        }
        var l = "$geoWithin";
        Object.defineProperty(c, "use$geoWithin", { get: function() {
          return "$geoWithin" == l;
        }, set: function(t2) {
          l = true === t2 ? "$geoWithin" : "$within";
        } }), c.prototype.toConstructor = function() {
          function t2(e3, r2) {
            if (!(this instanceof t2))
              return new t2(e3, r2);
            c.call(this, e3, r2);
          }
          a.inherits(t2, c);
          var e2 = t2.prototype;
          return e2.options = {}, e2.setOptions(this.options), e2.op = this.op, e2._conditions = a.clone(this._conditions), e2._fields = a.clone(this._fields), e2._update = a.clone(this._update), e2._path = this._path, e2._distinct = this._distinct, e2._collection = this._collection, e2._traceFunction = this._traceFunction, t2;
        }, c.prototype.setOptions = function(t2) {
          if (!t2 || !a.isObject(t2))
            return this;
          for (var e2, r2 = a.keys(t2), n2 = 0; n2 < r2.length; ++n2)
            if ("function" == typeof this[e2 = r2[n2]]) {
              var o2 = a.isArray(t2[e2]) ? t2[e2] : [t2[e2]];
              this[e2].apply(this, o2);
            } else
              this.options[e2] = t2[e2];
          return this;
        }, c.prototype.collection = function(t2) {
          return this._collection = new c.Collection(t2), this;
        }, c.prototype.collation = function(t2) {
          return this.options.collation = t2, this;
        }, c.prototype.$where = function(t2) {
          return this._conditions.$where = t2, this;
        }, c.prototype.where = function() {
          if (!arguments.length)
            return this;
          this.op || (this.op = "find");
          var t2 = n(arguments[0]);
          if ("string" == t2)
            return this._path = arguments[0], 2 === arguments.length && (this._conditions[this._path] = arguments[1]), this;
          if ("object" == t2 && !Array.isArray(arguments[0]))
            return this.merge(arguments[0]);
          throw new TypeError("path must be a string or object");
        }, c.prototype.equals = function(t2) {
          this._ensurePath("equals");
          var e2 = this._path;
          return this._conditions[e2] = t2, this;
        }, c.prototype.eq = function(t2) {
          this._ensurePath("eq");
          var e2 = this._path;
          return this._conditions[e2] = t2, this;
        }, c.prototype.or = function(t2) {
          var e2 = this._conditions.$or || (this._conditions.$or = []);
          return a.isArray(t2) || (t2 = [t2]), e2.push.apply(e2, t2), this;
        }, c.prototype.nor = function(t2) {
          var e2 = this._conditions.$nor || (this._conditions.$nor = []);
          return a.isArray(t2) || (t2 = [t2]), e2.push.apply(e2, t2), this;
        }, c.prototype.and = function(t2) {
          var e2 = this._conditions.$and || (this._conditions.$and = []);
          return Array.isArray(t2) || (t2 = [t2]), e2.push.apply(e2, t2), this;
        }, "gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach(function(t2) {
          c.prototype[t2] = function() {
            var e2, r2;
            1 === arguments.length ? (this._ensurePath(t2), r2 = arguments[0], e2 = this._path) : (r2 = arguments[1], e2 = arguments[0]);
            var o2 = null === this._conditions[e2] || "object" === n(this._conditions[e2]) ? this._conditions[e2] : this._conditions[e2] = {};
            return o2["$" + t2] = r2, this;
          };
        }), c.prototype.mod = function() {
          var t2, e2;
          1 === arguments.length ? (this._ensurePath("mod"), t2 = arguments[0], e2 = this._path) : 2 !== arguments.length || a.isArray(arguments[1]) ? 3 === arguments.length ? (t2 = o(arguments, 1), e2 = arguments[0]) : (t2 = arguments[1], e2 = arguments[0]) : (this._ensurePath("mod"), t2 = o(arguments), e2 = this._path);
          var r2 = this._conditions[e2] || (this._conditions[e2] = {});
          return r2.$mod = t2, this;
        }, c.prototype.exists = function() {
          var t2, e2;
          0 === arguments.length ? (this._ensurePath("exists"), t2 = this._path, e2 = true) : 1 === arguments.length ? "boolean" == typeof arguments[0] ? (this._ensurePath("exists"), t2 = this._path, e2 = arguments[0]) : (t2 = arguments[0], e2 = true) : 2 === arguments.length && (t2 = arguments[0], e2 = arguments[1]);
          var r2 = this._conditions[t2] || (this._conditions[t2] = {});
          return r2.$exists = e2, this;
        }, c.prototype.elemMatch = function() {
          if (null == arguments[0])
            throw new TypeError("Invalid argument");
          var t2, e2, r2;
          if ("function" == typeof arguments[0])
            this._ensurePath("elemMatch"), e2 = this._path, t2 = arguments[0];
          else if (a.isObject(arguments[0]))
            this._ensurePath("elemMatch"), e2 = this._path, r2 = arguments[0];
          else if ("function" == typeof arguments[1])
            e2 = arguments[0], t2 = arguments[1];
          else {
            if (!arguments[1] || !a.isObject(arguments[1]))
              throw new TypeError("Invalid argument");
            e2 = arguments[0], r2 = arguments[1];
          }
          t2 && (t2(r2 = new c()), r2 = r2._conditions);
          var n2 = this._conditions[e2] || (this._conditions[e2] = {});
          return n2.$elemMatch = r2, this;
        }, c.prototype.within = function() {
          if (this._ensurePath("within"), this._geoComparison = l, 0 === arguments.length)
            return this;
          if (2 === arguments.length)
            return this.box.apply(this, arguments);
          if (2 < arguments.length)
            return this.polygon.apply(this, arguments);
          var t2 = arguments[0];
          if (!t2)
            throw new TypeError("Invalid argument");
          if (t2.center)
            return this.circle(t2);
          if (t2.box)
            return this.box.apply(this, t2.box);
          if (t2.polygon)
            return this.polygon.apply(this, t2.polygon);
          if (t2.type && t2.coordinates)
            return this.geometry(t2);
          throw new TypeError("Invalid argument");
        }, c.prototype.box = function() {
          var t2, e2;
          if (3 === arguments.length)
            t2 = arguments[0], e2 = [arguments[1], arguments[2]];
          else {
            if (2 !== arguments.length)
              throw new TypeError("Invalid argument");
            this._ensurePath("box"), t2 = this._path, e2 = [arguments[0], arguments[1]];
          }
          var r2 = this._conditions[t2] || (this._conditions[t2] = {});
          return r2[this._geoComparison || l] = { $box: e2 }, this;
        }, c.prototype.polygon = function() {
          var t2, e2;
          "string" == typeof arguments[0] ? (e2 = arguments[0], t2 = o(arguments, 1)) : (this._ensurePath("polygon"), e2 = this._path, t2 = o(arguments));
          var r2 = this._conditions[e2] || (this._conditions[e2] = {});
          return r2[this._geoComparison || l] = { $polygon: t2 }, this;
        }, c.prototype.circle = function() {
          var t2, e2;
          if (1 === arguments.length)
            this._ensurePath("circle"), t2 = this._path, e2 = arguments[0];
          else {
            if (2 !== arguments.length)
              throw new TypeError("Invalid argument");
            t2 = arguments[0], e2 = arguments[1];
          }
          if (!("radius" in e2) || !e2.center)
            throw new Error("center and radius are required");
          var r2 = this._conditions[t2] || (this._conditions[t2] = {}), n2 = e2.spherical ? "$centerSphere" : "$center", o2 = this._geoComparison || l;
          return r2[o2] = {}, r2[o2][n2] = [e2.center, e2.radius], "unique" in e2 && (r2[o2].$uniqueDocs = !!e2.unique), this;
        }, c.prototype.near = function() {
          var t2, e2;
          if (this._geoComparison = "$near", 0 === arguments.length)
            return this;
          if (1 === arguments.length)
            this._ensurePath("near"), t2 = this._path, e2 = arguments[0];
          else {
            if (2 !== arguments.length)
              throw new TypeError("Invalid argument");
            t2 = arguments[0], e2 = arguments[1];
          }
          if (!e2.center)
            throw new Error("center is required");
          var r2 = this._conditions[t2] || (this._conditions[t2] = {}), n2 = e2.spherical ? "$nearSphere" : "$near";
          if (Array.isArray(e2.center)) {
            r2[n2] = e2.center;
            var o2 = "maxDistance" in e2 ? e2.maxDistance : null;
            null != o2 && (r2.$maxDistance = o2), null != e2.minDistance && (r2.$minDistance = e2.minDistance);
          } else {
            if ("Point" != e2.center.type || !Array.isArray(e2.center.coordinates))
              throw new Error(s.format("Invalid GeoJSON specified for %s", n2));
            r2[n2] = { $geometry: e2.center }, "maxDistance" in e2 && (r2[n2].$maxDistance = e2.maxDistance), "minDistance" in e2 && (r2[n2].$minDistance = e2.minDistance);
          }
          return this;
        }, c.prototype.intersects = function() {
          if (this._ensurePath("intersects"), this._geoComparison = "$geoIntersects", 0 === arguments.length)
            return this;
          var t2 = arguments[0];
          if (null != t2 && t2.type && t2.coordinates)
            return this.geometry(t2);
          throw new TypeError("Invalid argument");
        }, c.prototype.geometry = function() {
          if ("$within" != this._geoComparison && "$geoWithin" != this._geoComparison && "$near" != this._geoComparison && "$geoIntersects" != this._geoComparison)
            throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");
          var t2, e2;
          if (1 !== arguments.length)
            throw new TypeError("Invalid argument");
          if (this._ensurePath("geometry"), e2 = this._path, !(t2 = arguments[0]).type || !Array.isArray(t2.coordinates))
            throw new TypeError("Invalid argument");
          var r2 = this._conditions[e2] || (this._conditions[e2] = {});
          return r2[this._geoComparison] = { $geometry: t2 }, this;
        }, c.prototype.select = function() {
          var t2 = arguments[0];
          if (!t2)
            return this;
          if (1 !== arguments.length)
            throw new Error("Invalid select: select only takes 1 argument");
          this._validate("select");
          var e2, r2, o2 = this._fields || (this._fields = {}), i2 = n(t2);
          if (("string" == i2 || a.isArgumentsObject(t2)) && "number" == typeof t2.length || Array.isArray(t2)) {
            for ("string" == i2 && (t2 = t2.split(/\s+/)), e2 = 0, r2 = t2.length; e2 < r2; ++e2) {
              var s2 = t2[e2];
              if (s2) {
                var u2 = "-" == s2[0] ? 0 : 1;
                0 === u2 && (s2 = s2.substring(1)), o2[s2] = u2;
              }
            }
            return this;
          }
          if (a.isObject(t2)) {
            var c2 = a.keys(t2);
            for (e2 = 0; e2 < c2.length; ++e2)
              o2[c2[e2]] = t2[c2[e2]];
            return this;
          }
          throw new TypeError("Invalid select() argument. Must be string or object.");
        }, c.prototype.slice = function() {
          if (0 === arguments.length)
            return this;
          var t2, e2;
          if (this._validate("slice"), 1 === arguments.length) {
            var r2 = arguments[0];
            if ("object" === n(r2) && !Array.isArray(r2)) {
              for (var i2 = Object.keys(r2), s2 = i2.length, a2 = 0; a2 < s2; ++a2)
                this.slice(i2[a2], r2[i2[a2]]);
              return this;
            }
            this._ensurePath("slice"), t2 = this._path, e2 = arguments[0];
          } else
            2 === arguments.length ? "number" == typeof arguments[0] ? (this._ensurePath("slice"), t2 = this._path, e2 = o(arguments)) : (t2 = arguments[0], e2 = arguments[1]) : 3 === arguments.length && (t2 = arguments[0], e2 = o(arguments, 1));
          var u2 = this._fields || (this._fields = {});
          return u2[t2] = { $slice: e2 }, this;
        }, c.prototype.sort = function(t2) {
          if (!t2)
            return this;
          var e2, r2, o2;
          this._validate("sort");
          var i2 = n(t2);
          if (Array.isArray(t2)) {
            for (r2 = t2.length, e2 = 0; e2 < t2.length; ++e2) {
              if (!Array.isArray(t2[e2]))
                throw new Error("Invalid sort() argument, must be array of arrays");
              h(this.options, t2[e2][0], t2[e2][1]);
            }
            return this;
          }
          if (1 === arguments.length && "string" == i2) {
            for (r2 = (t2 = t2.split(/\s+/)).length, e2 = 0; e2 < r2; ++e2)
              if (o2 = t2[e2]) {
                var s2 = "-" == o2[0] ? -1 : 1;
                -1 === s2 && (o2 = o2.substring(1)), p(this.options, o2, s2);
              }
            return this;
          }
          if (a.isObject(t2)) {
            var u2 = a.keys(t2);
            for (e2 = 0; e2 < u2.length; ++e2)
              o2 = u2[e2], p(this.options, o2, t2[o2]);
            return this;
          }
          if ("undefined" != typeof Map && t2 instanceof Map)
            return y(this.options, t2), this;
          throw new TypeError("Invalid sort() argument. Must be a string, object, or array.");
        };
        var f = { 1: 1, "-1": -1, asc: 1, ascending: 1, desc: -1, descending: -1 };
        function p(t2, e2, r2) {
          if (Array.isArray(t2.sort))
            throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");
          var n2;
          if (r2 && r2.$meta)
            (n2 = t2.sort || (t2.sort = {}))[e2] = { $meta: r2.$meta };
          else {
            n2 = t2.sort || (t2.sort = {});
            var o2 = String(r2 || 1).toLowerCase();
            if (!(o2 = f[o2]))
              throw new TypeError("Invalid sort value: { " + e2 + ": " + r2 + " }");
            n2[e2] = o2;
          }
        }
        function h(t2, e2, r2) {
          if (t2.sort = t2.sort || [], !Array.isArray(t2.sort))
            throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");
          var n2 = String(r2 || 1).toLowerCase();
          if (!(n2 = f[n2]))
            throw new TypeError("Invalid sort value: [ " + e2 + ", " + r2 + " ]");
          t2.sort.push([e2, n2]);
        }
        function y(t2, e2) {
          if (t2.sort = t2.sort || /* @__PURE__ */ new Map(), !(t2.sort instanceof Map))
            throw new TypeError("Can't mix sort syntaxes. Use either array or object or map consistently");
          e2.forEach(function(e3, r2) {
            var n2 = String(e3 || 1).toLowerCase();
            if (!(n2 = f[n2]))
              throw new TypeError("Invalid sort value: < " + r2 + ": " + e3 + " >");
            t2.sort.set(r2, n2);
          });
        }
        function d(t2, e2, r2, n2, o2, i2, s2) {
          return t2.op = e2, c.canMerge(r2) && t2.merge(r2), n2 && t2._mergeUpdate(n2), a.isObject(o2) && t2.setOptions(o2), i2 || s2 ? !t2._update || !t2.options.overwrite && 0 === a.keys(t2._update).length ? (s2 && a.soon(s2.bind(null, null, 0)), t2) : (o2 = t2._optionsForExec(), s2 || (o2.safe = false), r2 = t2._conditions, n2 = t2._updateForExec(), u("update", t2._collection.collectionName, r2, n2, o2), s2 = t2._wrapCallback(e2, s2, { conditions: r2, doc: n2, options: o2 }), t2._collection[e2](r2, n2, o2, a.tick(s2)), t2) : t2;
        }
        ["limit", "skip", "maxScan", "batchSize", "comment"].forEach(function(t2) {
          c.prototype[t2] = function(e2) {
            return this._validate(t2), this.options[t2] = e2, this;
          };
        }), c.prototype.maxTime = c.prototype.maxTimeMS = function(t2) {
          return this._validate("maxTime"), this.options.maxTimeMS = t2, this;
        }, c.prototype.snapshot = function() {
          return this._validate("snapshot"), this.options.snapshot = !arguments.length || !!arguments[0], this;
        }, c.prototype.hint = function() {
          if (0 === arguments.length)
            return this;
          this._validate("hint");
          var t2 = arguments[0];
          if (a.isObject(t2)) {
            var e2 = this.options.hint || (this.options.hint = {});
            for (var r2 in t2)
              e2[r2] = t2[r2];
            return this;
          }
          if ("string" == typeof t2)
            return this.options.hint = t2, this;
          throw new TypeError("Invalid hint. " + t2);
        }, c.prototype.j = function(t2) {
          return this.options.j = t2, this;
        }, c.prototype.slaveOk = function(t2) {
          return this.options.slaveOk = !arguments.length || !!t2, this;
        }, c.prototype.read = c.prototype.setReadPreference = function(t2) {
          return arguments.length > 1 && !c.prototype.read.deprecationWarningIssued && (console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."), c.prototype.read.deprecationWarningIssued = true), this.options.readPreference = a.readPref(t2), this;
        }, c.prototype.readConcern = c.prototype.r = function(t2) {
          return this.options.readConcern = a.readConcern(t2), this;
        }, c.prototype.tailable = function() {
          return this._validate("tailable"), this.options.tailable = !arguments.length || !!arguments[0], this;
        }, c.prototype.writeConcern = c.prototype.w = function(t2) {
          return "object" === n(t2) ? (void 0 !== t2.j && (this.options.j = t2.j), void 0 !== t2.w && (this.options.w = t2.w), void 0 !== t2.wtimeout && (this.options.wtimeout = t2.wtimeout)) : this.options.w = "m" === t2 ? "majority" : t2, this;
        }, c.prototype.wtimeout = c.prototype.wTimeout = function(t2) {
          return this.options.wtimeout = t2, this;
        }, c.prototype.merge = function(t2) {
          if (!t2)
            return this;
          if (!c.canMerge(t2))
            throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");
          return t2 instanceof c ? (t2._conditions && a.merge(this._conditions, t2._conditions), t2._fields && (this._fields || (this._fields = {}), a.merge(this._fields, t2._fields)), t2.options && (this.options || (this.options = {}), a.merge(this.options, t2.options)), t2._update && (this._update || (this._update = {}), a.mergeClone(this._update, t2._update)), t2._distinct && (this._distinct = t2._distinct), this) : (a.merge(this._conditions, t2), this);
        }, c.prototype.find = function(t2, e2) {
          if (this.op = "find", "function" == typeof t2 ? (e2 = t2, t2 = void 0) : c.canMerge(t2) && this.merge(t2), !e2)
            return this;
          var r2 = this._conditions, n2 = this._optionsForExec();
          return this.$useProjection ? n2.projection = this._fieldsForExec() : n2.fields = this._fieldsForExec(), u("find", this._collection.collectionName, r2, n2), e2 = this._wrapCallback("find", e2, { conditions: r2, options: n2 }), this._collection.find(r2, n2, a.tick(e2)), this;
        }, c.prototype.cursor = function(t2) {
          if (this.op) {
            if ("find" !== this.op)
              throw new TypeError(".cursor only support .find method");
          } else
            this.find(t2);
          var e2 = this._conditions, r2 = this._optionsForExec();
          return this.$useProjection ? r2.projection = this._fieldsForExec() : r2.fields = this._fieldsForExec(), u("findCursor", this._collection.collectionName, e2, r2), this._collection.findCursor(e2, r2);
        }, c.prototype.findOne = function(t2, e2) {
          if (this.op = "findOne", "function" == typeof t2 ? (e2 = t2, t2 = void 0) : c.canMerge(t2) && this.merge(t2), !e2)
            return this;
          var r2 = this._conditions, n2 = this._optionsForExec();
          return this.$useProjection ? n2.projection = this._fieldsForExec() : n2.fields = this._fieldsForExec(), u("findOne", this._collection.collectionName, r2, n2), e2 = this._wrapCallback("findOne", e2, { conditions: r2, options: n2 }), this._collection.findOne(r2, n2, a.tick(e2)), this;
        }, c.prototype.count = function(t2, e2) {
          if (this.op = "count", this._validate(), "function" == typeof t2 ? (e2 = t2, t2 = void 0) : c.canMerge(t2) && this.merge(t2), !e2)
            return this;
          var r2 = this._conditions, n2 = this._optionsForExec();
          return u("count", this._collection.collectionName, r2, n2), e2 = this._wrapCallback("count", e2, { conditions: r2, options: n2 }), this._collection.count(r2, n2, a.tick(e2)), this;
        }, c.prototype.distinct = function(t2, e2, r2) {
          if (this.op = "distinct", this._validate(), !r2) {
            switch (n(e2)) {
              case "function":
                r2 = e2, "string" == typeof t2 && (e2 = t2, t2 = void 0);
                break;
              case "undefined":
              case "string":
                break;
              default:
                throw new TypeError("Invalid `field` argument. Must be string or function");
            }
            switch (n(t2)) {
              case "function":
                r2 = t2, t2 = e2 = void 0;
                break;
              case "string":
                e2 = t2, t2 = void 0;
            }
          }
          if ("string" == typeof e2 && (this._distinct = e2), c.canMerge(t2) && this.merge(t2), !r2)
            return this;
          if (!this._distinct)
            throw new Error("No value for `distinct` has been declared");
          var o2 = this._conditions, i2 = this._optionsForExec();
          return u("distinct", this._collection.collectionName, o2, i2), r2 = this._wrapCallback("distinct", r2, { conditions: o2, options: i2 }), this._collection.distinct(this._distinct, o2, i2, a.tick(r2)), this;
        }, c.prototype.update = function(t2, e2, r2, o2) {
          var i2;
          switch (arguments.length) {
            case 3:
              "function" == typeof r2 && (o2 = r2, r2 = void 0);
              break;
            case 2:
              "function" == typeof e2 && (o2 = e2, e2 = t2, t2 = void 0);
              break;
            case 1:
              switch (n(t2)) {
                case "function":
                  o2 = t2, t2 = r2 = e2 = void 0;
                  break;
                case "boolean":
                  i2 = t2, t2 = void 0;
                  break;
                default:
                  e2 = t2, t2 = r2 = void 0;
              }
          }
          return d(this, "update", t2, e2, r2, i2, o2);
        }, c.prototype.updateMany = function(t2, e2, r2, o2) {
          var i2;
          switch (arguments.length) {
            case 3:
              "function" == typeof r2 && (o2 = r2, r2 = void 0);
              break;
            case 2:
              "function" == typeof e2 && (o2 = e2, e2 = t2, t2 = void 0);
              break;
            case 1:
              switch (n(t2)) {
                case "function":
                  o2 = t2, t2 = r2 = e2 = void 0;
                  break;
                case "boolean":
                  i2 = t2, t2 = void 0;
                  break;
                default:
                  e2 = t2, t2 = r2 = void 0;
              }
          }
          return d(this, "updateMany", t2, e2, r2, i2, o2);
        }, c.prototype.updateOne = function(t2, e2, r2, o2) {
          var i2;
          switch (arguments.length) {
            case 3:
              "function" == typeof r2 && (o2 = r2, r2 = void 0);
              break;
            case 2:
              "function" == typeof e2 && (o2 = e2, e2 = t2, t2 = void 0);
              break;
            case 1:
              switch (n(t2)) {
                case "function":
                  o2 = t2, t2 = r2 = e2 = void 0;
                  break;
                case "boolean":
                  i2 = t2, t2 = void 0;
                  break;
                default:
                  e2 = t2, t2 = r2 = void 0;
              }
          }
          return d(this, "updateOne", t2, e2, r2, i2, o2);
        }, c.prototype.replaceOne = function(t2, e2, r2, o2) {
          var i2;
          switch (arguments.length) {
            case 3:
              "function" == typeof r2 && (o2 = r2, r2 = void 0);
              break;
            case 2:
              "function" == typeof e2 && (o2 = e2, e2 = t2, t2 = void 0);
              break;
            case 1:
              switch (n(t2)) {
                case "function":
                  o2 = t2, t2 = r2 = e2 = void 0;
                  break;
                case "boolean":
                  i2 = t2, t2 = void 0;
                  break;
                default:
                  e2 = t2, t2 = r2 = void 0;
              }
          }
          return this.setOptions({ overwrite: true }), d(this, "replaceOne", t2, e2, r2, i2, o2);
        }, c.prototype.remove = function(t2, e2) {
          var r2;
          if (this.op = "remove", "function" == typeof t2 ? (e2 = t2, t2 = void 0) : c.canMerge(t2) ? this.merge(t2) : true === t2 && (r2 = t2, t2 = void 0), !r2 && !e2)
            return this;
          var n2 = this._optionsForExec();
          e2 || (n2.safe = false);
          var o2 = this._conditions;
          return u("remove", this._collection.collectionName, o2, n2), e2 = this._wrapCallback("remove", e2, { conditions: o2, options: n2 }), this._collection.remove(o2, n2, a.tick(e2)), this;
        }, c.prototype.deleteOne = function(t2, e2) {
          var r2;
          if (this.op = "deleteOne", "function" == typeof t2 ? (e2 = t2, t2 = void 0) : c.canMerge(t2) ? this.merge(t2) : true === t2 && (r2 = t2, t2 = void 0), !r2 && !e2)
            return this;
          var n2 = this._optionsForExec();
          e2 || (n2.safe = false), delete n2.justOne;
          var o2 = this._conditions;
          return u("deleteOne", this._collection.collectionName, o2, n2), e2 = this._wrapCallback("deleteOne", e2, { conditions: o2, options: n2 }), this._collection.deleteOne(o2, n2, a.tick(e2)), this;
        }, c.prototype.deleteMany = function(t2, e2) {
          var r2;
          if (this.op = "deleteMany", "function" == typeof t2 ? (e2 = t2, t2 = void 0) : c.canMerge(t2) ? this.merge(t2) : true === t2 && (r2 = t2, t2 = void 0), !r2 && !e2)
            return this;
          var n2 = this._optionsForExec();
          e2 || (n2.safe = false), delete n2.justOne;
          var o2 = this._conditions;
          return u("deleteOne", this._collection.collectionName, o2, n2), e2 = this._wrapCallback("deleteOne", e2, { conditions: o2, options: n2 }), this._collection.deleteMany(o2, n2, a.tick(e2)), this;
        }, c.prototype.findOneAndUpdate = function(t2, e2, r2, n2) {
          switch (this.op = "findOneAndUpdate", this._validate(), arguments.length) {
            case 3:
              "function" == typeof r2 && (n2 = r2, r2 = {});
              break;
            case 2:
              "function" == typeof e2 && (n2 = e2, e2 = t2, t2 = void 0), r2 = void 0;
              break;
            case 1:
              "function" == typeof t2 ? (n2 = t2, t2 = r2 = e2 = void 0) : (e2 = t2, t2 = r2 = void 0);
          }
          return c.canMerge(t2) && this.merge(t2), e2 && this._mergeUpdate(e2), r2 && this.setOptions(r2), n2 ? this._findAndModify("update", n2) : this;
        }, c.prototype.findOneAndRemove = c.prototype.findOneAndDelete = function(t2, e2, r2) {
          return this.op = "findOneAndRemove", this._validate(), "function" == typeof e2 ? (r2 = e2, e2 = void 0) : "function" == typeof t2 && (r2 = t2, t2 = void 0), c.canMerge(t2) && this.merge(t2), e2 && this.setOptions(e2), r2 ? this._findAndModify("remove", r2) : this;
        }, c.prototype._findAndModify = function(t2, e2) {
          i.equal("function", n(e2));
          var r2, o2 = this._optionsForExec();
          if ("remove" == t2)
            o2.remove = true;
          else if ("new" in o2 || (o2.new = true), "upsert" in o2 || (o2.upsert = false), !(r2 = this._updateForExec())) {
            if (!o2.upsert)
              return this.findOne(e2);
            r2 = { $set: {} };
          }
          null != this._fieldsForExec() && (this.$useProjection ? o2.projection = this._fieldsForExec() : o2.fields = this._fieldsForExec());
          var s2 = this._conditions;
          return u("findAndModify", this._collection.collectionName, s2, r2, o2), e2 = this._wrapCallback("findAndModify", e2, { conditions: s2, doc: r2, options: o2 }), this._collection.findAndModify(s2, r2, o2, a.tick(e2)), this;
        }, c.prototype._wrapCallback = function(t2, e2, r2) {
          var n2 = this._traceFunction || c.traceFunction;
          if (n2) {
            r2.collectionName = this._collection.collectionName;
            var o2 = n2 && n2.call(null, t2, r2, this), i2 = new Date().getTime();
            return function(t3, r3) {
              if (o2) {
                var n3 = new Date().getTime() - i2;
                o2.call(null, t3, r3, n3);
              }
              e2 && e2.apply(null, arguments);
            };
          }
          return e2;
        }, c.prototype.setTraceFunction = function(t2) {
          return this._traceFunction = t2, this;
        }, c.prototype.exec = function(t2, e2) {
          switch (n(t2)) {
            case "function":
              e2 = t2, t2 = null;
              break;
            case "string":
              this.op = t2;
          }
          i.ok(this.op, "Missing query type: (find, update, etc)"), "update" != this.op && "remove" != this.op || e2 || (e2 = true);
          var r2 = this;
          if ("function" != typeof e2)
            return new c.Promise(function(t3, e3) {
              r2[r2.op](function(r3, n2) {
                r3 ? e3(r3) : t3(n2), t3 = e3 = null;
              });
            });
          this[this.op](e2);
        }, c.prototype.thunk = function() {
          var t2 = this;
          return function(e2) {
            t2.exec(e2);
          };
        }, c.prototype.then = function(t2, e2) {
          var r2 = this;
          return new c.Promise(function(t3, e3) {
            r2.exec(function(r3, n2) {
              r3 ? e3(r3) : t3(n2), t3 = e3 = null;
            });
          }).then(t2, e2);
        }, c.prototype.stream = function(t2) {
          if ("find" != this.op)
            throw new Error("stream() is only available for find");
          var e2 = this._conditions, r2 = this._optionsForExec();
          return this.$useProjection ? r2.projection = this._fieldsForExec() : r2.fields = this._fieldsForExec(), u("stream", this._collection.collectionName, e2, r2, t2), this._collection.findStream(e2, r2, t2);
        }, c.prototype.selected = function() {
          return !!(this._fields && Object.keys(this._fields).length > 0);
        }, c.prototype.selectedInclusively = function() {
          if (!this._fields)
            return false;
          var t2 = Object.keys(this._fields);
          if (0 === t2.length)
            return false;
          for (var e2 = 0; e2 < t2.length; ++e2) {
            var r2 = t2[e2];
            if (0 === this._fields[r2])
              return false;
            if (this._fields[r2] && "object" === n(this._fields[r2]) && this._fields[r2].$meta)
              return false;
          }
          return true;
        }, c.prototype.selectedExclusively = function() {
          if (!this._fields)
            return false;
          var t2 = Object.keys(this._fields);
          if (0 === t2.length)
            return false;
          for (var e2 = 0; e2 < t2.length; ++e2) {
            var r2 = t2[e2];
            if (0 === this._fields[r2])
              return true;
          }
          return false;
        }, c.prototype._mergeUpdate = function(t2) {
          this._update || (this._update = {}), t2 instanceof c ? t2._update && a.mergeClone(this._update, t2._update) : a.mergeClone(this._update, t2);
        }, c.prototype._optionsForExec = function() {
          return a.clone(this.options);
        }, c.prototype._fieldsForExec = function() {
          return a.clone(this._fields);
        }, c.prototype._updateForExec = function() {
          for (var t2 = a.clone(this._update), e2 = a.keys(t2), r2 = e2.length, n2 = {}; r2--; ) {
            var o2 = e2[r2];
            this.options.overwrite ? n2[o2] = t2[o2] : "$" !== o2[0] ? (n2.$set || (t2.$set ? n2.$set = t2.$set : n2.$set = {}), n2.$set[o2] = t2[o2], e2.splice(r2, 1), ~e2.indexOf("$set") || e2.push("$set")) : "$set" === o2 && n2.$set || (n2[o2] = t2[o2]);
          }
          return this._compiledUpdate = n2, n2;
        }, c.prototype._ensurePath = function(t2) {
          if (!this._path)
            throw new Error(t2 + "() must be used after where() when called with these arguments");
        }, c.permissions = r(125), c._isPermitted = function(t2, e2) {
          var r2 = c.permissions[e2];
          return !r2 || true !== r2[t2];
        }, c.prototype._validate = function(t2) {
          var e2, r2;
          if (void 0 === t2) {
            if ("function" != typeof (r2 = c.permissions[this.op]))
              return true;
            e2 = r2(this);
          } else
            c._isPermitted(t2, this.op) || (e2 = t2);
          if (e2)
            throw new Error(e2 + " cannot be used with " + this.op);
        }, c.canMerge = function(t2) {
          return t2 instanceof c || a.isObject(t2);
        }, c.setGlobalTraceFunction = function(t2) {
          c.traceFunction = t2;
        }, c.utils = a, c.env = r(71), c.Collection = r(127), c.BaseCollection = r(32), c.Promise = r(129), t.exports = c;
      }, function(t, e, r) {
        (function(t2, e2) {
          !function(t3, r2) {
            "use strict";
            if (!t3.setImmediate) {
              var n, o, i, s, a, u = 1, c = {}, l = false, f = t3.document, p = Object.getPrototypeOf && Object.getPrototypeOf(t3);
              p = p && p.setTimeout ? p : t3, "[object process]" === {}.toString.call(t3.process) ? n = function(t4) {
                e2.nextTick(function() {
                  y(t4);
                });
              } : !function() {
                if (t3.postMessage && !t3.importScripts) {
                  var e3 = true, r3 = t3.onmessage;
                  return t3.onmessage = function() {
                    e3 = false;
                  }, t3.postMessage("", "*"), t3.onmessage = r3, e3;
                }
              }() ? t3.MessageChannel ? ((i = new MessageChannel()).port1.onmessage = function(t4) {
                y(t4.data);
              }, n = function(t4) {
                i.port2.postMessage(t4);
              }) : f && "onreadystatechange" in f.createElement("script") ? (o = f.documentElement, n = function(t4) {
                var e3 = f.createElement("script");
                e3.onreadystatechange = function() {
                  y(t4), e3.onreadystatechange = null, o.removeChild(e3), e3 = null;
                }, o.appendChild(e3);
              }) : n = function(t4) {
                setTimeout(y, 0, t4);
              } : (s = "setImmediate$" + Math.random() + "$", a = function(e3) {
                e3.source === t3 && "string" == typeof e3.data && 0 === e3.data.indexOf(s) && y(+e3.data.slice(s.length));
              }, t3.addEventListener ? t3.addEventListener("message", a, false) : t3.attachEvent("onmessage", a), n = function(e3) {
                t3.postMessage(s + e3, "*");
              }), p.setImmediate = function(t4) {
                "function" != typeof t4 && (t4 = new Function("" + t4));
                for (var e3 = new Array(arguments.length - 1), r3 = 0; r3 < e3.length; r3++)
                  e3[r3] = arguments[r3 + 1];
                var o2 = { callback: t4, args: e3 };
                return c[u] = o2, n(u), u++;
              }, p.clearImmediate = h;
            }
            function h(t4) {
              delete c[t4];
            }
            function y(t4) {
              if (l)
                setTimeout(y, 0, t4);
              else {
                var e3 = c[t4];
                if (e3) {
                  l = true;
                  try {
                    !function(t5) {
                      var e4 = t5.callback, r3 = t5.args;
                      switch (r3.length) {
                        case 0:
                          e4();
                          break;
                        case 1:
                          e4(r3[0]);
                          break;
                        case 2:
                          e4(r3[0], r3[1]);
                          break;
                        case 3:
                          e4(r3[0], r3[1], r3[2]);
                          break;
                        default:
                          e4.apply(void 0, r3);
                      }
                    }(e3);
                  } finally {
                    h(t4), l = false;
                  }
                }
              }
            }
          }("undefined" == typeof self ? void 0 === t2 ? this : t2 : self);
        }).call(this, r(9), r(10));
      }, function(t, e, r) {
        var n = r(2), o = n.Buffer;
        function i(t2, e2) {
          for (var r2 in t2)
            e2[r2] = t2[r2];
        }
        function s(t2, e2, r2) {
          return o(t2, e2, r2);
        }
        o.from && o.alloc && o.allocUnsafe && o.allocUnsafeSlow ? t.exports = n : (i(n, e), e.Buffer = s), i(o, s), s.from = function(t2, e2, r2) {
          if ("number" == typeof t2)
            throw new TypeError("Argument must not be a number");
          return o(t2, e2, r2);
        }, s.alloc = function(t2, e2, r2) {
          if ("number" != typeof t2)
            throw new TypeError("Argument must be a number");
          var n2 = o(t2);
          return void 0 !== e2 ? "string" == typeof r2 ? n2.fill(e2, r2) : n2.fill(e2) : n2.fill(0), n2;
        }, s.allocUnsafe = function(t2) {
          if ("number" != typeof t2)
            throw new TypeError("Argument must be a number");
          return o(t2);
        }, s.allocUnsafeSlow = function(t2) {
          if ("number" != typeof t2)
            throw new TypeError("Argument must be a number");
          return n.SlowBuffer(t2);
        };
      }, function(t, e, r) {
        (function(n) {
          function o(t2) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          function i() {
            var t2;
            try {
              t2 = e.storage.debug;
            } catch (t3) {
            }
            return !t2 && void 0 !== n && "env" in n && (t2 = n.env.DEBUG), t2;
          }
          (e = t.exports = r(123)).log = function() {
            return "object" === ("undefined" == typeof console ? "undefined" : o(console)) && console.log && Function.prototype.apply.call(console.log, console, arguments);
          }, e.formatArgs = function(t2) {
            var r2 = this.useColors;
            if (t2[0] = (r2 ? "%c" : "") + this.namespace + (r2 ? " %c" : " ") + t2[0] + (r2 ? "%c " : " ") + "+" + e.humanize(this.diff), !r2)
              return;
            var n2 = "color: " + this.color;
            t2.splice(1, 0, n2, "color: inherit");
            var o2 = 0, i2 = 0;
            t2[0].replace(/%[a-zA-Z%]/g, function(t3) {
              "%%" !== t3 && (o2++, "%c" === t3 && (i2 = o2));
            }), t2.splice(i2, 0, n2);
          }, e.save = function(t2) {
            try {
              null == t2 ? e.storage.removeItem("debug") : e.storage.debug = t2;
            } catch (t3) {
            }
          }, e.load = i, e.useColors = function() {
            if ("undefined" != typeof window && window.process && "renderer" === window.process.type)
              return true;
            if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
              return false;
            return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
          }, e.storage = "undefined" != typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function() {
            try {
              return window.localStorage;
            } catch (t2) {
            }
          }(), e.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], e.formatters.j = function(t2) {
            try {
              return JSON.stringify(t2);
            } catch (t3) {
              return "[UnexpectedJSONParseError]: " + t3.message;
            }
          }, e.enable(i());
        }).call(this, r(10));
      }, function(t, e, r) {
        function n(t2) {
          var r2;
          function n2() {
            if (n2.enabled) {
              var t3 = n2, o2 = +new Date(), i = o2 - (r2 || o2);
              t3.diff = i, t3.prev = r2, t3.curr = o2, r2 = o2;
              for (var s = new Array(arguments.length), a = 0; a < s.length; a++)
                s[a] = arguments[a];
              s[0] = e.coerce(s[0]), "string" != typeof s[0] && s.unshift("%O");
              var u = 0;
              s[0] = s[0].replace(/%([a-zA-Z%])/g, function(r3, n3) {
                if ("%%" === r3)
                  return r3;
                u++;
                var o3 = e.formatters[n3];
                if ("function" == typeof o3) {
                  var i2 = s[u];
                  r3 = o3.call(t3, i2), s.splice(u, 1), u--;
                }
                return r3;
              }), e.formatArgs.call(t3, s);
              var c = n2.log || e.log || console.log.bind(console);
              c.apply(t3, s);
            }
          }
          return n2.namespace = t2, n2.enabled = e.enabled(t2), n2.useColors = e.useColors(), n2.color = function(t3) {
            var r3, n3 = 0;
            for (r3 in t3)
              n3 = (n3 << 5) - n3 + t3.charCodeAt(r3), n3 |= 0;
            return e.colors[Math.abs(n3) % e.colors.length];
          }(t2), n2.destroy = o, "function" == typeof e.init && e.init(n2), e.instances.push(n2), n2;
        }
        function o() {
          var t2 = e.instances.indexOf(this);
          return -1 !== t2 && (e.instances.splice(t2, 1), true);
        }
        (e = t.exports = n.debug = n.default = n).coerce = function(t2) {
          return t2 instanceof Error ? t2.stack || t2.message : t2;
        }, e.disable = function() {
          e.enable("");
        }, e.enable = function(t2) {
          var r2;
          e.save(t2), e.names = [], e.skips = [];
          var n2 = ("string" == typeof t2 ? t2 : "").split(/[\s,]+/), o2 = n2.length;
          for (r2 = 0; r2 < o2; r2++)
            n2[r2] && ("-" === (t2 = n2[r2].replace(/\*/g, ".*?"))[0] ? e.skips.push(new RegExp("^" + t2.substr(1) + "$")) : e.names.push(new RegExp("^" + t2 + "$")));
          for (r2 = 0; r2 < e.instances.length; r2++) {
            var i = e.instances[r2];
            i.enabled = e.enabled(i.namespace);
          }
        }, e.enabled = function(t2) {
          if ("*" === t2[t2.length - 1])
            return true;
          var r2, n2;
          for (r2 = 0, n2 = e.skips.length; r2 < n2; r2++)
            if (e.skips[r2].test(t2))
              return false;
          for (r2 = 0, n2 = e.names.length; r2 < n2; r2++)
            if (e.names[r2].test(t2))
              return true;
          return false;
        }, e.humanize = r(124), e.instances = [], e.names = [], e.skips = [], e.formatters = {};
      }, function(t, e) {
        function r(t2) {
          return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var n = 1e3, o = 6e4, i = 60 * o, s = 24 * i;
        function a(t2, e2, r2) {
          if (!(t2 < e2))
            return t2 < 1.5 * e2 ? Math.floor(t2 / e2) + " " + r2 : Math.ceil(t2 / e2) + " " + r2 + "s";
        }
        t.exports = function(t2, e2) {
          e2 = e2 || {};
          var u, c = r(t2);
          if ("string" === c && t2.length > 0)
            return function(t3) {
              if ((t3 = String(t3)).length > 100)
                return;
              var e3 = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t3);
              if (!e3)
                return;
              var r2 = parseFloat(e3[1]);
              switch ((e3[2] || "ms").toLowerCase()) {
                case "years":
                case "year":
                case "yrs":
                case "yr":
                case "y":
                  return 315576e5 * r2;
                case "days":
                case "day":
                case "d":
                  return r2 * s;
                case "hours":
                case "hour":
                case "hrs":
                case "hr":
                case "h":
                  return r2 * i;
                case "minutes":
                case "minute":
                case "mins":
                case "min":
                case "m":
                  return r2 * o;
                case "seconds":
                case "second":
                case "secs":
                case "sec":
                case "s":
                  return r2 * n;
                case "milliseconds":
                case "millisecond":
                case "msecs":
                case "msec":
                case "ms":
                  return r2;
                default:
                  return;
              }
            }(t2);
          if ("number" === c && false === isNaN(t2))
            return e2.long ? a(u = t2, s, "day") || a(u, i, "hour") || a(u, o, "minute") || a(u, n, "second") || u + " ms" : function(t3) {
              if (t3 >= s)
                return Math.round(t3 / s) + "d";
              if (t3 >= i)
                return Math.round(t3 / i) + "h";
              if (t3 >= o)
                return Math.round(t3 / o) + "m";
              if (t3 >= n)
                return Math.round(t3 / n) + "s";
              return t3 + "ms";
            }(t2);
          throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t2));
        };
      }, function(t, e, r) {
        "use strict";
        var n = e;
        n.distinct = function(t2) {
          return t2._fields && Object.keys(t2._fields).length > 0 ? "field selection and slice" : (Object.keys(n.distinct).every(function(r2) {
            return !t2.options[r2] || (e2 = r2, false);
          }), e2);
          var e2;
        }, n.distinct.select = n.distinct.slice = n.distinct.sort = n.distinct.limit = n.distinct.skip = n.distinct.batchSize = n.distinct.comment = n.distinct.maxScan = n.distinct.snapshot = n.distinct.hint = n.distinct.tailable = true, n.findOneAndUpdate = n.findOneAndRemove = function(t2) {
          var e2;
          return Object.keys(n.findOneAndUpdate).every(function(r2) {
            return !t2.options[r2] || (e2 = r2, false);
          }), e2;
        }, n.findOneAndUpdate.limit = n.findOneAndUpdate.skip = n.findOneAndUpdate.batchSize = n.findOneAndUpdate.maxScan = n.findOneAndUpdate.snapshot = n.findOneAndUpdate.hint = n.findOneAndUpdate.tailable = n.findOneAndUpdate.comment = true, n.count = function(t2) {
          return t2._fields && Object.keys(t2._fields).length > 0 ? "field selection and slice" : (Object.keys(n.count).every(function(r2) {
            return !t2.options[r2] || (e2 = r2, false);
          }), e2);
          var e2;
        }, n.count.slice = n.count.batchSize = n.count.comment = n.count.maxScan = n.count.snapshot = n.count.tailable = true;
      }, function(t, e) {
        t.exports = function(t2) {
          return t2.webpackPolyfill || (t2.deprecate = function() {
          }, t2.paths = [], t2.children || (t2.children = []), Object.defineProperty(t2, "loaded", { enumerable: true, get: function() {
            return t2.l;
          } }), Object.defineProperty(t2, "id", { enumerable: true, get: function() {
            return t2.i;
          } }), t2.webpackPolyfill = 1), t2;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(71);
        if ("unknown" == n.type)
          throw new Error("Unknown environment");
        t.exports = n.isNode ? r(128) : (n.isMongo, r(32));
      }, function(t, e, r) {
        "use strict";
        var n = r(32);
        function o(t2) {
          this.collection = t2, this.collectionName = t2.collectionName;
        }
        r(69).inherits(o, n), o.prototype.find = function(t2, e2, r2) {
          this.collection.find(t2, e2, function(t3, e3) {
            if (t3)
              return r2(t3);
            try {
              e3.toArray(r2);
            } catch (t4) {
              r2(t4);
            }
          });
        }, o.prototype.findOne = function(t2, e2, r2) {
          this.collection.findOne(t2, e2, r2);
        }, o.prototype.count = function(t2, e2, r2) {
          this.collection.count(t2, e2, r2);
        }, o.prototype.distinct = function(t2, e2, r2, n2) {
          this.collection.distinct(t2, e2, r2, n2);
        }, o.prototype.update = function(t2, e2, r2, n2) {
          this.collection.update(t2, e2, r2, n2);
        }, o.prototype.updateMany = function(t2, e2, r2, n2) {
          this.collection.updateMany(t2, e2, r2, n2);
        }, o.prototype.updateOne = function(t2, e2, r2, n2) {
          this.collection.updateOne(t2, e2, r2, n2);
        }, o.prototype.replaceOne = function(t2, e2, r2, n2) {
          this.collection.replaceOne(t2, e2, r2, n2);
        }, o.prototype.deleteOne = function(t2, e2, r2) {
          this.collection.deleteOne(t2, e2, r2);
        }, o.prototype.deleteMany = function(t2, e2, r2) {
          this.collection.deleteMany(t2, e2, r2);
        }, o.prototype.remove = function(t2, e2, r2) {
          this.collection.remove(t2, e2, r2);
        }, o.prototype.findAndModify = function(t2, e2, r2, n2) {
          var o2 = Array.isArray(r2.sort) ? r2.sort : [];
          this.collection.findAndModify(t2, o2, e2, r2, n2);
        }, o.prototype.findStream = function(t2, e2, r2) {
          return this.collection.find(t2, e2).stream(r2);
        }, o.prototype.findCursor = function(t2, e2) {
          return this.collection.find(t2, e2);
        }, t.exports = o;
      }, function(t, e, r) {
        (function(r2, n, o) {
          var i, s, a, u;
          function c(t2) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          u = function() {
            var t2, e2, i2;
            return function t3(e3, r3, n2) {
              function o2(s3, a2) {
                if (!r3[s3]) {
                  if (!e3[s3]) {
                    var u2 = "function" == typeof _dereq_ && _dereq_;
                    if (!a2 && u2)
                      return u2(s3, true);
                    if (i3)
                      return i3(s3, true);
                    var c2 = new Error("Cannot find module '" + s3 + "'");
                    throw c2.code = "MODULE_NOT_FOUND", c2;
                  }
                  var l = r3[s3] = { exports: {} };
                  e3[s3][0].call(l.exports, function(t4) {
                    var r4 = e3[s3][1][t4];
                    return o2(r4 || t4);
                  }, l, l.exports, t3, e3, r3, n2);
                }
                return r3[s3].exports;
              }
              for (var i3 = "function" == typeof _dereq_ && _dereq_, s2 = 0; s2 < n2.length; s2++)
                o2(n2[s2]);
              return o2;
            }({ 1: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(t4) {
                var e4 = t4._SomePromiseArray;
                function r4(t5) {
                  var r5 = new e4(t5), n2 = r5.promise();
                  return r5.setHowMany(1), r5.setUnwrap(), r5.init(), n2;
                }
                t4.any = function(t5) {
                  return r4(t5);
                }, t4.prototype.any = function() {
                  return r4(this);
                };
              };
            }, {}], 2: [function(t3, e3, n2) {
              "use strict";
              var o2;
              try {
                throw new Error();
              } catch (t4) {
                o2 = t4;
              }
              var i3 = t3("./schedule"), s2 = t3("./queue"), a2 = t3("./util");
              function u2() {
                this._customScheduler = false, this._isTickUsed = false, this._lateQueue = new s2(16), this._normalQueue = new s2(16), this._haveDrainedQueues = false, this._trampolineEnabled = true;
                var t4 = this;
                this.drainQueues = function() {
                  t4._drainQueues();
                }, this._schedule = i3;
              }
              function c2(t4, e4, r3) {
                this._lateQueue.push(t4, e4, r3), this._queueTick();
              }
              function l(t4, e4, r3) {
                this._normalQueue.push(t4, e4, r3), this._queueTick();
              }
              function f(t4) {
                this._normalQueue._pushOne(t4), this._queueTick();
              }
              u2.prototype.setScheduler = function(t4) {
                var e4 = this._schedule;
                return this._schedule = t4, this._customScheduler = true, e4;
              }, u2.prototype.hasCustomScheduler = function() {
                return this._customScheduler;
              }, u2.prototype.enableTrampoline = function() {
                this._trampolineEnabled = true;
              }, u2.prototype.disableTrampolineIfNecessary = function() {
                a2.hasDevTools && (this._trampolineEnabled = false);
              }, u2.prototype.haveItemsQueued = function() {
                return this._isTickUsed || this._haveDrainedQueues;
              }, u2.prototype.fatalError = function(t4, e4) {
                e4 ? (r2.stderr.write("Fatal " + (t4 instanceof Error ? t4.stack : t4) + "\n"), r2.exit(2)) : this.throwLater(t4);
              }, u2.prototype.throwLater = function(t4, e4) {
                if (1 === arguments.length && (e4 = t4, t4 = function() {
                  throw e4;
                }), "undefined" != typeof setTimeout)
                  setTimeout(function() {
                    t4(e4);
                  }, 0);
                else
                  try {
                    this._schedule(function() {
                      t4(e4);
                    });
                  } catch (t5) {
                    throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");
                  }
              }, a2.hasDevTools ? (u2.prototype.invokeLater = function(t4, e4, r3) {
                this._trampolineEnabled ? c2.call(this, t4, e4, r3) : this._schedule(function() {
                  setTimeout(function() {
                    t4.call(e4, r3);
                  }, 100);
                });
              }, u2.prototype.invoke = function(t4, e4, r3) {
                this._trampolineEnabled ? l.call(this, t4, e4, r3) : this._schedule(function() {
                  t4.call(e4, r3);
                });
              }, u2.prototype.settlePromises = function(t4) {
                this._trampolineEnabled ? f.call(this, t4) : this._schedule(function() {
                  t4._settlePromises();
                });
              }) : (u2.prototype.invokeLater = c2, u2.prototype.invoke = l, u2.prototype.settlePromises = f), u2.prototype._drainQueue = function(t4) {
                for (; t4.length() > 0; ) {
                  var e4 = t4.shift();
                  if ("function" == typeof e4) {
                    var r3 = t4.shift(), n3 = t4.shift();
                    e4.call(r3, n3);
                  } else
                    e4._settlePromises();
                }
              }, u2.prototype._drainQueues = function() {
                this._drainQueue(this._normalQueue), this._reset(), this._haveDrainedQueues = true, this._drainQueue(this._lateQueue);
              }, u2.prototype._queueTick = function() {
                this._isTickUsed || (this._isTickUsed = true, this._schedule(this.drainQueues));
              }, u2.prototype._reset = function() {
                this._isTickUsed = false;
              }, e3.exports = u2, e3.exports.firstLineError = o2;
            }, { "./queue": 26, "./schedule": 29, "./util": 36 }], 3: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(t4, e4, r4, n2) {
                var o2 = false, i3 = function(t5, e5) {
                  this._reject(e5);
                }, s2 = function(t5, e5) {
                  e5.promiseRejectionQueued = true, e5.bindingPromise._then(i3, i3, null, this, t5);
                }, a2 = function(t5, e5) {
                  0 == (50397184 & this._bitField) && this._resolveCallback(e5.target);
                }, u2 = function(t5, e5) {
                  e5.promiseRejectionQueued || this._reject(t5);
                };
                t4.prototype.bind = function(i4) {
                  o2 || (o2 = true, t4.prototype._propagateFrom = n2.propagateFromFunction(), t4.prototype._boundValue = n2.boundValueFunction());
                  var c2 = r4(i4), l = new t4(e4);
                  l._propagateFrom(this, 1);
                  var f = this._target();
                  if (l._setBoundTo(c2), c2 instanceof t4) {
                    var p = { promiseRejectionQueued: false, promise: l, target: f, bindingPromise: c2 };
                    f._then(e4, s2, void 0, l, p), c2._then(a2, u2, void 0, l, p), l._setOnCancel(c2);
                  } else
                    l._resolveCallback(f);
                  return l;
                }, t4.prototype._setBoundTo = function(t5) {
                  void 0 !== t5 ? (this._bitField = 2097152 | this._bitField, this._boundTo = t5) : this._bitField = -2097153 & this._bitField;
                }, t4.prototype._isBound = function() {
                  return 2097152 == (2097152 & this._bitField);
                }, t4.bind = function(e5, r5) {
                  return t4.resolve(r5).bind(e5);
                };
              };
            }, {}], 4: [function(t3, e3, r3) {
              "use strict";
              var n2;
              "undefined" != typeof Promise && (n2 = Promise);
              var o2 = t3("./promise")();
              o2.noConflict = function() {
                try {
                  Promise === o2 && (Promise = n2);
                } catch (t4) {
                }
                return o2;
              }, e3.exports = o2;
            }, { "./promise": 22 }], 5: [function(t3, e3, r3) {
              "use strict";
              var n2 = Object.create;
              if (n2) {
                var o2 = n2(null), i3 = n2(null);
                o2[" size"] = i3[" size"] = 0;
              }
              e3.exports = function(e4) {
                var r4 = t3("./util"), n3 = r4.canEvaluate;
                function o3(t4) {
                  return function(t5, n4) {
                    var o4;
                    if (null != t5 && (o4 = t5[n4]), "function" != typeof o4) {
                      var i5 = "Object " + r4.classString(t5) + " has no method '" + r4.toString(n4) + "'";
                      throw new e4.TypeError(i5);
                    }
                    return o4;
                  }(t4, this.pop()).apply(t4, this);
                }
                function i4(t4) {
                  return t4[this];
                }
                function s2(t4) {
                  var e5 = +this;
                  return e5 < 0 && (e5 = Math.max(0, e5 + t4.length)), t4[e5];
                }
                r4.isIdentifier, e4.prototype.call = function(t4) {
                  var e5 = [].slice.call(arguments, 1);
                  return e5.push(t4), this._then(o3, void 0, void 0, e5, void 0);
                }, e4.prototype.get = function(t4) {
                  var e5;
                  if ("number" == typeof t4)
                    e5 = s2;
                  else if (n3) {
                    var r5 = (void 0)(t4);
                    e5 = null !== r5 ? r5 : i4;
                  } else
                    e5 = i4;
                  return this._then(e5, void 0, void 0, t4, void 0);
                };
              };
            }, { "./util": 36 }], 6: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2) {
                var i3 = t3("./util"), s2 = i3.tryCatch, a2 = i3.errorObj, u2 = e4._async;
                e4.prototype.break = e4.prototype.cancel = function() {
                  if (!o2.cancellation())
                    return this._warn("cancellation is disabled");
                  for (var t4 = this, e5 = t4; t4._isCancellable(); ) {
                    if (!t4._cancelBy(e5)) {
                      e5._isFollowing() ? e5._followee().cancel() : e5._cancelBranched();
                      break;
                    }
                    var r5 = t4._cancellationParent;
                    if (null == r5 || !r5._isCancellable()) {
                      t4._isFollowing() ? t4._followee().cancel() : t4._cancelBranched();
                      break;
                    }
                    t4._isFollowing() && t4._followee().cancel(), t4._setWillBeCancelled(), e5 = t4, t4 = r5;
                  }
                }, e4.prototype._branchHasCancelled = function() {
                  this._branchesRemainingToCancel--;
                }, e4.prototype._enoughBranchesHaveCancelled = function() {
                  return void 0 === this._branchesRemainingToCancel || this._branchesRemainingToCancel <= 0;
                }, e4.prototype._cancelBy = function(t4) {
                  return t4 === this ? (this._branchesRemainingToCancel = 0, this._invokeOnCancel(), true) : (this._branchHasCancelled(), !!this._enoughBranchesHaveCancelled() && (this._invokeOnCancel(), true));
                }, e4.prototype._cancelBranched = function() {
                  this._enoughBranchesHaveCancelled() && this._cancel();
                }, e4.prototype._cancel = function() {
                  this._isCancellable() && (this._setCancelled(), u2.invoke(this._cancelPromises, this, void 0));
                }, e4.prototype._cancelPromises = function() {
                  this._length() > 0 && this._settlePromises();
                }, e4.prototype._unsetOnCancel = function() {
                  this._onCancelField = void 0;
                }, e4.prototype._isCancellable = function() {
                  return this.isPending() && !this._isCancelled();
                }, e4.prototype.isCancellable = function() {
                  return this.isPending() && !this.isCancelled();
                }, e4.prototype._doInvokeOnCancel = function(t4, e5) {
                  if (i3.isArray(t4))
                    for (var r5 = 0; r5 < t4.length; ++r5)
                      this._doInvokeOnCancel(t4[r5], e5);
                  else if (void 0 !== t4)
                    if ("function" == typeof t4) {
                      if (!e5) {
                        var n3 = s2(t4).call(this._boundValue());
                        n3 === a2 && (this._attachExtraTrace(n3.e), u2.throwLater(n3.e));
                      }
                    } else
                      t4._resultCancelled(this);
                }, e4.prototype._invokeOnCancel = function() {
                  var t4 = this._onCancel();
                  this._unsetOnCancel(), u2.invoke(this._doInvokeOnCancel, this, t4);
                }, e4.prototype._invokeInternalOnCancel = function() {
                  this._isCancellable() && (this._doInvokeOnCancel(this._onCancel(), true), this._unsetOnCancel());
                }, e4.prototype._resultCancelled = function() {
                  this.cancel();
                };
              };
            }, { "./util": 36 }], 7: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4) {
                var r4 = t3("./util"), n2 = t3("./es5").keys, o2 = r4.tryCatch, i3 = r4.errorObj;
                return function(t4, s2, a2) {
                  return function(u2) {
                    var c2 = a2._boundValue();
                    t:
                      for (var l = 0; l < t4.length; ++l) {
                        var f = t4[l];
                        if (f === Error || null != f && f.prototype instanceof Error) {
                          if (u2 instanceof f)
                            return o2(s2).call(c2, u2);
                        } else if ("function" == typeof f) {
                          var p = o2(f).call(c2, u2);
                          if (p === i3)
                            return p;
                          if (p)
                            return o2(s2).call(c2, u2);
                        } else if (r4.isObject(u2)) {
                          for (var h = n2(f), y = 0; y < h.length; ++y) {
                            var d = h[y];
                            if (f[d] != u2[d])
                              continue t;
                          }
                          return o2(s2).call(c2, u2);
                        }
                      }
                    return e4;
                  };
                };
              };
            }, { "./es5": 13, "./util": 36 }], 8: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(t4) {
                var e4 = false, r4 = [];
                function n2() {
                  this._trace = new n2.CapturedTrace(o2());
                }
                function o2() {
                  var t5 = r4.length - 1;
                  if (t5 >= 0)
                    return r4[t5];
                }
                return t4.prototype._promiseCreated = function() {
                }, t4.prototype._pushContext = function() {
                }, t4.prototype._popContext = function() {
                  return null;
                }, t4._peekContext = t4.prototype._peekContext = function() {
                }, n2.prototype._pushContext = function() {
                  void 0 !== this._trace && (this._trace._promiseCreated = null, r4.push(this._trace));
                }, n2.prototype._popContext = function() {
                  if (void 0 !== this._trace) {
                    var t5 = r4.pop(), e5 = t5._promiseCreated;
                    return t5._promiseCreated = null, e5;
                  }
                  return null;
                }, n2.CapturedTrace = null, n2.create = function() {
                  if (e4)
                    return new n2();
                }, n2.deactivateLongStackTraces = function() {
                }, n2.activateLongStackTraces = function() {
                  var r5 = t4.prototype._pushContext, i3 = t4.prototype._popContext, s2 = t4._peekContext, a2 = t4.prototype._peekContext, u2 = t4.prototype._promiseCreated;
                  n2.deactivateLongStackTraces = function() {
                    t4.prototype._pushContext = r5, t4.prototype._popContext = i3, t4._peekContext = s2, t4.prototype._peekContext = a2, t4.prototype._promiseCreated = u2, e4 = false;
                  }, e4 = true, t4.prototype._pushContext = n2.prototype._pushContext, t4.prototype._popContext = n2.prototype._popContext, t4._peekContext = t4.prototype._peekContext = o2, t4.prototype._promiseCreated = function() {
                    var t5 = this._peekContext();
                    t5 && null == t5._promiseCreated && (t5._promiseCreated = this);
                  };
                }, n2;
              };
            }, {}], 9: [function(t3, e3, n2) {
              "use strict";
              e3.exports = function(e4, n3) {
                var o2, i3, s2, a2 = e4._getDomain, u2 = e4._async, l = t3("./errors").Warning, f = t3("./util"), p = f.canAttachTrace, h = /[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/, y = /\((?:timers\.js):\d+:\d+\)/, d = /[\/<\(](.+?):(\d+):(\d+)\)?\s*$/, _ = null, v = null, m = false, b = !(0 == f.env("BLUEBIRD_DEBUG")), g = !(0 == f.env("BLUEBIRD_WARNINGS") || !b && !f.env("BLUEBIRD_WARNINGS")), w = !(0 == f.env("BLUEBIRD_LONG_STACK_TRACES") || !b && !f.env("BLUEBIRD_LONG_STACK_TRACES")), O = 0 != f.env("BLUEBIRD_W_FORGOTTEN_RETURN") && (g || !!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));
                e4.prototype.suppressUnhandledRejections = function() {
                  var t4 = this._target();
                  t4._bitField = -1048577 & t4._bitField | 524288;
                }, e4.prototype._ensurePossibleRejectionHandled = function() {
                  if (0 == (524288 & this._bitField)) {
                    this._setRejectionIsUnhandled();
                    var t4 = this;
                    setTimeout(function() {
                      t4._notifyUnhandledRejection();
                    }, 1);
                  }
                }, e4.prototype._notifyUnhandledRejectionIsHandled = function() {
                  W("rejectionHandled", o2, void 0, this);
                }, e4.prototype._setReturnedNonUndefined = function() {
                  this._bitField = 268435456 | this._bitField;
                }, e4.prototype._returnedNonUndefined = function() {
                  return 0 != (268435456 & this._bitField);
                }, e4.prototype._notifyUnhandledRejection = function() {
                  if (this._isRejectionUnhandled()) {
                    var t4 = this._settledValue();
                    this._setUnhandledRejectionIsNotified(), W("unhandledRejection", i3, t4, this);
                  }
                }, e4.prototype._setUnhandledRejectionIsNotified = function() {
                  this._bitField = 262144 | this._bitField;
                }, e4.prototype._unsetUnhandledRejectionIsNotified = function() {
                  this._bitField = -262145 & this._bitField;
                }, e4.prototype._isUnhandledRejectionNotified = function() {
                  return (262144 & this._bitField) > 0;
                }, e4.prototype._setRejectionIsUnhandled = function() {
                  this._bitField = 1048576 | this._bitField;
                }, e4.prototype._unsetRejectionIsUnhandled = function() {
                  this._bitField = -1048577 & this._bitField, this._isUnhandledRejectionNotified() && (this._unsetUnhandledRejectionIsNotified(), this._notifyUnhandledRejectionIsHandled());
                }, e4.prototype._isRejectionUnhandled = function() {
                  return (1048576 & this._bitField) > 0;
                }, e4.prototype._warn = function(t4, e5, r3) {
                  return L(t4, e5, r3 || this);
                }, e4.onPossiblyUnhandledRejection = function(t4) {
                  var e5 = a2();
                  i3 = "function" == typeof t4 ? null === e5 ? t4 : f.domainBind(e5, t4) : void 0;
                }, e4.onUnhandledRejectionHandled = function(t4) {
                  var e5 = a2();
                  o2 = "function" == typeof t4 ? null === e5 ? t4 : f.domainBind(e5, t4) : void 0;
                };
                var S = function() {
                };
                e4.longStackTraces = function() {
                  if (u2.haveItemsQueued() && !X.longStackTraces)
                    throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");
                  if (!X.longStackTraces && Y()) {
                    var t4 = e4.prototype._captureStackTrace, r3 = e4.prototype._attachExtraTrace;
                    X.longStackTraces = true, S = function() {
                      if (u2.haveItemsQueued() && !X.longStackTraces)
                        throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");
                      e4.prototype._captureStackTrace = t4, e4.prototype._attachExtraTrace = r3, n3.deactivateLongStackTraces(), u2.enableTrampoline(), X.longStackTraces = false;
                    }, e4.prototype._captureStackTrace = I, e4.prototype._attachExtraTrace = F, n3.activateLongStackTraces(), u2.disableTrampolineIfNecessary();
                  }
                }, e4.hasLongStackTraces = function() {
                  return X.longStackTraces && Y();
                };
                var j = function() {
                  try {
                    if ("function" == typeof CustomEvent) {
                      var t4 = new CustomEvent("CustomEvent");
                      return f.global.dispatchEvent(t4), function(t5, e5) {
                        var r3 = new CustomEvent(t5.toLowerCase(), { detail: e5, cancelable: true });
                        return !f.global.dispatchEvent(r3);
                      };
                    }
                    return "function" == typeof Event ? (t4 = new Event("CustomEvent"), f.global.dispatchEvent(t4), function(t5, e5) {
                      var r3 = new Event(t5.toLowerCase(), { cancelable: true });
                      return r3.detail = e5, !f.global.dispatchEvent(r3);
                    }) : ((t4 = document.createEvent("CustomEvent")).initCustomEvent("testingtheevent", false, true, {}), f.global.dispatchEvent(t4), function(t5, e5) {
                      var r3 = document.createEvent("CustomEvent");
                      return r3.initCustomEvent(t5.toLowerCase(), false, true, e5), !f.global.dispatchEvent(r3);
                    });
                  } catch (t5) {
                  }
                  return function() {
                    return false;
                  };
                }(), A = f.isNode ? function() {
                  return r2.emit.apply(r2, arguments);
                } : f.global ? function(t4) {
                  var e5 = "on" + t4.toLowerCase(), r3 = f.global[e5];
                  return !!r3 && (r3.apply(f.global, [].slice.call(arguments, 1)), true);
                } : function() {
                  return false;
                };
                function $(t4, e5) {
                  return { promise: e5 };
                }
                var E = { promiseCreated: $, promiseFulfilled: $, promiseRejected: $, promiseResolved: $, promiseCancelled: $, promiseChained: function(t4, e5, r3) {
                  return { promise: e5, child: r3 };
                }, warning: function(t4, e5) {
                  return { warning: e5 };
                }, unhandledRejection: function(t4, e5, r3) {
                  return { reason: e5, promise: r3 };
                }, rejectionHandled: $ }, P = function(t4) {
                  var e5 = false;
                  try {
                    e5 = A.apply(null, arguments);
                  } catch (t5) {
                    u2.throwLater(t5), e5 = true;
                  }
                  var r3 = false;
                  try {
                    r3 = j(t4, E[t4].apply(null, arguments));
                  } catch (t5) {
                    u2.throwLater(t5), r3 = true;
                  }
                  return r3 || e5;
                };
                function x() {
                  return false;
                }
                function T(t4, e5, r3) {
                  var n4 = this;
                  try {
                    t4(e5, r3, function(t5) {
                      if ("function" != typeof t5)
                        throw new TypeError("onCancel must be a function, got: " + f.toString(t5));
                      n4._attachCancellationCallback(t5);
                    });
                  } catch (t5) {
                    return t5;
                  }
                }
                function k(t4) {
                  if (!this._isCancellable())
                    return this;
                  var e5 = this._onCancel();
                  void 0 !== e5 ? f.isArray(e5) ? e5.push(t4) : this._setOnCancel([e5, t4]) : this._setOnCancel(t4);
                }
                function N() {
                  return this._onCancelField;
                }
                function B(t4) {
                  this._onCancelField = t4;
                }
                function C() {
                  this._cancellationParent = void 0, this._onCancelField = void 0;
                }
                function R(t4, e5) {
                  if (0 != (1 & e5)) {
                    this._cancellationParent = t4;
                    var r3 = t4._branchesRemainingToCancel;
                    void 0 === r3 && (r3 = 0), t4._branchesRemainingToCancel = r3 + 1;
                  }
                  0 != (2 & e5) && t4._isBound() && this._setBoundTo(t4._boundTo);
                }
                e4.config = function(t4) {
                  if ("longStackTraces" in (t4 = Object(t4)) && (t4.longStackTraces ? e4.longStackTraces() : !t4.longStackTraces && e4.hasLongStackTraces() && S()), "warnings" in t4) {
                    var r3 = t4.warnings;
                    X.warnings = !!r3, O = X.warnings, f.isObject(r3) && "wForgottenReturn" in r3 && (O = !!r3.wForgottenReturn);
                  }
                  if ("cancellation" in t4 && t4.cancellation && !X.cancellation) {
                    if (u2.haveItemsQueued())
                      throw new Error("cannot enable cancellation after promises are in use");
                    e4.prototype._clearCancellationData = C, e4.prototype._propagateFrom = R, e4.prototype._onCancel = N, e4.prototype._setOnCancel = B, e4.prototype._attachCancellationCallback = k, e4.prototype._execute = T, D = R, X.cancellation = true;
                  }
                  return "monitoring" in t4 && (t4.monitoring && !X.monitoring ? (X.monitoring = true, e4.prototype._fireEvent = P) : !t4.monitoring && X.monitoring && (X.monitoring = false, e4.prototype._fireEvent = x)), e4;
                }, e4.prototype._fireEvent = x, e4.prototype._execute = function(t4, e5, r3) {
                  try {
                    t4(e5, r3);
                  } catch (t5) {
                    return t5;
                  }
                }, e4.prototype._onCancel = function() {
                }, e4.prototype._setOnCancel = function(t4) {
                }, e4.prototype._attachCancellationCallback = function(t4) {
                }, e4.prototype._captureStackTrace = function() {
                }, e4.prototype._attachExtraTrace = function() {
                }, e4.prototype._clearCancellationData = function() {
                }, e4.prototype._propagateFrom = function(t4, e5) {
                };
                var D = function(t4, e5) {
                  0 != (2 & e5) && t4._isBound() && this._setBoundTo(t4._boundTo);
                };
                function M() {
                  var t4 = this._boundTo;
                  return void 0 !== t4 && t4 instanceof e4 ? t4.isFulfilled() ? t4.value() : void 0 : t4;
                }
                function I() {
                  this._trace = new J(this._peekContext());
                }
                function F(t4, e5) {
                  if (p(t4)) {
                    var r3 = this._trace;
                    if (void 0 !== r3 && e5 && (r3 = r3._parent), void 0 !== r3)
                      r3.attachExtraTrace(t4);
                    else if (!t4.__stackCleaned__) {
                      var n4 = V(t4);
                      f.notEnumerableProp(t4, "stack", n4.message + "\n" + n4.stack.join("\n")), f.notEnumerableProp(t4, "__stackCleaned__", true);
                    }
                  }
                }
                function L(t4, r3, n4) {
                  if (X.warnings) {
                    var o3, i4 = new l(t4);
                    if (r3)
                      n4._attachExtraTrace(i4);
                    else if (X.longStackTraces && (o3 = e4._peekContext()))
                      o3.attachExtraTrace(i4);
                    else {
                      var s3 = V(i4);
                      i4.stack = s3.message + "\n" + s3.stack.join("\n");
                    }
                    P("warning", i4) || q(i4, "", true);
                  }
                }
                function U(t4) {
                  for (var e5 = [], r3 = 0; r3 < t4.length; ++r3) {
                    var n4 = t4[r3], o3 = "    (No stack trace)" === n4 || _.test(n4), i4 = o3 && K(n4);
                    o3 && !i4 && (m && " " !== n4.charAt(0) && (n4 = "    " + n4), e5.push(n4));
                  }
                  return e5;
                }
                function V(t4) {
                  var e5 = t4.stack, r3 = t4.toString();
                  return e5 = "string" == typeof e5 && e5.length > 0 ? function(t5) {
                    for (var e6 = t5.stack.replace(/\s+$/g, "").split("\n"), r4 = 0; r4 < e6.length; ++r4) {
                      var n4 = e6[r4];
                      if ("    (No stack trace)" === n4 || _.test(n4))
                        break;
                    }
                    return r4 > 0 && "SyntaxError" != t5.name && (e6 = e6.slice(r4)), e6;
                  }(t4) : ["    (No stack trace)"], { message: r3, stack: "SyntaxError" == t4.name ? e5 : U(e5) };
                }
                function q(t4, e5, r3) {
                  if ("undefined" != typeof console) {
                    var n4;
                    if (f.isObject(t4)) {
                      var o3 = t4.stack;
                      n4 = e5 + v(o3, t4);
                    } else
                      n4 = e5 + String(t4);
                    "function" == typeof s2 ? s2(n4, r3) : "function" != typeof console.log && "object" !== c(console.log) || console.log(n4);
                  }
                }
                function W(t4, e5, r3, n4) {
                  var o3 = false;
                  try {
                    "function" == typeof e5 && (o3 = true, "rejectionHandled" === t4 ? e5(n4) : e5(r3, n4));
                  } catch (t5) {
                    u2.throwLater(t5);
                  }
                  "unhandledRejection" === t4 ? P(t4, r3, n4) || o3 || q(r3, "Unhandled rejection ") : P(t4, n4);
                }
                function H(t4) {
                  var e5;
                  if ("function" == typeof t4)
                    e5 = "[function " + (t4.name || "anonymous") + "]";
                  else {
                    if (e5 = t4 && "function" == typeof t4.toString ? t4.toString() : f.toString(t4), /\[object [a-zA-Z0-9$_]+\]/.test(e5))
                      try {
                        e5 = JSON.stringify(t4);
                      } catch (t5) {
                      }
                    0 === e5.length && (e5 = "(empty array)");
                  }
                  return "(<" + function(t5) {
                    return t5.length < 41 ? t5 : t5.substr(0, 38) + "...";
                  }(e5) + ">, no stack trace)";
                }
                function Y() {
                  return "function" == typeof G;
                }
                var K = function() {
                  return false;
                }, z = /[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;
                function Q(t4) {
                  var e5 = t4.match(z);
                  if (e5)
                    return { fileName: e5[1], line: parseInt(e5[2], 10) };
                }
                function J(t4) {
                  this._parent = t4, this._promisesCreated = 0;
                  var e5 = this._length = 1 + (void 0 === t4 ? 0 : t4._length);
                  G(this, J), e5 > 32 && this.uncycle();
                }
                f.inherits(J, Error), n3.CapturedTrace = J, J.prototype.uncycle = function() {
                  var t4 = this._length;
                  if (!(t4 < 2)) {
                    for (var e5 = [], r3 = {}, n4 = 0, o3 = this; void 0 !== o3; ++n4)
                      e5.push(o3), o3 = o3._parent;
                    for (n4 = (t4 = this._length = n4) - 1; n4 >= 0; --n4) {
                      var i4 = e5[n4].stack;
                      void 0 === r3[i4] && (r3[i4] = n4);
                    }
                    for (n4 = 0; n4 < t4; ++n4) {
                      var s3 = r3[e5[n4].stack];
                      if (void 0 !== s3 && s3 !== n4) {
                        s3 > 0 && (e5[s3 - 1]._parent = void 0, e5[s3 - 1]._length = 1), e5[n4]._parent = void 0, e5[n4]._length = 1;
                        var a3 = n4 > 0 ? e5[n4 - 1] : this;
                        s3 < t4 - 1 ? (a3._parent = e5[s3 + 1], a3._parent.uncycle(), a3._length = a3._parent._length + 1) : (a3._parent = void 0, a3._length = 1);
                        for (var u3 = a3._length + 1, c2 = n4 - 2; c2 >= 0; --c2)
                          e5[c2]._length = u3, u3++;
                        return;
                      }
                    }
                  }
                }, J.prototype.attachExtraTrace = function(t4) {
                  if (!t4.__stackCleaned__) {
                    this.uncycle();
                    for (var e5 = V(t4), r3 = e5.message, n4 = [e5.stack], o3 = this; void 0 !== o3; )
                      n4.push(U(o3.stack.split("\n"))), o3 = o3._parent;
                    !function(t5) {
                      for (var e6 = t5[0], r4 = 1; r4 < t5.length; ++r4) {
                        for (var n5 = t5[r4], o4 = e6.length - 1, i4 = e6[o4], s3 = -1, a3 = n5.length - 1; a3 >= 0; --a3)
                          if (n5[a3] === i4) {
                            s3 = a3;
                            break;
                          }
                        for (a3 = s3; a3 >= 0; --a3) {
                          var u3 = n5[a3];
                          if (e6[o4] !== u3)
                            break;
                          e6.pop(), o4--;
                        }
                        e6 = n5;
                      }
                    }(n4), function(t5) {
                      for (var e6 = 0; e6 < t5.length; ++e6)
                        (0 === t5[e6].length || e6 + 1 < t5.length && t5[e6][0] === t5[e6 + 1][0]) && (t5.splice(e6, 1), e6--);
                    }(n4), f.notEnumerableProp(t4, "stack", function(t5, e6) {
                      for (var r4 = 0; r4 < e6.length - 1; ++r4)
                        e6[r4].push("From previous event:"), e6[r4] = e6[r4].join("\n");
                      return r4 < e6.length && (e6[r4] = e6[r4].join("\n")), t5 + "\n" + e6.join("\n");
                    }(r3, n4)), f.notEnumerableProp(t4, "__stackCleaned__", true);
                  }
                };
                var G = function() {
                  var t4 = /^\s*at\s*/, e5 = function(t5, e6) {
                    return "string" == typeof t5 ? t5 : void 0 !== e6.name && void 0 !== e6.message ? e6.toString() : H(e6);
                  };
                  if ("number" == typeof Error.stackTraceLimit && "function" == typeof Error.captureStackTrace) {
                    Error.stackTraceLimit += 6, _ = t4, v = e5;
                    var r3 = Error.captureStackTrace;
                    return K = function(t5) {
                      return h.test(t5);
                    }, function(t5, e6) {
                      Error.stackTraceLimit += 6, r3(t5, e6), Error.stackTraceLimit -= 6;
                    };
                  }
                  var n4, o3 = new Error();
                  if ("string" == typeof o3.stack && o3.stack.split("\n")[0].indexOf("stackDetection@") >= 0)
                    return _ = /@/, v = e5, m = true, function(t5) {
                      t5.stack = new Error().stack;
                    };
                  try {
                    throw new Error();
                  } catch (t5) {
                    n4 = "stack" in t5;
                  }
                  return !("stack" in o3) && n4 && "number" == typeof Error.stackTraceLimit ? (_ = t4, v = e5, function(t5) {
                    Error.stackTraceLimit += 6;
                    try {
                      throw new Error();
                    } catch (e6) {
                      t5.stack = e6.stack;
                    }
                    Error.stackTraceLimit -= 6;
                  }) : (v = function(t5, e6) {
                    return "string" == typeof t5 ? t5 : "object" !== c(e6) && "function" != typeof e6 || void 0 === e6.name || void 0 === e6.message ? H(e6) : e6.toString();
                  }, null);
                }();
                "undefined" != typeof console && void 0 !== console.warn && (s2 = function(t4) {
                  console.warn(t4);
                }, f.isNode && r2.stderr.isTTY ? s2 = function(t4, e5) {
                  var r3 = e5 ? "\x1B[33m" : "\x1B[31m";
                  console.warn(r3 + t4 + "\x1B[0m\n");
                } : f.isNode || "string" != typeof new Error().stack || (s2 = function(t4, e5) {
                  console.warn("%c" + t4, e5 ? "color: darkorange" : "color: red");
                }));
                var X = { warnings: g, longStackTraces: false, cancellation: false, monitoring: false };
                return w && e4.longStackTraces(), { longStackTraces: function() {
                  return X.longStackTraces;
                }, warnings: function() {
                  return X.warnings;
                }, cancellation: function() {
                  return X.cancellation;
                }, monitoring: function() {
                  return X.monitoring;
                }, propagateFromFunction: function() {
                  return D;
                }, boundValueFunction: function() {
                  return M;
                }, checkForgottenReturns: function(t4, e5, r3, n4, o3) {
                  if (void 0 === t4 && null !== e5 && O) {
                    if (void 0 !== o3 && o3._returnedNonUndefined())
                      return;
                    if (0 == (65535 & n4._bitField))
                      return;
                    r3 && (r3 += " ");
                    var i4 = "", s3 = "";
                    if (e5._trace) {
                      for (var a3 = e5._trace.stack.split("\n"), u3 = U(a3), c2 = u3.length - 1; c2 >= 0; --c2) {
                        var l2 = u3[c2];
                        if (!y.test(l2)) {
                          var f2 = l2.match(d);
                          f2 && (i4 = "at " + f2[1] + ":" + f2[2] + ":" + f2[3] + " ");
                          break;
                        }
                      }
                      if (u3.length > 0) {
                        var p2 = u3[0];
                        for (c2 = 0; c2 < a3.length; ++c2)
                          if (a3[c2] === p2) {
                            c2 > 0 && (s3 = "\n" + a3[c2 - 1]);
                            break;
                          }
                      }
                    }
                    var h2 = "a promise was created in a " + r3 + "handler " + i4 + "but was not returned from it, see http://goo.gl/rRqMUw" + s3;
                    n4._warn(h2, true, e5);
                  }
                }, setBounds: function(t4, e5) {
                  if (Y()) {
                    for (var r3, n4, o3 = t4.stack.split("\n"), i4 = e5.stack.split("\n"), s3 = -1, a3 = -1, u3 = 0; u3 < o3.length; ++u3)
                      if (c2 = Q(o3[u3])) {
                        r3 = c2.fileName, s3 = c2.line;
                        break;
                      }
                    for (u3 = 0; u3 < i4.length; ++u3) {
                      var c2;
                      if (c2 = Q(i4[u3])) {
                        n4 = c2.fileName, a3 = c2.line;
                        break;
                      }
                    }
                    s3 < 0 || a3 < 0 || !r3 || !n4 || r3 !== n4 || s3 >= a3 || (K = function(t5) {
                      if (h.test(t5))
                        return true;
                      var e6 = Q(t5);
                      return !!(e6 && e6.fileName === r3 && s3 <= e6.line && e6.line <= a3);
                    });
                  }
                }, warn: L, deprecated: function(t4, e5) {
                  var r3 = t4 + " is deprecated and will be removed in a future version.";
                  return e5 && (r3 += " Use " + e5 + " instead."), L(r3);
                }, CapturedTrace: J, fireDomEvent: j, fireGlobalEvent: A };
              };
            }, { "./errors": 12, "./util": 36 }], 10: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(t4) {
                function e4() {
                  return this.value;
                }
                function r4() {
                  throw this.reason;
                }
                t4.prototype.return = t4.prototype.thenReturn = function(r5) {
                  return r5 instanceof t4 && r5.suppressUnhandledRejections(), this._then(e4, void 0, void 0, { value: r5 }, void 0);
                }, t4.prototype.throw = t4.prototype.thenThrow = function(t5) {
                  return this._then(r4, void 0, void 0, { reason: t5 }, void 0);
                }, t4.prototype.catchThrow = function(t5) {
                  if (arguments.length <= 1)
                    return this._then(void 0, r4, void 0, { reason: t5 }, void 0);
                  var e5 = arguments[1], n2 = function() {
                    throw e5;
                  };
                  return this.caught(t5, n2);
                }, t4.prototype.catchReturn = function(r5) {
                  if (arguments.length <= 1)
                    return r5 instanceof t4 && r5.suppressUnhandledRejections(), this._then(void 0, e4, void 0, { value: r5 }, void 0);
                  var n2 = arguments[1];
                  n2 instanceof t4 && n2.suppressUnhandledRejections();
                  var o2 = function() {
                    return n2;
                  };
                  return this.caught(r5, o2);
                };
              };
            }, {}], 11: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(t4, e4) {
                var r4 = t4.reduce, n2 = t4.all;
                function o2() {
                  return n2(this);
                }
                t4.prototype.each = function(t5) {
                  return r4(this, t5, e4, 0)._then(o2, void 0, void 0, this, void 0);
                }, t4.prototype.mapSeries = function(t5) {
                  return r4(this, t5, e4, e4);
                }, t4.each = function(t5, n3) {
                  return r4(t5, n3, e4, 0)._then(o2, void 0, void 0, t5, void 0);
                }, t4.mapSeries = function(t5, n3) {
                  return r4(t5, n3, e4, e4);
                };
              };
            }, {}], 12: [function(t3, e3, r3) {
              "use strict";
              var n2, o2, i3 = t3("./es5"), s2 = i3.freeze, a2 = t3("./util"), u2 = a2.inherits, c2 = a2.notEnumerableProp;
              function l(t4, e4) {
                function r4(n3) {
                  if (!(this instanceof r4))
                    return new r4(n3);
                  c2(this, "message", "string" == typeof n3 ? n3 : e4), c2(this, "name", t4), Error.captureStackTrace ? Error.captureStackTrace(this, this.constructor) : Error.call(this);
                }
                return u2(r4, Error), r4;
              }
              var f = l("Warning", "warning"), p = l("CancellationError", "cancellation error"), h = l("TimeoutError", "timeout error"), y = l("AggregateError", "aggregate error");
              try {
                n2 = TypeError, o2 = RangeError;
              } catch (t4) {
                n2 = l("TypeError", "type error"), o2 = l("RangeError", "range error");
              }
              for (var d = "join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "), _ = 0; _ < d.length; ++_)
                "function" == typeof Array.prototype[d[_]] && (y.prototype[d[_]] = Array.prototype[d[_]]);
              i3.defineProperty(y.prototype, "length", { value: 0, configurable: false, writable: true, enumerable: true }), y.prototype.isOperational = true;
              var v = 0;
              function m(t4) {
                if (!(this instanceof m))
                  return new m(t4);
                c2(this, "name", "OperationalError"), c2(this, "message", t4), this.cause = t4, this.isOperational = true, t4 instanceof Error ? (c2(this, "message", t4.message), c2(this, "stack", t4.stack)) : Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
              }
              y.prototype.toString = function() {
                var t4 = Array(4 * v + 1).join(" "), e4 = "\n" + t4 + "AggregateError of:\n";
                v++, t4 = Array(4 * v + 1).join(" ");
                for (var r4 = 0; r4 < this.length; ++r4) {
                  for (var n3 = this[r4] === this ? "[Circular AggregateError]" : this[r4] + "", o3 = n3.split("\n"), i4 = 0; i4 < o3.length; ++i4)
                    o3[i4] = t4 + o3[i4];
                  e4 += (n3 = o3.join("\n")) + "\n";
                }
                return v--, e4;
              }, u2(m, Error);
              var b = Error.__BluebirdErrorTypes__;
              b || (b = s2({ CancellationError: p, TimeoutError: h, OperationalError: m, RejectionError: m, AggregateError: y }), i3.defineProperty(Error, "__BluebirdErrorTypes__", { value: b, writable: false, enumerable: false, configurable: false })), e3.exports = { Error, TypeError: n2, RangeError: o2, CancellationError: b.CancellationError, OperationalError: b.OperationalError, TimeoutError: b.TimeoutError, AggregateError: b.AggregateError, Warning: f };
            }, { "./es5": 13, "./util": 36 }], 13: [function(t3, e3, r3) {
              var n2 = function() {
                "use strict";
                return void 0 === this;
              }();
              if (n2)
                e3.exports = { freeze: Object.freeze, defineProperty: Object.defineProperty, getDescriptor: Object.getOwnPropertyDescriptor, keys: Object.keys, names: Object.getOwnPropertyNames, getPrototypeOf: Object.getPrototypeOf, isArray: Array.isArray, isES5: n2, propertyIsWritable: function(t4, e4) {
                  var r4 = Object.getOwnPropertyDescriptor(t4, e4);
                  return !(r4 && !r4.writable && !r4.set);
                } };
              else {
                var o2 = {}.hasOwnProperty, i3 = {}.toString, s2 = {}.constructor.prototype, a2 = function(t4) {
                  var e4 = [];
                  for (var r4 in t4)
                    o2.call(t4, r4) && e4.push(r4);
                  return e4;
                };
                e3.exports = { isArray: function(t4) {
                  try {
                    return "[object Array]" === i3.call(t4);
                  } catch (t5) {
                    return false;
                  }
                }, keys: a2, names: a2, defineProperty: function(t4, e4, r4) {
                  return t4[e4] = r4.value, t4;
                }, getDescriptor: function(t4, e4) {
                  return { value: t4[e4] };
                }, freeze: function(t4) {
                  return t4;
                }, getPrototypeOf: function(t4) {
                  try {
                    return Object(t4).constructor.prototype;
                  } catch (t5) {
                    return s2;
                  }
                }, isES5: n2, propertyIsWritable: function() {
                  return true;
                } };
              }
            }, {}], 14: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(t4, e4) {
                var r4 = t4.map;
                t4.prototype.filter = function(t5, n2) {
                  return r4(this, t5, n2, e4);
                }, t4.filter = function(t5, n2, o2) {
                  return r4(t5, n2, o2, e4);
                };
              };
            }, {}], 15: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2) {
                var o2 = t3("./util"), i3 = e4.CancellationError, s2 = o2.errorObj, a2 = t3("./catch_filter")(n2);
                function u2(t4, e5, r5) {
                  this.promise = t4, this.type = e5, this.handler = r5, this.called = false, this.cancelPromise = null;
                }
                function c2(t4) {
                  this.finallyHandler = t4;
                }
                function l(t4, e5) {
                  return null != t4.cancelPromise && (arguments.length > 1 ? t4.cancelPromise._reject(e5) : t4.cancelPromise._cancel(), t4.cancelPromise = null, true);
                }
                function f() {
                  return h.call(this, this.promise._target()._settledValue());
                }
                function p(t4) {
                  if (!l(this, t4))
                    return s2.e = t4, s2;
                }
                function h(t4) {
                  var o3 = this.promise, a3 = this.handler;
                  if (!this.called) {
                    this.called = true;
                    var u3 = this.isFinallyHandler() ? a3.call(o3._boundValue()) : a3.call(o3._boundValue(), t4);
                    if (u3 === n2)
                      return u3;
                    if (void 0 !== u3) {
                      o3._setReturnedNonUndefined();
                      var h2 = r4(u3, o3);
                      if (h2 instanceof e4) {
                        if (null != this.cancelPromise) {
                          if (h2._isCancelled()) {
                            var y = new i3("late cancellation observer");
                            return o3._attachExtraTrace(y), s2.e = y, s2;
                          }
                          h2.isPending() && h2._attachCancellationCallback(new c2(this));
                        }
                        return h2._then(f, p, void 0, this, void 0);
                      }
                    }
                  }
                  return o3.isRejected() ? (l(this), s2.e = t4, s2) : (l(this), t4);
                }
                return u2.prototype.isFinallyHandler = function() {
                  return 0 === this.type;
                }, c2.prototype._resultCancelled = function() {
                  l(this.finallyHandler);
                }, e4.prototype._passThrough = function(t4, e5, r5, n3) {
                  return "function" != typeof t4 ? this.then() : this._then(r5, n3, void 0, new u2(this, e5, t4), void 0);
                }, e4.prototype.lastly = e4.prototype.finally = function(t4) {
                  return this._passThrough(t4, 0, h, h);
                }, e4.prototype.tap = function(t4) {
                  return this._passThrough(t4, 1, h);
                }, e4.prototype.tapCatch = function(t4) {
                  var r5 = arguments.length;
                  if (1 === r5)
                    return this._passThrough(t4, 1, void 0, h);
                  var n3, i4 = new Array(r5 - 1), s3 = 0;
                  for (n3 = 0; n3 < r5 - 1; ++n3) {
                    var u3 = arguments[n3];
                    if (!o2.isObject(u3))
                      return e4.reject(new TypeError("tapCatch statement predicate: expecting an object but got " + o2.classString(u3)));
                    i4[s3++] = u3;
                  }
                  i4.length = s3;
                  var c3 = arguments[n3];
                  return this._passThrough(a2(i4, c3, this), 1, void 0, h);
                }, u2;
              };
            }, { "./catch_filter": 7, "./util": 36 }], 16: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2, i3, s2) {
                var a2 = t3("./errors").TypeError, u2 = t3("./util"), c2 = u2.errorObj, l = u2.tryCatch, f = [];
                function p(t4, r5, o3, i4) {
                  if (s2.cancellation()) {
                    var a3 = new e4(n2), u3 = this._finallyPromise = new e4(n2);
                    this._promise = a3.lastly(function() {
                      return u3;
                    }), a3._captureStackTrace(), a3._setOnCancel(this);
                  } else
                    (this._promise = new e4(n2))._captureStackTrace();
                  this._stack = i4, this._generatorFunction = t4, this._receiver = r5, this._generator = void 0, this._yieldHandlers = "function" == typeof o3 ? [o3].concat(f) : f, this._yieldedPromise = null, this._cancellationPhase = false;
                }
                u2.inherits(p, i3), p.prototype._isResolved = function() {
                  return null === this._promise;
                }, p.prototype._cleanup = function() {
                  this._promise = this._generator = null, s2.cancellation() && null !== this._finallyPromise && (this._finallyPromise._fulfill(), this._finallyPromise = null);
                }, p.prototype._promiseCancelled = function() {
                  if (!this._isResolved()) {
                    var t4;
                    if (void 0 !== this._generator.return)
                      this._promise._pushContext(), t4 = l(this._generator.return).call(this._generator, void 0), this._promise._popContext();
                    else {
                      var r5 = new e4.CancellationError("generator .return() sentinel");
                      e4.coroutine.returnSentinel = r5, this._promise._attachExtraTrace(r5), this._promise._pushContext(), t4 = l(this._generator.throw).call(this._generator, r5), this._promise._popContext();
                    }
                    this._cancellationPhase = true, this._yieldedPromise = null, this._continue(t4);
                  }
                }, p.prototype._promiseFulfilled = function(t4) {
                  this._yieldedPromise = null, this._promise._pushContext();
                  var e5 = l(this._generator.next).call(this._generator, t4);
                  this._promise._popContext(), this._continue(e5);
                }, p.prototype._promiseRejected = function(t4) {
                  this._yieldedPromise = null, this._promise._attachExtraTrace(t4), this._promise._pushContext();
                  var e5 = l(this._generator.throw).call(this._generator, t4);
                  this._promise._popContext(), this._continue(e5);
                }, p.prototype._resultCancelled = function() {
                  if (this._yieldedPromise instanceof e4) {
                    var t4 = this._yieldedPromise;
                    this._yieldedPromise = null, t4.cancel();
                  }
                }, p.prototype.promise = function() {
                  return this._promise;
                }, p.prototype._run = function() {
                  this._generator = this._generatorFunction.call(this._receiver), this._receiver = this._generatorFunction = void 0, this._promiseFulfilled(void 0);
                }, p.prototype._continue = function(t4) {
                  var r5 = this._promise;
                  if (t4 === c2)
                    return this._cleanup(), this._cancellationPhase ? r5.cancel() : r5._rejectCallback(t4.e, false);
                  var n3 = t4.value;
                  if (true === t4.done)
                    return this._cleanup(), this._cancellationPhase ? r5.cancel() : r5._resolveCallback(n3);
                  var i4 = o2(n3, this._promise);
                  if (i4 instanceof e4 || null !== (i4 = function(t5, r6, n4) {
                    for (var i5 = 0; i5 < r6.length; ++i5) {
                      n4._pushContext();
                      var s4 = l(r6[i5])(t5);
                      if (n4._popContext(), s4 === c2) {
                        n4._pushContext();
                        var a3 = e4.reject(c2.e);
                        return n4._popContext(), a3;
                      }
                      var u3 = o2(s4, n4);
                      if (u3 instanceof e4)
                        return u3;
                    }
                    return null;
                  }(i4, this._yieldHandlers, this._promise))) {
                    var s3 = (i4 = i4._target())._bitField;
                    0 == (50397184 & s3) ? (this._yieldedPromise = i4, i4._proxy(this, null)) : 0 != (33554432 & s3) ? e4._async.invoke(this._promiseFulfilled, this, i4._value()) : 0 != (16777216 & s3) ? e4._async.invoke(this._promiseRejected, this, i4._reason()) : this._promiseCancelled();
                  } else
                    this._promiseRejected(new a2("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s", String(n3)) + "From coroutine:\n" + this._stack.split("\n").slice(1, -7).join("\n")));
                }, e4.coroutine = function(t4, e5) {
                  if ("function" != typeof t4)
                    throw new a2("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
                  var r5 = Object(e5).yieldHandler, n3 = p, o3 = new Error().stack;
                  return function() {
                    var e6 = t4.apply(this, arguments), i4 = new n3(void 0, void 0, r5, o3), s3 = i4.promise();
                    return i4._generator = e6, i4._promiseFulfilled(void 0), s3;
                  };
                }, e4.coroutine.addYieldHandler = function(t4) {
                  if ("function" != typeof t4)
                    throw new a2("expecting a function but got " + u2.classString(t4));
                  f.push(t4);
                }, e4.spawn = function(t4) {
                  if (s2.deprecated("Promise.spawn()", "Promise.coroutine()"), "function" != typeof t4)
                    return r4("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");
                  var n3 = new p(t4, this), o3 = n3.promise();
                  return n3._run(e4.spawn), o3;
                };
              };
            }, { "./errors": 12, "./util": 36 }], 17: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2, i3, s2) {
                var a2 = t3("./util");
                a2.canEvaluate, a2.tryCatch, a2.errorObj, e4.join = function() {
                  var t4, e5 = arguments.length - 1;
                  e5 > 0 && "function" == typeof arguments[e5] && (t4 = arguments[e5]);
                  var n3 = [].slice.call(arguments);
                  t4 && n3.pop();
                  var o3 = new r4(n3).promise();
                  return void 0 !== t4 ? o3.spread(t4) : o3;
                };
              };
            }, { "./util": 36 }], 18: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2, i3, s2) {
                var a2 = e4._getDomain, u2 = t3("./util"), l = u2.tryCatch, f = u2.errorObj, p = e4._async;
                function h(t4, e5, r5, n3) {
                  this.constructor$(t4), this._promise._captureStackTrace();
                  var o3 = a2();
                  this._callback = null === o3 ? e5 : u2.domainBind(o3, e5), this._preservedValues = n3 === i3 ? new Array(this.length()) : null, this._limit = r5, this._inFlight = 0, this._queue = [], p.invoke(this._asyncInit, this, void 0);
                }
                function y(t4, r5, o3, i4) {
                  if ("function" != typeof r5)
                    return n2("expecting a function but got " + u2.classString(r5));
                  var s3 = 0;
                  if (void 0 !== o3) {
                    if ("object" !== c(o3) || null === o3)
                      return e4.reject(new TypeError("options argument must be an object but it is " + u2.classString(o3)));
                    if ("number" != typeof o3.concurrency)
                      return e4.reject(new TypeError("'concurrency' must be a number but it is " + u2.classString(o3.concurrency)));
                    s3 = o3.concurrency;
                  }
                  return new h(t4, r5, s3 = "number" == typeof s3 && isFinite(s3) && s3 >= 1 ? s3 : 0, i4).promise();
                }
                u2.inherits(h, r4), h.prototype._asyncInit = function() {
                  this._init$(void 0, -2);
                }, h.prototype._init = function() {
                }, h.prototype._promiseFulfilled = function(t4, r5) {
                  var n3 = this._values, i4 = this.length(), a3 = this._preservedValues, u3 = this._limit;
                  if (r5 < 0) {
                    if (n3[r5 = -1 * r5 - 1] = t4, u3 >= 1 && (this._inFlight--, this._drainQueue(), this._isResolved()))
                      return true;
                  } else {
                    if (u3 >= 1 && this._inFlight >= u3)
                      return n3[r5] = t4, this._queue.push(r5), false;
                    null !== a3 && (a3[r5] = t4);
                    var c2 = this._promise, p2 = this._callback, h2 = c2._boundValue();
                    c2._pushContext();
                    var y2 = l(p2).call(h2, t4, r5, i4), d = c2._popContext();
                    if (s2.checkForgottenReturns(y2, d, null !== a3 ? "Promise.filter" : "Promise.map", c2), y2 === f)
                      return this._reject(y2.e), true;
                    var _ = o2(y2, this._promise);
                    if (_ instanceof e4) {
                      var v = (_ = _._target())._bitField;
                      if (0 == (50397184 & v))
                        return u3 >= 1 && this._inFlight++, n3[r5] = _, _._proxy(this, -1 * (r5 + 1)), false;
                      if (0 == (33554432 & v))
                        return 0 != (16777216 & v) ? (this._reject(_._reason()), true) : (this._cancel(), true);
                      y2 = _._value();
                    }
                    n3[r5] = y2;
                  }
                  return ++this._totalResolved >= i4 && (null !== a3 ? this._filter(n3, a3) : this._resolve(n3), true);
                }, h.prototype._drainQueue = function() {
                  for (var t4 = this._queue, e5 = this._limit, r5 = this._values; t4.length > 0 && this._inFlight < e5; ) {
                    if (this._isResolved())
                      return;
                    var n3 = t4.pop();
                    this._promiseFulfilled(r5[n3], n3);
                  }
                }, h.prototype._filter = function(t4, e5) {
                  for (var r5 = e5.length, n3 = new Array(r5), o3 = 0, i4 = 0; i4 < r5; ++i4)
                    t4[i4] && (n3[o3++] = e5[i4]);
                  n3.length = o3, this._resolve(n3);
                }, h.prototype.preservedValues = function() {
                  return this._preservedValues;
                }, e4.prototype.map = function(t4, e5) {
                  return y(this, t4, e5, null);
                }, e4.map = function(t4, e5, r5, n3) {
                  return y(t4, e5, r5, n3);
                };
              };
            }, { "./util": 36 }], 19: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2, i3) {
                var s2 = t3("./util"), a2 = s2.tryCatch;
                e4.method = function(t4) {
                  if ("function" != typeof t4)
                    throw new e4.TypeError("expecting a function but got " + s2.classString(t4));
                  return function() {
                    var n3 = new e4(r4);
                    n3._captureStackTrace(), n3._pushContext();
                    var o3 = a2(t4).apply(this, arguments), s3 = n3._popContext();
                    return i3.checkForgottenReturns(o3, s3, "Promise.method", n3), n3._resolveFromSyncValue(o3), n3;
                  };
                }, e4.attempt = e4.try = function(t4) {
                  if ("function" != typeof t4)
                    return o2("expecting a function but got " + s2.classString(t4));
                  var n3, u2 = new e4(r4);
                  if (u2._captureStackTrace(), u2._pushContext(), arguments.length > 1) {
                    i3.deprecated("calling Promise.try with more than 1 argument");
                    var c2 = arguments[1], l = arguments[2];
                    n3 = s2.isArray(c2) ? a2(t4).apply(l, c2) : a2(t4).call(l, c2);
                  } else
                    n3 = a2(t4)();
                  var f = u2._popContext();
                  return i3.checkForgottenReturns(n3, f, "Promise.try", u2), u2._resolveFromSyncValue(n3), u2;
                }, e4.prototype._resolveFromSyncValue = function(t4) {
                  t4 === s2.errorObj ? this._rejectCallback(t4.e, false) : this._resolveCallback(t4, true);
                };
              };
            }, { "./util": 36 }], 20: [function(t3, e3, r3) {
              "use strict";
              var n2 = t3("./util"), o2 = n2.maybeWrapAsError, i3 = t3("./errors").OperationalError, s2 = t3("./es5"), a2 = /^(?:name|message|stack|cause)$/;
              function u2(t4) {
                var e4;
                if (function(t5) {
                  return t5 instanceof Error && s2.getPrototypeOf(t5) === Error.prototype;
                }(t4)) {
                  (e4 = new i3(t4)).name = t4.name, e4.message = t4.message, e4.stack = t4.stack;
                  for (var r4 = s2.keys(t4), o3 = 0; o3 < r4.length; ++o3) {
                    var u3 = r4[o3];
                    a2.test(u3) || (e4[u3] = t4[u3]);
                  }
                  return e4;
                }
                return n2.markAsOriginatingFromRejection(t4), t4;
              }
              e3.exports = function(t4, e4) {
                return function(r4, n3) {
                  if (null !== t4) {
                    if (r4) {
                      var i4 = u2(o2(r4));
                      t4._attachExtraTrace(i4), t4._reject(i4);
                    } else if (e4) {
                      var s3 = [].slice.call(arguments, 1);
                      t4._fulfill(s3);
                    } else
                      t4._fulfill(n3);
                    t4 = null;
                  }
                };
              };
            }, { "./errors": 12, "./es5": 13, "./util": 36 }], 21: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4) {
                var r4 = t3("./util"), n2 = e4._async, o2 = r4.tryCatch, i3 = r4.errorObj;
                function s2(t4, e5) {
                  if (!r4.isArray(t4))
                    return a2.call(this, t4, e5);
                  var s3 = o2(e5).apply(this._boundValue(), [null].concat(t4));
                  s3 === i3 && n2.throwLater(s3.e);
                }
                function a2(t4, e5) {
                  var r5 = this._boundValue(), s3 = void 0 === t4 ? o2(e5).call(r5, null) : o2(e5).call(r5, null, t4);
                  s3 === i3 && n2.throwLater(s3.e);
                }
                function u2(t4, e5) {
                  if (!t4) {
                    var r5 = new Error(t4 + "");
                    r5.cause = t4, t4 = r5;
                  }
                  var s3 = o2(e5).call(this._boundValue(), t4);
                  s3 === i3 && n2.throwLater(s3.e);
                }
                e4.prototype.asCallback = e4.prototype.nodeify = function(t4, e5) {
                  if ("function" == typeof t4) {
                    var r5 = a2;
                    void 0 !== e5 && Object(e5).spread && (r5 = s2), this._then(r5, u2, void 0, this, t4);
                  }
                  return this;
                };
              };
            }, { "./util": 36 }], 22: [function(t3, e3, n2) {
              "use strict";
              e3.exports = function() {
                var n3 = function() {
                  return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n");
                }, o2 = function() {
                  return new x.PromiseInspection(this._target());
                }, i3 = function(t4) {
                  return x.reject(new y(t4));
                };
                function s2() {
                }
                var a2, u2 = {}, c2 = t3("./util");
                a2 = c2.isNode ? function() {
                  var t4 = r2.domain;
                  return void 0 === t4 && (t4 = null), t4;
                } : function() {
                  return null;
                }, c2.notEnumerableProp(x, "_getDomain", a2);
                var l = t3("./es5"), f = t3("./async"), p = new f();
                l.defineProperty(x, "_async", { value: p });
                var h = t3("./errors"), y = x.TypeError = h.TypeError;
                x.RangeError = h.RangeError;
                var d = x.CancellationError = h.CancellationError;
                x.TimeoutError = h.TimeoutError, x.OperationalError = h.OperationalError, x.RejectionError = h.OperationalError, x.AggregateError = h.AggregateError;
                var _ = function() {
                }, v = {}, m = {}, b = t3("./thenables")(x, _), g = t3("./promise_array")(x, _, b, i3, s2), w = t3("./context")(x), O = w.create, S = t3("./debuggability")(x, w), j = (S.CapturedTrace, t3("./finally")(x, b, m)), A = t3("./catch_filter")(m), $ = t3("./nodeback"), E = c2.errorObj, P = c2.tryCatch;
                function x(t4) {
                  t4 !== _ && function(t5, e4) {
                    if (null == t5 || t5.constructor !== x)
                      throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");
                    if ("function" != typeof e4)
                      throw new y("expecting a function but got " + c2.classString(e4));
                  }(this, t4), this._bitField = 0, this._fulfillmentHandler0 = void 0, this._rejectionHandler0 = void 0, this._promise0 = void 0, this._receiver0 = void 0, this._resolveFromExecutor(t4), this._promiseCreated(), this._fireEvent("promiseCreated", this);
                }
                function T(t4) {
                  this.promise._resolveCallback(t4);
                }
                function k(t4) {
                  this.promise._rejectCallback(t4, false);
                }
                function N(t4) {
                  var e4 = new x(_);
                  e4._fulfillmentHandler0 = t4, e4._rejectionHandler0 = t4, e4._promise0 = t4, e4._receiver0 = t4;
                }
                return x.prototype.toString = function() {
                  return "[object Promise]";
                }, x.prototype.caught = x.prototype.catch = function(t4) {
                  var e4 = arguments.length;
                  if (e4 > 1) {
                    var r3, n4 = new Array(e4 - 1), o3 = 0;
                    for (r3 = 0; r3 < e4 - 1; ++r3) {
                      var s3 = arguments[r3];
                      if (!c2.isObject(s3))
                        return i3("Catch statement predicate: expecting an object but got " + c2.classString(s3));
                      n4[o3++] = s3;
                    }
                    return n4.length = o3, t4 = arguments[r3], this.then(void 0, A(n4, t4, this));
                  }
                  return this.then(void 0, t4);
                }, x.prototype.reflect = function() {
                  return this._then(o2, o2, void 0, this, void 0);
                }, x.prototype.then = function(t4, e4) {
                  if (S.warnings() && arguments.length > 0 && "function" != typeof t4 && "function" != typeof e4) {
                    var r3 = ".then() only accepts functions but was passed: " + c2.classString(t4);
                    arguments.length > 1 && (r3 += ", " + c2.classString(e4)), this._warn(r3);
                  }
                  return this._then(t4, e4, void 0, void 0, void 0);
                }, x.prototype.done = function(t4, e4) {
                  this._then(t4, e4, void 0, void 0, void 0)._setIsFinal();
                }, x.prototype.spread = function(t4) {
                  return "function" != typeof t4 ? i3("expecting a function but got " + c2.classString(t4)) : this.all()._then(t4, void 0, void 0, v, void 0);
                }, x.prototype.toJSON = function() {
                  var t4 = { isFulfilled: false, isRejected: false, fulfillmentValue: void 0, rejectionReason: void 0 };
                  return this.isFulfilled() ? (t4.fulfillmentValue = this.value(), t4.isFulfilled = true) : this.isRejected() && (t4.rejectionReason = this.reason(), t4.isRejected = true), t4;
                }, x.prototype.all = function() {
                  return arguments.length > 0 && this._warn(".all() was passed arguments but it does not take any"), new g(this).promise();
                }, x.prototype.error = function(t4) {
                  return this.caught(c2.originatesFromRejection, t4);
                }, x.getNewLibraryCopy = e3.exports, x.is = function(t4) {
                  return t4 instanceof x;
                }, x.fromNode = x.fromCallback = function(t4) {
                  var e4 = new x(_);
                  e4._captureStackTrace();
                  var r3 = arguments.length > 1 && !!Object(arguments[1]).multiArgs, n4 = P(t4)($(e4, r3));
                  return n4 === E && e4._rejectCallback(n4.e, true), e4._isFateSealed() || e4._setAsyncGuaranteed(), e4;
                }, x.all = function(t4) {
                  return new g(t4).promise();
                }, x.cast = function(t4) {
                  var e4 = b(t4);
                  return e4 instanceof x || ((e4 = new x(_))._captureStackTrace(), e4._setFulfilled(), e4._rejectionHandler0 = t4), e4;
                }, x.resolve = x.fulfilled = x.cast, x.reject = x.rejected = function(t4) {
                  var e4 = new x(_);
                  return e4._captureStackTrace(), e4._rejectCallback(t4, true), e4;
                }, x.setScheduler = function(t4) {
                  if ("function" != typeof t4)
                    throw new y("expecting a function but got " + c2.classString(t4));
                  return p.setScheduler(t4);
                }, x.prototype._then = function(t4, e4, r3, n4, o3) {
                  var i4 = void 0 !== o3, s3 = i4 ? o3 : new x(_), u3 = this._target(), l2 = u3._bitField;
                  i4 || (s3._propagateFrom(this, 3), s3._captureStackTrace(), void 0 === n4 && 0 != (2097152 & this._bitField) && (n4 = 0 != (50397184 & l2) ? this._boundValue() : u3 === this ? void 0 : this._boundTo), this._fireEvent("promiseChained", this, s3));
                  var f2 = a2();
                  if (0 != (50397184 & l2)) {
                    var h2, y2, v2 = u3._settlePromiseCtx;
                    0 != (33554432 & l2) ? (y2 = u3._rejectionHandler0, h2 = t4) : 0 != (16777216 & l2) ? (y2 = u3._fulfillmentHandler0, h2 = e4, u3._unsetRejectionIsUnhandled()) : (v2 = u3._settlePromiseLateCancellationObserver, y2 = new d("late cancellation observer"), u3._attachExtraTrace(y2), h2 = e4), p.invoke(v2, u3, { handler: null === f2 ? h2 : "function" == typeof h2 && c2.domainBind(f2, h2), promise: s3, receiver: n4, value: y2 });
                  } else
                    u3._addCallbacks(t4, e4, s3, n4, f2);
                  return s3;
                }, x.prototype._length = function() {
                  return 65535 & this._bitField;
                }, x.prototype._isFateSealed = function() {
                  return 0 != (117506048 & this._bitField);
                }, x.prototype._isFollowing = function() {
                  return 67108864 == (67108864 & this._bitField);
                }, x.prototype._setLength = function(t4) {
                  this._bitField = -65536 & this._bitField | 65535 & t4;
                }, x.prototype._setFulfilled = function() {
                  this._bitField = 33554432 | this._bitField, this._fireEvent("promiseFulfilled", this);
                }, x.prototype._setRejected = function() {
                  this._bitField = 16777216 | this._bitField, this._fireEvent("promiseRejected", this);
                }, x.prototype._setFollowing = function() {
                  this._bitField = 67108864 | this._bitField, this._fireEvent("promiseResolved", this);
                }, x.prototype._setIsFinal = function() {
                  this._bitField = 4194304 | this._bitField;
                }, x.prototype._isFinal = function() {
                  return (4194304 & this._bitField) > 0;
                }, x.prototype._unsetCancelled = function() {
                  this._bitField = -65537 & this._bitField;
                }, x.prototype._setCancelled = function() {
                  this._bitField = 65536 | this._bitField, this._fireEvent("promiseCancelled", this);
                }, x.prototype._setWillBeCancelled = function() {
                  this._bitField = 8388608 | this._bitField;
                }, x.prototype._setAsyncGuaranteed = function() {
                  p.hasCustomScheduler() || (this._bitField = 134217728 | this._bitField);
                }, x.prototype._receiverAt = function(t4) {
                  var e4 = 0 === t4 ? this._receiver0 : this[4 * t4 - 4 + 3];
                  if (e4 !== u2)
                    return void 0 === e4 && this._isBound() ? this._boundValue() : e4;
                }, x.prototype._promiseAt = function(t4) {
                  return this[4 * t4 - 4 + 2];
                }, x.prototype._fulfillmentHandlerAt = function(t4) {
                  return this[4 * t4 - 4 + 0];
                }, x.prototype._rejectionHandlerAt = function(t4) {
                  return this[4 * t4 - 4 + 1];
                }, x.prototype._boundValue = function() {
                }, x.prototype._migrateCallback0 = function(t4) {
                  t4._bitField;
                  var e4 = t4._fulfillmentHandler0, r3 = t4._rejectionHandler0, n4 = t4._promise0, o3 = t4._receiverAt(0);
                  void 0 === o3 && (o3 = u2), this._addCallbacks(e4, r3, n4, o3, null);
                }, x.prototype._migrateCallbackAt = function(t4, e4) {
                  var r3 = t4._fulfillmentHandlerAt(e4), n4 = t4._rejectionHandlerAt(e4), o3 = t4._promiseAt(e4), i4 = t4._receiverAt(e4);
                  void 0 === i4 && (i4 = u2), this._addCallbacks(r3, n4, o3, i4, null);
                }, x.prototype._addCallbacks = function(t4, e4, r3, n4, o3) {
                  var i4 = this._length();
                  if (i4 >= 65531 && (i4 = 0, this._setLength(0)), 0 === i4)
                    this._promise0 = r3, this._receiver0 = n4, "function" == typeof t4 && (this._fulfillmentHandler0 = null === o3 ? t4 : c2.domainBind(o3, t4)), "function" == typeof e4 && (this._rejectionHandler0 = null === o3 ? e4 : c2.domainBind(o3, e4));
                  else {
                    var s3 = 4 * i4 - 4;
                    this[s3 + 2] = r3, this[s3 + 3] = n4, "function" == typeof t4 && (this[s3 + 0] = null === o3 ? t4 : c2.domainBind(o3, t4)), "function" == typeof e4 && (this[s3 + 1] = null === o3 ? e4 : c2.domainBind(o3, e4));
                  }
                  return this._setLength(i4 + 1), i4;
                }, x.prototype._proxy = function(t4, e4) {
                  this._addCallbacks(void 0, void 0, e4, t4, null);
                }, x.prototype._resolveCallback = function(t4, e4) {
                  if (0 == (117506048 & this._bitField)) {
                    if (t4 === this)
                      return this._rejectCallback(n3(), false);
                    var r3 = b(t4, this);
                    if (!(r3 instanceof x))
                      return this._fulfill(t4);
                    e4 && this._propagateFrom(r3, 2);
                    var o3 = r3._target();
                    if (o3 !== this) {
                      var i4 = o3._bitField;
                      if (0 == (50397184 & i4)) {
                        var s3 = this._length();
                        s3 > 0 && o3._migrateCallback0(this);
                        for (var a3 = 1; a3 < s3; ++a3)
                          o3._migrateCallbackAt(this, a3);
                        this._setFollowing(), this._setLength(0), this._setFollowee(o3);
                      } else if (0 != (33554432 & i4))
                        this._fulfill(o3._value());
                      else if (0 != (16777216 & i4))
                        this._reject(o3._reason());
                      else {
                        var u3 = new d("late cancellation observer");
                        o3._attachExtraTrace(u3), this._reject(u3);
                      }
                    } else
                      this._reject(n3());
                  }
                }, x.prototype._rejectCallback = function(t4, e4, r3) {
                  var n4 = c2.ensureErrorObject(t4), o3 = n4 === t4;
                  if (!o3 && !r3 && S.warnings()) {
                    var i4 = "a promise was rejected with a non-error: " + c2.classString(t4);
                    this._warn(i4, true);
                  }
                  this._attachExtraTrace(n4, !!e4 && o3), this._reject(t4);
                }, x.prototype._resolveFromExecutor = function(t4) {
                  if (t4 !== _) {
                    var e4 = this;
                    this._captureStackTrace(), this._pushContext();
                    var r3 = true, n4 = this._execute(t4, function(t5) {
                      e4._resolveCallback(t5);
                    }, function(t5) {
                      e4._rejectCallback(t5, r3);
                    });
                    r3 = false, this._popContext(), void 0 !== n4 && e4._rejectCallback(n4, true);
                  }
                }, x.prototype._settlePromiseFromHandler = function(t4, e4, r3, n4) {
                  var o3 = n4._bitField;
                  if (0 == (65536 & o3)) {
                    var i4;
                    n4._pushContext(), e4 === v ? r3 && "number" == typeof r3.length ? i4 = P(t4).apply(this._boundValue(), r3) : (i4 = E).e = new y("cannot .spread() a non-array: " + c2.classString(r3)) : i4 = P(t4).call(e4, r3);
                    var s3 = n4._popContext();
                    0 == (65536 & (o3 = n4._bitField)) && (i4 === m ? n4._reject(r3) : i4 === E ? n4._rejectCallback(i4.e, false) : (S.checkForgottenReturns(i4, s3, "", n4, this), n4._resolveCallback(i4)));
                  }
                }, x.prototype._target = function() {
                  for (var t4 = this; t4._isFollowing(); )
                    t4 = t4._followee();
                  return t4;
                }, x.prototype._followee = function() {
                  return this._rejectionHandler0;
                }, x.prototype._setFollowee = function(t4) {
                  this._rejectionHandler0 = t4;
                }, x.prototype._settlePromise = function(t4, e4, r3, n4) {
                  var i4 = t4 instanceof x, a3 = this._bitField, u3 = 0 != (134217728 & a3);
                  0 != (65536 & a3) ? (i4 && t4._invokeInternalOnCancel(), r3 instanceof j && r3.isFinallyHandler() ? (r3.cancelPromise = t4, P(e4).call(r3, n4) === E && t4._reject(E.e)) : e4 === o2 ? t4._fulfill(o2.call(r3)) : r3 instanceof s2 ? r3._promiseCancelled(t4) : i4 || t4 instanceof g ? t4._cancel() : r3.cancel()) : "function" == typeof e4 ? i4 ? (u3 && t4._setAsyncGuaranteed(), this._settlePromiseFromHandler(e4, r3, n4, t4)) : e4.call(r3, n4, t4) : r3 instanceof s2 ? r3._isResolved() || (0 != (33554432 & a3) ? r3._promiseFulfilled(n4, t4) : r3._promiseRejected(n4, t4)) : i4 && (u3 && t4._setAsyncGuaranteed(), 0 != (33554432 & a3) ? t4._fulfill(n4) : t4._reject(n4));
                }, x.prototype._settlePromiseLateCancellationObserver = function(t4) {
                  var e4 = t4.handler, r3 = t4.promise, n4 = t4.receiver, o3 = t4.value;
                  "function" == typeof e4 ? r3 instanceof x ? this._settlePromiseFromHandler(e4, n4, o3, r3) : e4.call(n4, o3, r3) : r3 instanceof x && r3._reject(o3);
                }, x.prototype._settlePromiseCtx = function(t4) {
                  this._settlePromise(t4.promise, t4.handler, t4.receiver, t4.value);
                }, x.prototype._settlePromise0 = function(t4, e4, r3) {
                  var n4 = this._promise0, o3 = this._receiverAt(0);
                  this._promise0 = void 0, this._receiver0 = void 0, this._settlePromise(n4, t4, o3, e4);
                }, x.prototype._clearCallbackDataAtIndex = function(t4) {
                  var e4 = 4 * t4 - 4;
                  this[e4 + 2] = this[e4 + 3] = this[e4 + 0] = this[e4 + 1] = void 0;
                }, x.prototype._fulfill = function(t4) {
                  var e4 = this._bitField;
                  if (!((117506048 & e4) >>> 16)) {
                    if (t4 === this) {
                      var r3 = n3();
                      return this._attachExtraTrace(r3), this._reject(r3);
                    }
                    this._setFulfilled(), this._rejectionHandler0 = t4, (65535 & e4) > 0 && (0 != (134217728 & e4) ? this._settlePromises() : p.settlePromises(this));
                  }
                }, x.prototype._reject = function(t4) {
                  var e4 = this._bitField;
                  if (!((117506048 & e4) >>> 16)) {
                    if (this._setRejected(), this._fulfillmentHandler0 = t4, this._isFinal())
                      return p.fatalError(t4, c2.isNode);
                    (65535 & e4) > 0 ? p.settlePromises(this) : this._ensurePossibleRejectionHandled();
                  }
                }, x.prototype._fulfillPromises = function(t4, e4) {
                  for (var r3 = 1; r3 < t4; r3++) {
                    var n4 = this._fulfillmentHandlerAt(r3), o3 = this._promiseAt(r3), i4 = this._receiverAt(r3);
                    this._clearCallbackDataAtIndex(r3), this._settlePromise(o3, n4, i4, e4);
                  }
                }, x.prototype._rejectPromises = function(t4, e4) {
                  for (var r3 = 1; r3 < t4; r3++) {
                    var n4 = this._rejectionHandlerAt(r3), o3 = this._promiseAt(r3), i4 = this._receiverAt(r3);
                    this._clearCallbackDataAtIndex(r3), this._settlePromise(o3, n4, i4, e4);
                  }
                }, x.prototype._settlePromises = function() {
                  var t4 = this._bitField, e4 = 65535 & t4;
                  if (e4 > 0) {
                    if (0 != (16842752 & t4)) {
                      var r3 = this._fulfillmentHandler0;
                      this._settlePromise0(this._rejectionHandler0, r3, t4), this._rejectPromises(e4, r3);
                    } else {
                      var n4 = this._rejectionHandler0;
                      this._settlePromise0(this._fulfillmentHandler0, n4, t4), this._fulfillPromises(e4, n4);
                    }
                    this._setLength(0);
                  }
                  this._clearCancellationData();
                }, x.prototype._settledValue = function() {
                  var t4 = this._bitField;
                  return 0 != (33554432 & t4) ? this._rejectionHandler0 : 0 != (16777216 & t4) ? this._fulfillmentHandler0 : void 0;
                }, x.defer = x.pending = function() {
                  return S.deprecated("Promise.defer", "new Promise"), { promise: new x(_), resolve: T, reject: k };
                }, c2.notEnumerableProp(x, "_makeSelfResolutionError", n3), t3("./method")(x, _, b, i3, S), t3("./bind")(x, _, b, S), t3("./cancel")(x, g, i3, S), t3("./direct_resolve")(x), t3("./synchronous_inspection")(x), t3("./join")(x, g, b, _, p, a2), x.Promise = x, x.version = "3.5.1", t3("./map.js")(x, g, i3, b, _, S), t3("./call_get.js")(x), t3("./using.js")(x, i3, b, O, _, S), t3("./timers.js")(x, _, S), t3("./generators.js")(x, i3, _, b, s2, S), t3("./nodeify.js")(x), t3("./promisify.js")(x, _), t3("./props.js")(x, g, b, i3), t3("./race.js")(x, _, b, i3), t3("./reduce.js")(x, g, i3, b, _, S), t3("./settle.js")(x, g, S), t3("./some.js")(x, g, i3), t3("./filter.js")(x, _), t3("./each.js")(x, _), t3("./any.js")(x), c2.toFastProperties(x), c2.toFastProperties(x.prototype), N({ a: 1 }), N({ b: 2 }), N({ c: 3 }), N(1), N(function() {
                }), N(void 0), N(false), N(new x(_)), S.setBounds(f.firstLineError, c2.lastLineError), x;
              };
            }, { "./any.js": 1, "./async": 2, "./bind": 3, "./call_get.js": 5, "./cancel": 6, "./catch_filter": 7, "./context": 8, "./debuggability": 9, "./direct_resolve": 10, "./each.js": 11, "./errors": 12, "./es5": 13, "./filter.js": 14, "./finally": 15, "./generators.js": 16, "./join": 17, "./map.js": 18, "./method": 19, "./nodeback": 20, "./nodeify.js": 21, "./promise_array": 23, "./promisify.js": 24, "./props.js": 25, "./race.js": 27, "./reduce.js": 28, "./settle.js": 30, "./some.js": 31, "./synchronous_inspection": 32, "./thenables": 33, "./timers.js": 34, "./using.js": 35, "./util": 36 }], 23: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2, i3) {
                var s2 = t3("./util");
                function a2(t4) {
                  var n3 = this._promise = new e4(r4);
                  t4 instanceof e4 && n3._propagateFrom(t4, 3), n3._setOnCancel(this), this._values = t4, this._length = 0, this._totalResolved = 0, this._init(void 0, -2);
                }
                return s2.isArray, s2.inherits(a2, i3), a2.prototype.length = function() {
                  return this._length;
                }, a2.prototype.promise = function() {
                  return this._promise;
                }, a2.prototype._init = function t4(r5, i4) {
                  var a3 = n2(this._values, this._promise);
                  if (a3 instanceof e4) {
                    var u2 = (a3 = a3._target())._bitField;
                    if (this._values = a3, 0 == (50397184 & u2))
                      return this._promise._setAsyncGuaranteed(), a3._then(t4, this._reject, void 0, this, i4);
                    if (0 == (33554432 & u2))
                      return 0 != (16777216 & u2) ? this._reject(a3._reason()) : this._cancel();
                    a3 = a3._value();
                  }
                  if (null !== (a3 = s2.asArray(a3)))
                    0 !== a3.length ? this._iterate(a3) : -5 === i4 ? this._resolveEmptyArray() : this._resolve(function(t5) {
                      switch (t5) {
                        case -2:
                          return [];
                        case -3:
                          return {};
                        case -6:
                          return /* @__PURE__ */ new Map();
                      }
                    }(i4));
                  else {
                    var c2 = o2("expecting an array or an iterable object but got " + s2.classString(a3)).reason();
                    this._promise._rejectCallback(c2, false);
                  }
                }, a2.prototype._iterate = function(t4) {
                  var r5 = this.getActualLength(t4.length);
                  this._length = r5, this._values = this.shouldCopyValues() ? new Array(r5) : this._values;
                  for (var o3 = this._promise, i4 = false, s3 = null, a3 = 0; a3 < r5; ++a3) {
                    var u2 = n2(t4[a3], o3);
                    s3 = u2 instanceof e4 ? (u2 = u2._target())._bitField : null, i4 ? null !== s3 && u2.suppressUnhandledRejections() : null !== s3 ? 0 == (50397184 & s3) ? (u2._proxy(this, a3), this._values[a3] = u2) : i4 = 0 != (33554432 & s3) ? this._promiseFulfilled(u2._value(), a3) : 0 != (16777216 & s3) ? this._promiseRejected(u2._reason(), a3) : this._promiseCancelled(a3) : i4 = this._promiseFulfilled(u2, a3);
                  }
                  i4 || o3._setAsyncGuaranteed();
                }, a2.prototype._isResolved = function() {
                  return null === this._values;
                }, a2.prototype._resolve = function(t4) {
                  this._values = null, this._promise._fulfill(t4);
                }, a2.prototype._cancel = function() {
                  !this._isResolved() && this._promise._isCancellable() && (this._values = null, this._promise._cancel());
                }, a2.prototype._reject = function(t4) {
                  this._values = null, this._promise._rejectCallback(t4, false);
                }, a2.prototype._promiseFulfilled = function(t4, e5) {
                  return this._values[e5] = t4, ++this._totalResolved >= this._length && (this._resolve(this._values), true);
                }, a2.prototype._promiseCancelled = function() {
                  return this._cancel(), true;
                }, a2.prototype._promiseRejected = function(t4) {
                  return this._totalResolved++, this._reject(t4), true;
                }, a2.prototype._resultCancelled = function() {
                  if (!this._isResolved()) {
                    var t4 = this._values;
                    if (this._cancel(), t4 instanceof e4)
                      t4.cancel();
                    else
                      for (var r5 = 0; r5 < t4.length; ++r5)
                        t4[r5] instanceof e4 && t4[r5].cancel();
                  }
                }, a2.prototype.shouldCopyValues = function() {
                  return true;
                }, a2.prototype.getActualLength = function(t4) {
                  return t4;
                }, a2;
              };
            }, { "./util": 36 }], 24: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4) {
                var n2 = {}, o2 = t3("./util"), i3 = t3("./nodeback"), s2 = o2.withAppended, a2 = o2.maybeWrapAsError, u2 = o2.canEvaluate, l = t3("./errors").TypeError, f = { __isPromisified__: true }, p = new RegExp("^(?:" + ["arity", "length", "name", "arguments", "caller", "callee", "prototype", "__isPromisified__"].join("|") + ")$"), h = function(t4) {
                  return o2.isIdentifier(t4) && "_" !== t4.charAt(0) && "constructor" !== t4;
                };
                function y(t4) {
                  return !p.test(t4);
                }
                function d(t4) {
                  try {
                    return true === t4.__isPromisified__;
                  } catch (t5) {
                    return false;
                  }
                }
                function _(t4, e5, r5) {
                  var n3 = o2.getDataPropertyOrDefault(t4, e5 + r5, f);
                  return !!n3 && d(n3);
                }
                function v(t4, e5, r5, n3) {
                  for (var i4 = o2.inheritedDataKeys(t4), s3 = [], a3 = 0; a3 < i4.length; ++a3) {
                    var u3 = i4[a3], c2 = t4[u3], f2 = n3 === h || h(u3);
                    "function" != typeof c2 || d(c2) || _(t4, u3, e5) || !n3(u3, c2, t4, f2) || s3.push(u3, c2);
                  }
                  return function(t5, e6, r6) {
                    for (var n4 = 0; n4 < t5.length; n4 += 2) {
                      var o3 = t5[n4];
                      if (r6.test(o3)) {
                        for (var i5 = o3.replace(r6, ""), s4 = 0; s4 < t5.length; s4 += 2)
                          if (t5[s4] === i5)
                            throw new l("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s", e6));
                      }
                    }
                  }(s3, e5, r5), s3;
                }
                var m = u2 ? void 0 : function(t4, u3, c2, l2, f2, p2) {
                  var h2 = function() {
                    return this;
                  }(), y2 = t4;
                  function d2() {
                    var o3 = u3;
                    u3 === n2 && (o3 = this);
                    var c3 = new e4(r4);
                    c3._captureStackTrace();
                    var l3 = "string" == typeof y2 && this !== h2 ? this[y2] : t4, f3 = i3(c3, p2);
                    try {
                      l3.apply(o3, s2(arguments, f3));
                    } catch (t5) {
                      c3._rejectCallback(a2(t5), true, true);
                    }
                    return c3._isFateSealed() || c3._setAsyncGuaranteed(), c3;
                  }
                  return "string" == typeof y2 && (t4 = l2), o2.notEnumerableProp(d2, "__isPromisified__", true), d2;
                };
                function b(t4, e5, r5, i4, s3) {
                  for (var a3 = new RegExp(e5.replace(/([$])/, "\\$") + "$"), u3 = v(t4, e5, a3, r5), c2 = 0, l2 = u3.length; c2 < l2; c2 += 2) {
                    var f2 = u3[c2], p2 = u3[c2 + 1], h2 = f2 + e5;
                    if (i4 === m)
                      t4[h2] = m(f2, n2, f2, p2, e5, s3);
                    else {
                      var y2 = i4(p2, function() {
                        return m(f2, n2, f2, p2, e5, s3);
                      });
                      o2.notEnumerableProp(y2, "__isPromisified__", true), t4[h2] = y2;
                    }
                  }
                  return o2.toFastProperties(t4), t4;
                }
                e4.promisify = function(t4, e5) {
                  if ("function" != typeof t4)
                    throw new l("expecting a function but got " + o2.classString(t4));
                  if (d(t4))
                    return t4;
                  var r5 = function(t5, e6, r6) {
                    return m(t5, e6, void 0, t5, null, r6);
                  }(t4, void 0 === (e5 = Object(e5)).context ? n2 : e5.context, !!e5.multiArgs);
                  return o2.copyDescriptors(t4, r5, y), r5;
                }, e4.promisifyAll = function(t4, e5) {
                  if ("function" != typeof t4 && "object" !== c(t4))
                    throw new l("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");
                  var r5 = !!(e5 = Object(e5)).multiArgs, n3 = e5.suffix;
                  "string" != typeof n3 && (n3 = "Async");
                  var i4 = e5.filter;
                  "function" != typeof i4 && (i4 = h);
                  var s3 = e5.promisifier;
                  if ("function" != typeof s3 && (s3 = m), !o2.isIdentifier(n3))
                    throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");
                  for (var a3 = o2.inheritedDataKeys(t4), u3 = 0; u3 < a3.length; ++u3) {
                    var f2 = t4[a3[u3]];
                    "constructor" !== a3[u3] && o2.isClass(f2) && (b(f2.prototype, n3, i4, s3, r5), b(f2, n3, i4, s3, r5));
                  }
                  return b(t4, n3, i4, s3, r5);
                };
              };
            }, { "./errors": 12, "./nodeback": 20, "./util": 36 }], 25: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2) {
                var i3, s2 = t3("./util"), a2 = s2.isObject, u2 = t3("./es5");
                "function" == typeof Map && (i3 = Map);
                var c2 = function() {
                  var t4 = 0, e5 = 0;
                  function r5(r6, n3) {
                    this[t4] = r6, this[t4 + e5] = n3, t4++;
                  }
                  return function(n3) {
                    e5 = n3.size, t4 = 0;
                    var o3 = new Array(2 * n3.size);
                    return n3.forEach(r5, o3), o3;
                  };
                }();
                function l(t4) {
                  var e5, r5 = false;
                  if (void 0 !== i3 && t4 instanceof i3)
                    e5 = c2(t4), r5 = true;
                  else {
                    var n3 = u2.keys(t4), o3 = n3.length;
                    e5 = new Array(2 * o3);
                    for (var s3 = 0; s3 < o3; ++s3) {
                      var a3 = n3[s3];
                      e5[s3] = t4[a3], e5[s3 + o3] = a3;
                    }
                  }
                  this.constructor$(e5), this._isMap = r5, this._init$(void 0, r5 ? -6 : -3);
                }
                function f(t4) {
                  var r5, i4 = n2(t4);
                  return a2(i4) ? (r5 = i4 instanceof e4 ? i4._then(e4.props, void 0, void 0, void 0, void 0) : new l(i4).promise(), i4 instanceof e4 && r5._propagateFrom(i4, 2), r5) : o2("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n");
                }
                s2.inherits(l, r4), l.prototype._init = function() {
                }, l.prototype._promiseFulfilled = function(t4, e5) {
                  if (this._values[e5] = t4, ++this._totalResolved >= this._length) {
                    var r5;
                    if (this._isMap)
                      r5 = function(t5) {
                        for (var e6 = new i3(), r6 = t5.length / 2 | 0, n4 = 0; n4 < r6; ++n4) {
                          var o4 = t5[r6 + n4], s4 = t5[n4];
                          e6.set(o4, s4);
                        }
                        return e6;
                      }(this._values);
                    else {
                      r5 = {};
                      for (var n3 = this.length(), o3 = 0, s3 = this.length(); o3 < s3; ++o3)
                        r5[this._values[o3 + n3]] = this._values[o3];
                    }
                    return this._resolve(r5), true;
                  }
                  return false;
                }, l.prototype.shouldCopyValues = function() {
                  return false;
                }, l.prototype.getActualLength = function(t4) {
                  return t4 >> 1;
                }, e4.prototype.props = function() {
                  return f(this);
                }, e4.props = function(t4) {
                  return f(t4);
                };
              };
            }, { "./es5": 13, "./util": 36 }], 26: [function(t3, e3, r3) {
              "use strict";
              function n2(t4) {
                this._capacity = t4, this._length = 0, this._front = 0;
              }
              n2.prototype._willBeOverCapacity = function(t4) {
                return this._capacity < t4;
              }, n2.prototype._pushOne = function(t4) {
                var e4 = this.length();
                this._checkCapacity(e4 + 1), this[this._front + e4 & this._capacity - 1] = t4, this._length = e4 + 1;
              }, n2.prototype.push = function(t4, e4, r4) {
                var n3 = this.length() + 3;
                if (this._willBeOverCapacity(n3))
                  return this._pushOne(t4), this._pushOne(e4), void this._pushOne(r4);
                var o2 = this._front + n3 - 3;
                this._checkCapacity(n3);
                var i3 = this._capacity - 1;
                this[o2 + 0 & i3] = t4, this[o2 + 1 & i3] = e4, this[o2 + 2 & i3] = r4, this._length = n3;
              }, n2.prototype.shift = function() {
                var t4 = this._front, e4 = this[t4];
                return this[t4] = void 0, this._front = t4 + 1 & this._capacity - 1, this._length--, e4;
              }, n2.prototype.length = function() {
                return this._length;
              }, n2.prototype._checkCapacity = function(t4) {
                this._capacity < t4 && this._resizeTo(this._capacity << 1);
              }, n2.prototype._resizeTo = function(t4) {
                var e4 = this._capacity;
                this._capacity = t4, function(t5, e5, r4, n3, o2) {
                  for (var i3 = 0; i3 < o2; ++i3)
                    r4[i3 + n3] = t5[i3 + e5], t5[i3 + e5] = void 0;
                }(this, 0, this, e4, this._front + this._length & e4 - 1);
              }, e3.exports = n2;
            }, {}], 27: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2) {
                var i3 = t3("./util");
                function s2(t4, a2) {
                  var u2, c2 = n2(t4);
                  if (c2 instanceof e4)
                    return (u2 = c2).then(function(t5) {
                      return s2(t5, u2);
                    });
                  if (null === (t4 = i3.asArray(t4)))
                    return o2("expecting an array or an iterable object but got " + i3.classString(t4));
                  var l = new e4(r4);
                  void 0 !== a2 && l._propagateFrom(a2, 3);
                  for (var f = l._fulfill, p = l._reject, h = 0, y = t4.length; h < y; ++h) {
                    var d = t4[h];
                    (void 0 !== d || h in t4) && e4.cast(d)._then(f, p, void 0, l, null);
                  }
                  return l;
                }
                e4.race = function(t4) {
                  return s2(t4, void 0);
                }, e4.prototype.race = function() {
                  return s2(this, void 0);
                };
              };
            }, { "./util": 36 }], 28: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2, i3, s2) {
                var a2 = e4._getDomain, u2 = t3("./util"), c2 = u2.tryCatch;
                function l(t4, r5, n3, o3) {
                  this.constructor$(t4);
                  var s3 = a2();
                  this._fn = null === s3 ? r5 : u2.domainBind(s3, r5), void 0 !== n3 && (n3 = e4.resolve(n3))._attachCancellationCallback(this), this._initialValue = n3, this._currentCancellable = null, this._eachValues = o3 === i3 ? Array(this._length) : 0 === o3 ? null : void 0, this._promise._captureStackTrace(), this._init$(void 0, -5);
                }
                function f(t4, e5) {
                  this.isFulfilled() ? e5._resolve(t4) : e5._reject(t4);
                }
                function p(t4, e5, r5, o3) {
                  return "function" != typeof e5 ? n2("expecting a function but got " + u2.classString(e5)) : new l(t4, e5, r5, o3).promise();
                }
                function h(t4) {
                  this.accum = t4, this.array._gotAccum(t4);
                  var r5 = o2(this.value, this.array._promise);
                  return r5 instanceof e4 ? (this.array._currentCancellable = r5, r5._then(y, void 0, void 0, this, void 0)) : y.call(this, r5);
                }
                function y(t4) {
                  var r5, n3 = this.array, o3 = n3._promise, i4 = c2(n3._fn);
                  o3._pushContext(), (r5 = void 0 !== n3._eachValues ? i4.call(o3._boundValue(), t4, this.index, this.length) : i4.call(o3._boundValue(), this.accum, t4, this.index, this.length)) instanceof e4 && (n3._currentCancellable = r5);
                  var a3 = o3._popContext();
                  return s2.checkForgottenReturns(r5, a3, void 0 !== n3._eachValues ? "Promise.each" : "Promise.reduce", o3), r5;
                }
                u2.inherits(l, r4), l.prototype._gotAccum = function(t4) {
                  void 0 !== this._eachValues && null !== this._eachValues && t4 !== i3 && this._eachValues.push(t4);
                }, l.prototype._eachComplete = function(t4) {
                  return null !== this._eachValues && this._eachValues.push(t4), this._eachValues;
                }, l.prototype._init = function() {
                }, l.prototype._resolveEmptyArray = function() {
                  this._resolve(void 0 !== this._eachValues ? this._eachValues : this._initialValue);
                }, l.prototype.shouldCopyValues = function() {
                  return false;
                }, l.prototype._resolve = function(t4) {
                  this._promise._resolveCallback(t4), this._values = null;
                }, l.prototype._resultCancelled = function(t4) {
                  if (t4 === this._initialValue)
                    return this._cancel();
                  this._isResolved() || (this._resultCancelled$(), this._currentCancellable instanceof e4 && this._currentCancellable.cancel(), this._initialValue instanceof e4 && this._initialValue.cancel());
                }, l.prototype._iterate = function(t4) {
                  var r5, n3;
                  this._values = t4;
                  var o3 = t4.length;
                  if (void 0 !== this._initialValue ? (r5 = this._initialValue, n3 = 0) : (r5 = e4.resolve(t4[0]), n3 = 1), this._currentCancellable = r5, !r5.isRejected())
                    for (; n3 < o3; ++n3) {
                      var i4 = { accum: null, value: t4[n3], index: n3, length: o3, array: this };
                      r5 = r5._then(h, void 0, void 0, i4, void 0);
                    }
                  void 0 !== this._eachValues && (r5 = r5._then(this._eachComplete, void 0, void 0, this, void 0)), r5._then(f, f, void 0, r5, this);
                }, e4.prototype.reduce = function(t4, e5) {
                  return p(this, t4, e5, null);
                }, e4.reduce = function(t4, e5, r5, n3) {
                  return p(t4, e5, r5, n3);
                };
              };
            }, { "./util": 36 }], 29: [function(t3, e3, i3) {
              "use strict";
              var s2, a2, u2, c2, l, f = t3("./util"), p = f.getNativePromise();
              if (f.isNode && "undefined" == typeof MutationObserver) {
                var h = n.setImmediate, y = r2.nextTick;
                s2 = f.isRecentNode ? function(t4) {
                  h.call(n, t4);
                } : function(t4) {
                  y.call(r2, t4);
                };
              } else if ("function" == typeof p && "function" == typeof p.resolve) {
                var d = p.resolve();
                s2 = function(t4) {
                  d.then(t4);
                };
              } else
                s2 = "undefined" == typeof MutationObserver || "undefined" != typeof window && window.navigator && (window.navigator.standalone || window.cordova) ? void 0 !== o ? function(t4) {
                  o(t4);
                } : "undefined" != typeof setTimeout ? function(t4) {
                  setTimeout(t4, 0);
                } : function() {
                  throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");
                } : (a2 = document.createElement("div"), u2 = { attributes: true }, c2 = false, l = document.createElement("div"), new MutationObserver(function() {
                  a2.classList.toggle("foo"), c2 = false;
                }).observe(l, u2), function(t4) {
                  var e4 = new MutationObserver(function() {
                    e4.disconnect(), t4();
                  });
                  e4.observe(a2, u2), c2 || (c2 = true, l.classList.toggle("foo"));
                });
              e3.exports = s2;
            }, { "./util": 36 }], 30: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2) {
                var o2 = e4.PromiseInspection;
                function i3(t4) {
                  this.constructor$(t4);
                }
                t3("./util").inherits(i3, r4), i3.prototype._promiseResolved = function(t4, e5) {
                  return this._values[t4] = e5, ++this._totalResolved >= this._length && (this._resolve(this._values), true);
                }, i3.prototype._promiseFulfilled = function(t4, e5) {
                  var r5 = new o2();
                  return r5._bitField = 33554432, r5._settledValueField = t4, this._promiseResolved(e5, r5);
                }, i3.prototype._promiseRejected = function(t4, e5) {
                  var r5 = new o2();
                  return r5._bitField = 16777216, r5._settledValueField = t4, this._promiseResolved(e5, r5);
                }, e4.settle = function(t4) {
                  return n2.deprecated(".settle()", ".reflect()"), new i3(t4).promise();
                }, e4.prototype.settle = function() {
                  return e4.settle(this);
                };
              };
            }, { "./util": 36 }], 31: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2) {
                var o2 = t3("./util"), i3 = t3("./errors").RangeError, s2 = t3("./errors").AggregateError, a2 = o2.isArray, u2 = {};
                function c2(t4) {
                  this.constructor$(t4), this._howMany = 0, this._unwrap = false, this._initialized = false;
                }
                function l(t4, e5) {
                  if ((0 | e5) !== e5 || e5 < 0)
                    return n2("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");
                  var r5 = new c2(t4), o3 = r5.promise();
                  return r5.setHowMany(e5), r5.init(), o3;
                }
                o2.inherits(c2, r4), c2.prototype._init = function() {
                  if (this._initialized)
                    if (0 !== this._howMany) {
                      this._init$(void 0, -5);
                      var t4 = a2(this._values);
                      !this._isResolved() && t4 && this._howMany > this._canPossiblyFulfill() && this._reject(this._getRangeError(this.length()));
                    } else
                      this._resolve([]);
                }, c2.prototype.init = function() {
                  this._initialized = true, this._init();
                }, c2.prototype.setUnwrap = function() {
                  this._unwrap = true;
                }, c2.prototype.howMany = function() {
                  return this._howMany;
                }, c2.prototype.setHowMany = function(t4) {
                  this._howMany = t4;
                }, c2.prototype._promiseFulfilled = function(t4) {
                  return this._addFulfilled(t4), this._fulfilled() === this.howMany() && (this._values.length = this.howMany(), 1 === this.howMany() && this._unwrap ? this._resolve(this._values[0]) : this._resolve(this._values), true);
                }, c2.prototype._promiseRejected = function(t4) {
                  return this._addRejected(t4), this._checkOutcome();
                }, c2.prototype._promiseCancelled = function() {
                  return this._values instanceof e4 || null == this._values ? this._cancel() : (this._addRejected(u2), this._checkOutcome());
                }, c2.prototype._checkOutcome = function() {
                  if (this.howMany() > this._canPossiblyFulfill()) {
                    for (var t4 = new s2(), e5 = this.length(); e5 < this._values.length; ++e5)
                      this._values[e5] !== u2 && t4.push(this._values[e5]);
                    return t4.length > 0 ? this._reject(t4) : this._cancel(), true;
                  }
                  return false;
                }, c2.prototype._fulfilled = function() {
                  return this._totalResolved;
                }, c2.prototype._rejected = function() {
                  return this._values.length - this.length();
                }, c2.prototype._addRejected = function(t4) {
                  this._values.push(t4);
                }, c2.prototype._addFulfilled = function(t4) {
                  this._values[this._totalResolved++] = t4;
                }, c2.prototype._canPossiblyFulfill = function() {
                  return this.length() - this._rejected();
                }, c2.prototype._getRangeError = function(t4) {
                  var e5 = "Input array must contain at least " + this._howMany + " items but contains only " + t4 + " items";
                  return new i3(e5);
                }, c2.prototype._resolveEmptyArray = function() {
                  this._reject(this._getRangeError(0));
                }, e4.some = function(t4, e5) {
                  return l(t4, e5);
                }, e4.prototype.some = function(t4) {
                  return l(this, t4);
                }, e4._SomePromiseArray = c2;
              };
            }, { "./errors": 12, "./util": 36 }], 32: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(t4) {
                function e4(t5) {
                  void 0 !== t5 ? (t5 = t5._target(), this._bitField = t5._bitField, this._settledValueField = t5._isFateSealed() ? t5._settledValue() : void 0) : (this._bitField = 0, this._settledValueField = void 0);
                }
                e4.prototype._settledValue = function() {
                  return this._settledValueField;
                };
                var r4 = e4.prototype.value = function() {
                  if (!this.isFulfilled())
                    throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");
                  return this._settledValue();
                }, n2 = e4.prototype.error = e4.prototype.reason = function() {
                  if (!this.isRejected())
                    throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");
                  return this._settledValue();
                }, o2 = e4.prototype.isFulfilled = function() {
                  return 0 != (33554432 & this._bitField);
                }, i3 = e4.prototype.isRejected = function() {
                  return 0 != (16777216 & this._bitField);
                }, s2 = e4.prototype.isPending = function() {
                  return 0 == (50397184 & this._bitField);
                }, a2 = e4.prototype.isResolved = function() {
                  return 0 != (50331648 & this._bitField);
                };
                e4.prototype.isCancelled = function() {
                  return 0 != (8454144 & this._bitField);
                }, t4.prototype.__isCancelled = function() {
                  return 65536 == (65536 & this._bitField);
                }, t4.prototype._isCancelled = function() {
                  return this._target().__isCancelled();
                }, t4.prototype.isCancelled = function() {
                  return 0 != (8454144 & this._target()._bitField);
                }, t4.prototype.isPending = function() {
                  return s2.call(this._target());
                }, t4.prototype.isRejected = function() {
                  return i3.call(this._target());
                }, t4.prototype.isFulfilled = function() {
                  return o2.call(this._target());
                }, t4.prototype.isResolved = function() {
                  return a2.call(this._target());
                }, t4.prototype.value = function() {
                  return r4.call(this._target());
                }, t4.prototype.reason = function() {
                  var t5 = this._target();
                  return t5._unsetRejectionIsUnhandled(), n2.call(t5);
                }, t4.prototype._value = function() {
                  return this._settledValue();
                }, t4.prototype._reason = function() {
                  return this._unsetRejectionIsUnhandled(), this._settledValue();
                }, t4.PromiseInspection = e4;
              };
            }, {}], 33: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4) {
                var n2 = t3("./util"), o2 = n2.errorObj, i3 = n2.isObject, s2 = {}.hasOwnProperty;
                return function(t4, a2) {
                  if (i3(t4)) {
                    if (t4 instanceof e4)
                      return t4;
                    var u2 = function(t5) {
                      try {
                        return function(t6) {
                          return t6.then;
                        }(t5);
                      } catch (t6) {
                        return o2.e = t6, o2;
                      }
                    }(t4);
                    if (u2 === o2) {
                      a2 && a2._pushContext();
                      var c2 = e4.reject(u2.e);
                      return a2 && a2._popContext(), c2;
                    }
                    if ("function" == typeof u2)
                      return function(t5) {
                        try {
                          return s2.call(t5, "_promise0");
                        } catch (t6) {
                          return false;
                        }
                      }(t4) ? (c2 = new e4(r4), t4._then(c2._fulfill, c2._reject, void 0, c2, null), c2) : function(t5, i4, s3) {
                        var a3 = new e4(r4), u3 = a3;
                        s3 && s3._pushContext(), a3._captureStackTrace(), s3 && s3._popContext();
                        var c3 = n2.tryCatch(i4).call(t5, function(t6) {
                          a3 && (a3._resolveCallback(t6), a3 = null);
                        }, function(t6) {
                          a3 && (a3._rejectCallback(t6, false, true), a3 = null);
                        });
                        return a3 && c3 === o2 && (a3._rejectCallback(c3.e, true, true), a3 = null), u3;
                      }(t4, u2, a2);
                  }
                  return t4;
                };
              };
            }, { "./util": 36 }], 34: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2) {
                var o2 = t3("./util"), i3 = e4.TimeoutError;
                function s2(t4) {
                  this.handle = t4;
                }
                s2.prototype._resultCancelled = function() {
                  clearTimeout(this.handle);
                };
                var a2 = function(t4) {
                  return u2(+this).thenReturn(t4);
                }, u2 = e4.delay = function(t4, o3) {
                  var i4, u3;
                  return void 0 !== o3 ? (i4 = e4.resolve(o3)._then(a2, null, null, t4, void 0), n2.cancellation() && o3 instanceof e4 && i4._setOnCancel(o3)) : (i4 = new e4(r4), u3 = setTimeout(function() {
                    i4._fulfill();
                  }, +t4), n2.cancellation() && i4._setOnCancel(new s2(u3)), i4._captureStackTrace()), i4._setAsyncGuaranteed(), i4;
                };
                function c2(t4) {
                  return clearTimeout(this.handle), t4;
                }
                function l(t4) {
                  throw clearTimeout(this.handle), t4;
                }
                e4.prototype.delay = function(t4) {
                  return u2(t4, this);
                }, e4.prototype.timeout = function(t4, e5) {
                  var r5, a3;
                  t4 = +t4;
                  var u3 = new s2(setTimeout(function() {
                    r5.isPending() && function(t5, e6, r6) {
                      var n3;
                      n3 = "string" != typeof e6 ? e6 instanceof Error ? e6 : new i3("operation timed out") : new i3(e6), o2.markAsOriginatingFromRejection(n3), t5._attachExtraTrace(n3), t5._reject(n3), null != r6 && r6.cancel();
                    }(r5, e5, a3);
                  }, t4));
                  return n2.cancellation() ? (a3 = this.then(), (r5 = a3._then(c2, l, void 0, u3, void 0))._setOnCancel(u3)) : r5 = this._then(c2, l, void 0, u3, void 0), r5;
                };
              };
            }, { "./util": 36 }], 35: [function(t3, e3, r3) {
              "use strict";
              e3.exports = function(e4, r4, n2, o2, i3, s2) {
                var a2 = t3("./util"), u2 = t3("./errors").TypeError, c2 = t3("./util").inherits, l = a2.errorObj, f = a2.tryCatch, p = {};
                function h(t4) {
                  setTimeout(function() {
                    throw t4;
                  }, 0);
                }
                function y(t4, r5) {
                  var o3 = 0, s3 = t4.length, a3 = new e4(i3);
                  return function i4() {
                    if (o3 >= s3)
                      return a3._fulfill();
                    var u3 = function(t5) {
                      var e5 = n2(t5);
                      return e5 !== t5 && "function" == typeof t5._isDisposable && "function" == typeof t5._getDisposer && t5._isDisposable() && e5._setDisposable(t5._getDisposer()), e5;
                    }(t4[o3++]);
                    if (u3 instanceof e4 && u3._isDisposable()) {
                      try {
                        u3 = n2(u3._getDisposer().tryDispose(r5), t4.promise);
                      } catch (t5) {
                        return h(t5);
                      }
                      if (u3 instanceof e4)
                        return u3._then(i4, h, null, null, null);
                    }
                    i4();
                  }(), a3;
                }
                function d(t4, e5, r5) {
                  this._data = t4, this._promise = e5, this._context = r5;
                }
                function _(t4, e5, r5) {
                  this.constructor$(t4, e5, r5);
                }
                function v(t4) {
                  return d.isDisposer(t4) ? (this.resources[this.index]._setDisposable(t4), t4.promise()) : t4;
                }
                function m(t4) {
                  this.length = t4, this.promise = null, this[t4 - 1] = null;
                }
                d.prototype.data = function() {
                  return this._data;
                }, d.prototype.promise = function() {
                  return this._promise;
                }, d.prototype.resource = function() {
                  return this.promise().isFulfilled() ? this.promise().value() : p;
                }, d.prototype.tryDispose = function(t4) {
                  var e5 = this.resource(), r5 = this._context;
                  void 0 !== r5 && r5._pushContext();
                  var n3 = e5 !== p ? this.doDispose(e5, t4) : null;
                  return void 0 !== r5 && r5._popContext(), this._promise._unsetDisposable(), this._data = null, n3;
                }, d.isDisposer = function(t4) {
                  return null != t4 && "function" == typeof t4.resource && "function" == typeof t4.tryDispose;
                }, c2(_, d), _.prototype.doDispose = function(t4, e5) {
                  return this.data().call(t4, t4, e5);
                }, m.prototype._resultCancelled = function() {
                  for (var t4 = this.length, r5 = 0; r5 < t4; ++r5) {
                    var n3 = this[r5];
                    n3 instanceof e4 && n3.cancel();
                  }
                }, e4.using = function() {
                  var t4 = arguments.length;
                  if (t4 < 2)
                    return r4("you must pass at least 2 arguments to Promise.using");
                  var o3, i4 = arguments[t4 - 1];
                  if ("function" != typeof i4)
                    return r4("expecting a function but got " + a2.classString(i4));
                  var u3 = true;
                  2 === t4 && Array.isArray(arguments[0]) ? (t4 = (o3 = arguments[0]).length, u3 = false) : (o3 = arguments, t4--);
                  for (var c3 = new m(t4), p2 = 0; p2 < t4; ++p2) {
                    var h2 = o3[p2];
                    if (d.isDisposer(h2)) {
                      var _2 = h2;
                      (h2 = h2.promise())._setDisposable(_2);
                    } else {
                      var b = n2(h2);
                      b instanceof e4 && (h2 = b._then(v, null, null, { resources: c3, index: p2 }, void 0));
                    }
                    c3[p2] = h2;
                  }
                  var g = new Array(c3.length);
                  for (p2 = 0; p2 < g.length; ++p2)
                    g[p2] = e4.resolve(c3[p2]).reflect();
                  var w = e4.all(g).then(function(t5) {
                    for (var e5 = 0; e5 < t5.length; ++e5) {
                      var r5 = t5[e5];
                      if (r5.isRejected())
                        return l.e = r5.error(), l;
                      if (!r5.isFulfilled())
                        return void w.cancel();
                      t5[e5] = r5.value();
                    }
                    O._pushContext(), i4 = f(i4);
                    var n3 = u3 ? i4.apply(void 0, t5) : i4(t5), o4 = O._popContext();
                    return s2.checkForgottenReturns(n3, o4, "Promise.using", O), n3;
                  }), O = w.lastly(function() {
                    var t5 = new e4.PromiseInspection(w);
                    return y(c3, t5);
                  });
                  return c3.promise = O, O._setOnCancel(c3), O;
                }, e4.prototype._setDisposable = function(t4) {
                  this._bitField = 131072 | this._bitField, this._disposer = t4;
                }, e4.prototype._isDisposable = function() {
                  return (131072 & this._bitField) > 0;
                }, e4.prototype._getDisposer = function() {
                  return this._disposer;
                }, e4.prototype._unsetDisposable = function() {
                  this._bitField = -131073 & this._bitField, this._disposer = void 0;
                }, e4.prototype.disposer = function(t4) {
                  if ("function" == typeof t4)
                    return new _(t4, this, o2());
                  throw new u2();
                };
              };
            }, { "./errors": 12, "./util": 36 }], 36: [function(t3, e3, o2) {
              "use strict";
              var i3 = t3("./es5"), s2 = "undefined" == typeof navigator, a2 = { e: {} }, u2, l = "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== n ? n : void 0 !== this ? this : null;
              function f() {
                try {
                  var t4 = u2;
                  return u2 = null, t4.apply(this, arguments);
                } catch (t5) {
                  return a2.e = t5, a2;
                }
              }
              function p(t4) {
                return u2 = t4, f;
              }
              var h = function(t4, e4) {
                var r3 = {}.hasOwnProperty;
                function n2() {
                  for (var n3 in this.constructor = t4, this.constructor$ = e4, e4.prototype)
                    r3.call(e4.prototype, n3) && "$" !== n3.charAt(n3.length - 1) && (this[n3 + "$"] = e4.prototype[n3]);
                }
                return n2.prototype = e4.prototype, t4.prototype = new n2(), t4.prototype;
              };
              function y(t4) {
                return null == t4 || true === t4 || false === t4 || "string" == typeof t4 || "number" == typeof t4;
              }
              function d(t4) {
                return "function" == typeof t4 || "object" === c(t4) && null !== t4;
              }
              function _(t4) {
                return y(t4) ? new Error(P(t4)) : t4;
              }
              function v(t4, e4) {
                var r3, n2 = t4.length, o3 = new Array(n2 + 1);
                for (r3 = 0; r3 < n2; ++r3)
                  o3[r3] = t4[r3];
                return o3[r3] = e4, o3;
              }
              function m(t4, e4, r3) {
                if (!i3.isES5)
                  return {}.hasOwnProperty.call(t4, e4) ? t4[e4] : void 0;
                var n2 = Object.getOwnPropertyDescriptor(t4, e4);
                return null != n2 ? null == n2.get && null == n2.set ? n2.value : r3 : void 0;
              }
              function b(t4, e4, r3) {
                if (y(t4))
                  return t4;
                var n2 = { value: r3, configurable: true, enumerable: false, writable: true };
                return i3.defineProperty(t4, e4, n2), t4;
              }
              function g(t4) {
                throw t4;
              }
              var w = function() {
                var t4 = [Array.prototype, Object.prototype, Function.prototype], e4 = function(e5) {
                  for (var r4 = 0; r4 < t4.length; ++r4)
                    if (t4[r4] === e5)
                      return true;
                  return false;
                };
                if (i3.isES5) {
                  var r3 = Object.getOwnPropertyNames;
                  return function(t5) {
                    for (var n3 = [], o3 = /* @__PURE__ */ Object.create(null); null != t5 && !e4(t5); ) {
                      var s3;
                      try {
                        s3 = r3(t5);
                      } catch (t6) {
                        return n3;
                      }
                      for (var a3 = 0; a3 < s3.length; ++a3) {
                        var u3 = s3[a3];
                        if (!o3[u3]) {
                          o3[u3] = true;
                          var c2 = Object.getOwnPropertyDescriptor(t5, u3);
                          null != c2 && null == c2.get && null == c2.set && n3.push(u3);
                        }
                      }
                      t5 = i3.getPrototypeOf(t5);
                    }
                    return n3;
                  };
                }
                var n2 = {}.hasOwnProperty;
                return function(r4) {
                  if (e4(r4))
                    return [];
                  var o3 = [];
                  t:
                    for (var i4 in r4)
                      if (n2.call(r4, i4))
                        o3.push(i4);
                      else {
                        for (var s3 = 0; s3 < t4.length; ++s3)
                          if (n2.call(t4[s3], i4))
                            continue t;
                        o3.push(i4);
                      }
                  return o3;
                };
              }(), O = /this\s*\.\s*\S+\s*=/;
              function S(t4) {
                try {
                  if ("function" == typeof t4) {
                    var e4 = i3.names(t4.prototype), r3 = i3.isES5 && e4.length > 1, n2 = e4.length > 0 && !(1 === e4.length && "constructor" === e4[0]), o3 = O.test(t4 + "") && i3.names(t4).length > 0;
                    if (r3 || n2 || o3)
                      return true;
                  }
                  return false;
                } catch (t5) {
                  return false;
                }
              }
              function j(t4) {
                function e4() {
                }
                e4.prototype = t4;
                for (var r3 = 8; r3--; )
                  new e4();
                return t4;
              }
              var A = /^[a-z$_][a-z$_0-9]*$/i;
              function $(t4) {
                return A.test(t4);
              }
              function E(t4, e4, r3) {
                for (var n2 = new Array(t4), o3 = 0; o3 < t4; ++o3)
                  n2[o3] = e4 + o3 + r3;
                return n2;
              }
              function P(t4) {
                try {
                  return t4 + "";
                } catch (t5) {
                  return "[no string representation]";
                }
              }
              function x(t4) {
                return t4 instanceof Error || null !== t4 && "object" === c(t4) && "string" == typeof t4.message && "string" == typeof t4.name;
              }
              function T(t4) {
                try {
                  b(t4, "isOperational", true);
                } catch (t5) {
                }
              }
              function k(t4) {
                return null != t4 && (t4 instanceof Error.__BluebirdErrorTypes__.OperationalError || true === t4.isOperational);
              }
              function N(t4) {
                return x(t4) && i3.propertyIsWritable(t4, "stack");
              }
              var B = "stack" in new Error() ? function(t4) {
                return N(t4) ? t4 : new Error(P(t4));
              } : function(t4) {
                if (N(t4))
                  return t4;
                try {
                  throw new Error(P(t4));
                } catch (t5) {
                  return t5;
                }
              };
              function C(t4) {
                return {}.toString.call(t4);
              }
              function R(t4, e4, r3) {
                for (var n2 = i3.names(t4), o3 = 0; o3 < n2.length; ++o3) {
                  var s3 = n2[o3];
                  if (r3(s3))
                    try {
                      i3.defineProperty(e4, s3, i3.getDescriptor(t4, s3));
                    } catch (t5) {
                    }
                }
              }
              var D = function(t4) {
                return i3.isArray(t4) ? t4 : null;
              };
              if ("undefined" != typeof Symbol && Symbol.iterator) {
                var M = "function" == typeof Array.from ? function(t4) {
                  return Array.from(t4);
                } : function(t4) {
                  for (var e4, r3 = [], n2 = t4[Symbol.iterator](); !(e4 = n2.next()).done; )
                    r3.push(e4.value);
                  return r3;
                };
                D = function(t4) {
                  return i3.isArray(t4) ? t4 : null != t4 && "function" == typeof t4[Symbol.iterator] ? M(t4) : null;
                };
              }
              var I = void 0 !== r2 && "[object process]" === C(r2).toLowerCase(), F = void 0 !== r2 && void 0 !== r2.env;
              function L(t4) {
                return F ? r2.env[t4] : void 0;
              }
              function U() {
                if ("function" == typeof Promise)
                  try {
                    var t4 = new Promise(function() {
                    });
                    if ("[object Promise]" === {}.toString.call(t4))
                      return Promise;
                  } catch (t5) {
                  }
              }
              function V(t4, e4) {
                return t4.bind(e4);
              }
              var q = { isClass: S, isIdentifier: $, inheritedDataKeys: w, getDataPropertyOrDefault: m, thrower: g, isArray: i3.isArray, asArray: D, notEnumerableProp: b, isPrimitive: y, isObject: d, isError: x, canEvaluate: s2, errorObj: a2, tryCatch: p, inherits: h, withAppended: v, maybeWrapAsError: _, toFastProperties: j, filledRange: E, toString: P, canAttachTrace: N, ensureErrorObject: B, originatesFromRejection: k, markAsOriginatingFromRejection: T, classString: C, copyDescriptors: R, hasDevTools: "undefined" != typeof chrome && chrome && "function" == typeof chrome.loadTimes, isNode: I, hasEnvVariables: F, env: L, global: l, getNativePromise: U, domainBind: V }, W;
              q.isRecentNode = q.isNode && (W = r2.versions.node.split(".").map(Number), 0 === W[0] && W[1] > 10 || W[0] > 0), q.isNode && q.toFastProperties(r2);
              try {
                throw new Error();
              } catch (t4) {
                q.lastLineError = t4;
              }
              e3.exports = q;
            }, { "./es5": 13 }] }, {}, [4])(4);
          }, "object" == c(e) && void 0 !== t ? t.exports = u() : (s = [], void 0 === (a = "function" == typeof (i = u) ? i.apply(e, s) : i) || (t.exports = a)), "undefined" != typeof window && null !== window ? window.P = window.Promise : "undefined" != typeof self && null !== self && (self.P = self.Promise);
        }).call(this, r(10), r(9), r(70).setImmediate);
      }, function(t, e, r) {
        "use strict";
        var n = t.exports = {};
        n.DocumentNotFoundError = null, n.general = {}, n.general.default = "Validator failed for path `{PATH}` with value `{VALUE}`", n.general.required = "Path `{PATH}` is required.", n.Number = {}, n.Number.min = "Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).", n.Number.max = "Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).", n.Number.enum = "`{VALUE}` is not a valid enum value for path `{PATH}`.", n.Date = {}, n.Date.min = "Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).", n.Date.max = "Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).", n.String = {}, n.String.enum = "`{VALUE}` is not a valid enum value for path `{PATH}`.", n.String.match = "Path `{PATH}` is invalid ({VALUE}).", n.String.minlength = "Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).", n.String.maxlength = "Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH}).";
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = r(5), l = r(4), f = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3, e3, r3, n3) {
            var o2, i2;
            !function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            var s2 = c.messages;
            return i2 = null != s2.DocumentNotFoundError ? "function" == typeof s2.DocumentNotFoundError ? s2.DocumentNotFoundError(t3, e3) : s2.DocumentNotFoundError : 'No document found for query "' + l.inspect(t3) + '" on model "' + e3 + '"', (o2 = a2.call(this, i2)).result = n3, o2.numAffected = r3, o2.filter = t3, o2.query = t3, o2;
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(c);
        Object.defineProperty(f.prototype, "name", { value: "DocumentNotFoundError" }), t.exports = f;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3, e3, r3) {
            var n3;
            !function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            var o2 = r3.join(", ");
            return (n3 = a2.call(this, 'No matching document found for id "' + t3._id + '" version ' + e3 + ' modifiedPaths "' + o2 + '"')).version = e3, n3.modifiedPaths = r3, n3;
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "VersionError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3) {
            !function(t4, e3) {
              if (!(t4 instanceof e3))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            return a2.call(this, "Can't save() the same doc multiple times in parallel. Document: " + t3._id);
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "ParallelSaveError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3) {
            return function(t4, e3) {
              if (!(t4 instanceof e3))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2), a2.call(this, "Cannot overwrite `" + t3 + "` model once compiled.");
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "OverwriteModelError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3) {
            !function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            var e3 = `Schema hasn't been registered for model "` + t3 + '".\nUse mongoose.model(name, schema)';
            return a2.call(this, e3);
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "MissingSchemaError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3) {
            !function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            var e3 = "For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  " + t3.join("\n  ") + "\nUse Model.update() to update these arrays instead.";
            return a2.call(this, e3);
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "DivergentArrayError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        var n = r(34);
        t.exports = function(t2) {
          var e2, r2;
          t2.$immutable ? (t2.$immutableSetter = (e2 = t2.path, r2 = t2.options.immutable, function(t3) {
            if (null == this || null == this.$__)
              return t3;
            if (this.isNew)
              return t3;
            if (!("function" == typeof r2 ? r2.call(this, this) : r2))
              return t3;
            var o = this.$__getValue(e2);
            if ("throw" === this.$__.strictMode && t3 !== o)
              throw new n(e2, "Path `" + e2 + "` is immutable and strict mode is set to throw.", true);
            return o;
          }), t2.set(t2.$immutableSetter)) : t2.$immutableSetter && (t2.setters = t2.setters.filter(function(e3) {
            return e3 !== t2.$immutableSetter;
          }), delete t2.$immutableSetter);
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3, e3, r3) {
            return function(t4, e4) {
              if (!(t4 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2), a2.call(this, 'Parameter "' + e3 + '" to ' + r3 + "() must be an object, got " + t3.toString());
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(5));
        Object.defineProperty(c.prototype, "name", { value: "ObjectParameterError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          return (i = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function s(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = u(t2);
            if (e2) {
              var o2 = u(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return a(this, r2);
          };
        }
        function a(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function u(t2) {
          return (u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var c = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && i(t3, e3);
          }(u2, t2);
          var e2, r2, n2, a2 = s(u2);
          function u2(t3) {
            !function(t4, e3) {
              if (!(t4 instanceof e3))
                throw new TypeError("Cannot call a class as a function");
            }(this, u2);
            return a2.call(this, "Can't validate() the same doc multiple times in parallel. Document: " + t3._id);
          }
          return e2 = u2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(14));
        Object.defineProperty(c.prototype, "name", { value: "ParallelValidateError" }), t.exports = c;
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function r2(t2, e3) {
            var r3 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
            if (!r3) {
              if (Array.isArray(t2) || (r3 = function(t3, e4) {
                if (!t3)
                  return;
                if ("string" == typeof t3)
                  return n(t3, e4);
                var r4 = Object.prototype.toString.call(t3).slice(8, -1);
                "Object" === r4 && t3.constructor && (r4 = t3.constructor.name);
                if ("Map" === r4 || "Set" === r4)
                  return Array.from(t3);
                if ("Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4))
                  return n(t3, e4);
              }(t2)) || e3 && t2 && "number" == typeof t2.length) {
                r3 && (t2 = r3);
                var o2 = 0, i2 = function() {
                };
                return { s: i2, n: function() {
                  return o2 >= t2.length ? { done: true } : { done: false, value: t2[o2++] };
                }, e: function(t3) {
                  throw t3;
                }, f: i2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s2, a2 = true, u2 = false;
            return { s: function() {
              r3 = r3.call(t2);
            }, n: function() {
              var t3 = r3.next();
              return a2 = t3.done, t3;
            }, e: function(t3) {
              u2 = true, s2 = t3;
            }, f: function() {
              try {
                a2 || null == r3.return || r3.return();
              } finally {
                if (u2)
                  throw s2;
              }
            } };
          }
          function n(t2, e3) {
            (null == e3 || e3 > t2.length) && (e3 = t2.length);
            for (var r3 = 0, n2 = new Array(e3); r3 < e3; r3++)
              n2[r3] = t2[r3];
            return n2;
          }
          function o(t2) {
            return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          function i() {
            this._pres = /* @__PURE__ */ new Map(), this._posts = /* @__PURE__ */ new Map();
          }
          function s(t2, e3, r3, n2, o2, i2, s2) {
            if (i2.useErrorHandlers) {
              var a2 = { error: e3 };
              return t2.execPost(r3, n2, o2, a2, function(t3) {
                return "function" == typeof s2 && s2(t3);
              });
            }
            return "function" == typeof s2 ? s2(e3) : void 0;
          }
          function a(t2, e3, r3) {
            return t2.has(e3) ? t2.get(e3) : r3;
          }
          function u(t2, e3, r3, n2) {
            var o2;
            try {
              o2 = t2.apply(e3, r3);
            } catch (t3) {
              return n2(t3);
            }
            c(o2) && o2.then(function() {
              return n2();
            }, function(t3) {
              return n2(t3);
            });
          }
          function c(t2) {
            return null != t2 && "function" == typeof t2.then;
          }
          function l(t2) {
            var r3 = false, n2 = this;
            return function() {
              var o2 = arguments;
              if (!r3)
                return r3 = true, e2.nextTick(function() {
                  return t2.apply(n2, o2);
                });
            };
          }
          i.prototype.execPre = function(t2, r3, n2, o2) {
            3 === arguments.length && (o2 = n2, n2 = []);
            var i2 = a(this._pres, t2, []), s2 = i2.length, f = i2.numAsync || 0, p = 0, h = f, y = false, d = n2;
            if (!s2)
              return e2.nextTick(function() {
                o2(null);
              });
            var _ = function t3() {
              if (!(p >= s2)) {
                var n3 = i2[p];
                if (n3.isAsync) {
                  var a2 = [l(v), l(function(t4) {
                    if (t4) {
                      if (y)
                        return;
                      return y = true, o2(t4);
                    }
                    if (0 == --h && p >= s2)
                      return o2(null);
                  })];
                  u(n3.fn, r3, a2, a2[0]);
                } else if (n3.fn.length > 0) {
                  a2 = [l(v)];
                  for (var f2 = arguments.length >= 2 ? arguments : [null].concat(d), _2 = 1; _2 < f2.length; ++_2)
                    a2.push(f2[_2]);
                  u(n3.fn, r3, a2, a2[0]);
                } else {
                  var m = null;
                  try {
                    m = n3.fn.call(r3);
                  } catch (t4) {
                    if (null != t4)
                      return o2(t4);
                  }
                  if (c(m))
                    m.then(function() {
                      return v();
                    }, function(t4) {
                      return v(t4);
                    });
                  else {
                    if (++p >= s2)
                      return h > 0 ? void 0 : e2.nextTick(function() {
                        o2(null);
                      });
                    t3();
                  }
                }
              }
            };
            function v(t3) {
              if (t3) {
                if (y)
                  return;
                return y = true, o2(t3);
              }
              if (++p >= s2)
                return h > 0 ? void 0 : o2(null);
              _.apply(r3, arguments);
            }
            _.apply(null, [null].concat(n2));
          }, i.prototype.execPreSync = function(t2, e3, r3) {
            for (var n2 = a(this._pres, t2, []), o2 = n2.length, i2 = 0; i2 < o2; ++i2)
              n2[i2].fn.apply(e3, r3 || []);
          }, i.prototype.execPost = function(t2, r3, n2, o2, i2) {
            arguments.length < 5 && (i2 = o2, o2 = null);
            var s2 = a(this._posts, t2, []), f = s2.length, p = 0, h = null;
            if (o2 && o2.error && (h = o2.error), !f)
              return e2.nextTick(function() {
                i2.apply(null, [h].concat(n2));
              });
            var y = function t3() {
              for (var e3 = s2[p].fn, o3 = 0, a2 = n2.length, y2 = [], d = 0; d < a2; ++d)
                o3 += n2[d] && n2[d]._kareemIgnore ? 0 : 1, n2[d] && n2[d]._kareemIgnore || y2.push(n2[d]);
              if (h)
                if (e3.length === o3 + 2) {
                  var _ = l(function(e4) {
                    if (e4 && (h = e4), ++p >= f)
                      return i2.call(null, h);
                    t3();
                  });
                  u(e3, r3, [h].concat(y2).concat([_]), _);
                } else {
                  if (++p >= f)
                    return i2.call(null, h);
                  t3();
                }
              else {
                var v = l(function(e4) {
                  return e4 ? (h = e4, t3()) : ++p >= f ? i2.apply(null, [null].concat(n2)) : void t3();
                });
                if (e3.length === o3 + 2)
                  return ++p >= f ? i2.apply(null, [null].concat(n2)) : t3();
                if (e3.length === o3 + 1)
                  u(e3, r3, y2.concat([v]), v);
                else {
                  var m, b;
                  try {
                    b = e3.apply(r3, y2);
                  } catch (t4) {
                    m = t4, h = t4;
                  }
                  if (c(b))
                    return b.then(function() {
                      return v();
                    }, function(t4) {
                      return v(t4);
                    });
                  if (++p >= f)
                    return i2.apply(null, [m].concat(n2));
                  t3();
                }
              }
            };
            y();
          }, i.prototype.execPostSync = function(t2, e3, r3) {
            for (var n2 = a(this._posts, t2, []), o2 = n2.length, i2 = 0; i2 < o2; ++i2)
              n2[i2].fn.apply(e3, r3 || []);
          }, i.prototype.createWrapperSync = function(t2, e3) {
            var r3 = this;
            return function() {
              r3.execPreSync(t2, this, arguments);
              var n2 = e3.apply(this, arguments);
              return r3.execPostSync(t2, this, [n2]), n2;
            };
          }, i.prototype.wrap = function(t2, e3, r3, n2, o2) {
            var i2 = n2.length > 0 ? n2[n2.length - 1] : null, a2 = ("function" == typeof i2 && n2.slice(0, n2.length - 1), this), u2 = (o2 = o2 || {}).checkForPromise;
            this.execPre(t2, r3, n2, function(c2) {
              if (c2) {
                for (var l2 = o2.numCallbackParams || 0, f = o2.contextParameter ? [r3] : [], p = f.length; p < l2; ++p)
                  f.push(null);
                return s(a2, c2, t2, r3, f, o2, i2);
              }
              var h = "function" == typeof i2 ? n2.length - 1 : n2.length, y = e3.length, d = e3.apply(r3, n2.slice(0, h).concat(_));
              if (u2) {
                if (null != d && "function" == typeof d.then)
                  return d.then(function(t3) {
                    return _(null, t3);
                  }, function(t3) {
                    return _(t3);
                  });
                if (y < h + 1)
                  return _(null, d);
              }
              function _() {
                var e4 = Array.prototype.slice.call(arguments, 1);
                if (o2.nullResultByDefault && 0 === e4.length && e4.push(null), arguments[0])
                  return s(a2, arguments[0], t2, r3, e4, o2, i2);
                a2.execPost(t2, r3, e4, function() {
                  return arguments[0] ? "function" == typeof i2 ? i2(arguments[0]) : void 0 : "function" == typeof i2 ? i2.apply(r3, arguments) : void 0;
                });
              }
            });
          }, i.prototype.filter = function(t2) {
            for (var e3 = this, r3 = this.clone(), n2 = Array.from(r3._pres.keys()), o2 = function() {
              var n3 = s2[i2], o3 = e3._pres.get(n3).map(function(t3) {
                return Object.assign({}, t3, { name: n3 });
              }).filter(t2);
              if (0 === o3.length)
                return r3._pres.delete(n3), "continue";
              o3.numAsync = o3.filter(function(t3) {
                return t3.isAsync;
              }).length, r3._pres.set(n3, o3);
            }, i2 = 0, s2 = n2; i2 < s2.length; i2++)
              o2();
            for (var a2 = Array.from(r3._posts.keys()), u2 = function() {
              var n3 = l2[c2], o3 = e3._posts.get(n3).map(function(t3) {
                return Object.assign({}, t3, { name: n3 });
              }).filter(t2);
              if (0 === o3.length)
                return r3._posts.delete(n3), "continue";
              r3._posts.set(n3, o3);
            }, c2 = 0, l2 = a2; c2 < l2.length; c2++)
              u2();
            return r3;
          }, i.prototype.hasHooks = function(t2) {
            return this._pres.has(t2) || this._posts.has(t2);
          }, i.prototype.createWrapper = function(t2, r3, n2, o2) {
            var i2 = this;
            return this.hasHooks(t2) ? function() {
              var e3 = n2 || this, s2 = Array.prototype.slice.call(arguments);
              i2.wrap(t2, r3, e3, s2, o2);
            } : function() {
              var t3 = arguments, n3 = this;
              e2.nextTick(function() {
                return r3.apply(n3, t3);
              });
            };
          }, i.prototype.pre = function(t2, e3, r3, n2, i2) {
            var s2 = {};
            "object" === o(e3) && null != e3 ? e3 = (s2 = e3).isAsync : "boolean" != typeof arguments[1] && (n2 = r3, r3 = e3, e3 = false);
            var u2 = a(this._pres, t2, []);
            if (this._pres.set(t2, u2), e3 && (u2.numAsync = u2.numAsync || 0, ++u2.numAsync), "function" != typeof r3)
              throw new Error('pre() requires a function, got "' + o(r3) + '"');
            return i2 ? u2.unshift(Object.assign({}, s2, { fn: r3, isAsync: e3 })) : u2.push(Object.assign({}, s2, { fn: r3, isAsync: e3 })), this;
          }, i.prototype.post = function(t2, e3, r3, n2) {
            var i2 = a(this._posts, t2, []);
            if ("function" == typeof e3 && (n2 = !!r3, r3 = e3, e3 = {}), "function" != typeof r3)
              throw new Error('post() requires a function, got "' + o(r3) + '"');
            return n2 ? i2.unshift(Object.assign({}, e3, { fn: r3 })) : i2.push(Object.assign({}, e3, { fn: r3 })), this._posts.set(t2, i2), this;
          }, i.prototype.clone = function() {
            var t2, e3 = new i(), n2 = r2(this._pres.keys());
            try {
              for (n2.s(); !(t2 = n2.n()).done; ) {
                var o2 = t2.value, s2 = this._pres.get(o2).slice();
                s2.numAsync = this._pres.get(o2).numAsync, e3._pres.set(o2, s2);
              }
            } catch (t3) {
              n2.e(t3);
            } finally {
              n2.f();
            }
            var a2, u2 = r2(this._posts.keys());
            try {
              for (u2.s(); !(a2 = u2.n()).done; ) {
                var c2 = a2.value;
                e3._posts.set(c2, this._posts.get(c2).slice());
              }
            } catch (t3) {
              u2.e(t3);
            } finally {
              u2.f();
            }
            return e3;
          }, i.prototype.merge = function(t2, e3) {
            var n2, o2 = (e3 = 1 === arguments.length || e3) ? this.clone() : this, i2 = r2(t2._pres.keys());
            try {
              var s2 = function() {
                var e4 = n2.value, r3 = a(o2._pres, e4, []), i3 = t2._pres.get(e4).filter(function(t3) {
                  return -1 === r3.map(function(t4) {
                    return t4.fn;
                  }).indexOf(t3.fn);
                }), s3 = r3.concat(i3);
                s3.numAsync = r3.numAsync || 0, s3.numAsync += i3.filter(function(t3) {
                  return t3.isAsync;
                }).length, o2._pres.set(e4, s3);
              };
              for (i2.s(); !(n2 = i2.n()).done; )
                s2();
            } catch (t3) {
              i2.e(t3);
            } finally {
              i2.f();
            }
            var u2, c2 = r2(t2._posts.keys());
            try {
              var l2 = function() {
                var e4 = u2.value, r3 = a(o2._posts, e4, []), n3 = t2._posts.get(e4).filter(function(t3) {
                  return -1 === r3.indexOf(t3);
                });
                o2._posts.set(e4, r3.concat(n3));
              };
              for (c2.s(); !(u2 = c2.n()).done; )
                l2();
            } catch (t3) {
              c2.e(t3);
            } finally {
              c2.f();
            }
            return o2;
          }, t.exports = i;
        }).call(this, r(10));
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function o(t2, e2, r2) {
          return e2 && n(t2.prototype, e2), r2 && n(t2, r2), Object.defineProperty(t2, "prototype", { writable: false }), t2;
        }
        var i = r(8), s = o(function t2(e2) {
          !function(t3, e3) {
            if (!(t3 instanceof e3))
              throw new TypeError("Cannot call a class as a function");
          }(this, t2), Object.assign(this, e2), null != e2 && null != e2.options && (this.options = Object.assign({}, e2.options));
        });
        Object.defineProperty(s.prototype, "ref", i), Object.defineProperty(s.prototype, "refPath", i), Object.defineProperty(s.prototype, "localField", i), Object.defineProperty(s.prototype, "foreignField", i), Object.defineProperty(s.prototype, "justOne", i), Object.defineProperty(s.prototype, "count", i), Object.defineProperty(s.prototype, "match", i), Object.defineProperty(s.prototype, "options", i), Object.defineProperty(s.prototype, "skip", i), Object.defineProperty(s.prototype, "limit", i), Object.defineProperty(s.prototype, "perDocumentLimit", i), t.exports = s;
      }, function(t, e, r) {
        "use strict";
        var n = r(3), o = r(21);
        t.exports = function(t2) {
          var e2 = [], r2 = /* @__PURE__ */ new WeakMap(), i = t2.constructor.indexTypes, s = /* @__PURE__ */ new Map();
          return function t3(a, u, c) {
            if (r2.has(a))
              return;
            r2.set(a, true), u = u || "";
            for (var l = Object.keys(a.paths), f = 0, p = l; f < p.length; f++) {
              var h = p[f], y = a.paths[h];
              if (null == c || !c.paths[h]) {
                if (y.$isMongooseDocumentArray || y.$isSingleNested) {
                  if (true !== n(y, "options.excludeIndexes") && true !== n(y, "schemaOptions.excludeIndexes") && true !== n(y, "schema.options.excludeIndexes") && t3(y.schema, u + h + "."), null != y.schema.discriminators)
                    for (var d = y.schema.discriminators, _ = Object.keys(d), v = 0, m = _; v < m.length; v++) {
                      var b = m[v];
                      t3(d[b], u + h + ".", y.schema);
                    }
                  if (y.$isMongooseDocumentArray)
                    continue;
                }
                var g = y._index || y.caster && y.caster._index;
                if (false !== g && null != g) {
                  var w = {}, O = o(g), S = O ? g : {}, j = "string" == typeof g ? g : !!O && g.type;
                  if (j && -1 !== i.indexOf(j))
                    w[u + h] = j;
                  else if (S.text)
                    w[u + h] = "text", delete S.text;
                  else {
                    var A = -1 === Number(g);
                    w[u + h] = A ? -1 : 1;
                  }
                  delete S.type, "background" in S || (S.background = true), null != a.options.autoIndex && (S._autoIndex = a.options.autoIndex);
                  var $ = S && S.name;
                  "string" == typeof $ && s.has($) ? Object.assign(s.get($), w) : (e2.push([w, S]), s.set($, w));
                }
              }
            }
            r2.delete(a), u ? function(t4, r3) {
              for (var n2 = t4._indexes, o2 = n2.length, i2 = 0; i2 < o2; ++i2) {
                for (var s2 = n2[i2][0], a2 = n2[i2][1], u2 = Object.keys(s2), c2 = u2.length, l2 = {}, f2 = 0; f2 < c2; ++f2) {
                  var p2 = u2[f2];
                  l2[r3 + p2] = s2[p2];
                }
                var h2 = Object.assign({}, a2);
                if (null != a2 && null != a2.partialFilterExpression) {
                  h2.partialFilterExpression = {};
                  for (var y2 = a2.partialFilterExpression, d2 = 0, _2 = Object.keys(y2); d2 < _2.length; d2++) {
                    var v2 = _2[d2];
                    h2.partialFilterExpression[r3 + v2] = y2[v2];
                  }
                }
                e2.push([l2, h2]);
              }
            }(a, u) : (a._indexes.forEach(function(t4) {
              "background" in t4[1] || (t4[1].background = true);
            }), e2 = e2.concat(a._indexes));
          }(t2), e2;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(144), o = r(146), i = r(3), s = r(77), a = r(35);
        t.exports = function(t2, e2) {
          var r2 = t2.childSchemas.find(function(t3) {
            return !!t3.schema.options.timestamps;
          });
          if (e2 || r2) {
            var u = s(e2, "createdAt"), c = s(e2, "updatedAt"), l = null != e2 && e2.hasOwnProperty("currentTime") ? e2.currentTime : null, f = {};
            t2.$timestamps = { createdAt: u, updatedAt: c }, c && !t2.paths[c] && (f[c] = Date), u && !t2.paths[u] && (f[u] = Date), t2.add(f), t2.pre("save", function(t3) {
              var e3 = i(this, "$__.saveOptions.timestamps");
              if (false === e3)
                return t3();
              var r3 = null != e3 && false === e3.updatedAt, n2 = null != e3 && false === e3.createdAt, o2 = null != l ? l() : (this.ownerDocument ? this.ownerDocument() : this).constructor.base.now(), s2 = this._id && this._id.auto;
              if (!n2 && this.isNew && u && !this.get(u) && this.$__isSelected(u) && this.$set(u, s2 ? this._id.getTimestamp() : o2), !r3 && c && (this.isNew || this.isModified())) {
                var a2 = o2;
                this.isNew && (null != u ? a2 = this.$__getValue(u) : s2 && (a2 = this._id.getTimestamp())), this.$set(c, a2);
              }
              t3();
            }), t2.methods.initializeTimestamps = function() {
              var t3 = null != l ? l() : this.constructor.base.now();
              return u && !this.get(u) && this.$set(u, t3), c && !this.get(c) && this.$set(c, t3), this;
            }, h[a.builtInMiddleware] = true;
            var p = { query: true, model: false };
            t2.pre("findOneAndReplace", p, h), t2.pre("findOneAndUpdate", p, h), t2.pre("replaceOne", p, h), t2.pre("update", p, h), t2.pre("updateOne", p, h), t2.pre("updateMany", p, h);
          }
          function h(t3) {
            var e3 = null != l ? l() : this.model.base.now();
            "findOneAndReplace" === this.op && null == this.getUpdate() && this.setUpdate({}), o(e3, u, c, this.getUpdate(), this.options, this.schema), n(e3, this.getUpdate(), this.model.schema), t3();
          }
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        var i = r(145), s = r(77);
        function a(t2, e2, r2) {
          if (null != e2) {
            if (Object.keys(e2).some(function(t3) {
              return t3.startsWith("$");
            })) {
              if (e2.$push && d(e2.$push), e2.$addToSet && d(e2.$addToSet), null != e2.$set)
                for (var o2 = 0, i2 = Object.keys(e2.$set); o2 < i2.length; o2++) {
                  var a2 = i2[o2];
                  u(r2, a2, e2.$set, t2);
                }
              if (null != e2.$setOnInsert)
                for (var c = 0, l = Object.keys(e2.$setOnInsert); c < l.length; c++) {
                  var f = l[c];
                  u(r2, f, e2.$setOnInsert, t2);
                }
            }
            var p, h = n(Object.keys(e2).filter(function(t3) {
              return !t3.startsWith("$");
            }));
            try {
              for (h.s(); !(p = h.n()).done; ) {
                var y = p.value;
                u(r2, y, e2, t2);
              }
            } catch (t3) {
              h.e(t3);
            } finally {
              h.f();
            }
          }
          function d(e3) {
            for (var n2 = 0, o3 = Object.keys(e3); n2 < o3.length; n2++) {
              var i3 = o3[n2], a3 = r2.path(i3.replace(/\.\$\./i, ".").replace(/.\$$/, ""));
              e3[i3] && a3 && a3.$isMongooseDocumentArray && a3.schema.options.timestamps && function() {
                var r3 = a3.schema.options.timestamps, n3 = s(r3, "createdAt"), o4 = s(r3, "updatedAt");
                e3[i3].$each ? e3[i3].$each.forEach(function(e4) {
                  null != o4 && (e4[o4] = t2), null != n3 && (e4[n3] = t2);
                }) : (null != o4 && (e3[i3][o4] = t2), null != n3 && (e3[i3][n3] = t2));
              }();
            }
          }
        }
        function u(t2, e2, r2, o2) {
          var u2 = i(e2), c = t2.path(u2);
          if (c) {
            for (var l = [], f = u2.split("."), p = f.length - 1; p > 0; --p) {
              var h = t2.path(f.slice(0, p).join("."));
              null != h && (h.$isMongooseDocumentArray || h.$isSingleNested) && l.push({ parentPath: e2.split(".").slice(0, p).join("."), parentSchemaType: h });
            }
            if (Array.isArray(r2[e2]) && c.$isMongooseDocumentArray)
              !function(t3, e3, r3) {
                var n2 = e3.schema.options.timestamps;
                if (n2)
                  for (var o3 = t3.length, i2 = s(n2, "createdAt"), u3 = s(n2, "updatedAt"), c2 = 0; c2 < o3; ++c2)
                    null != u3 && (t3[c2][u3] = r3), null != i2 && (t3[c2][i2] = r3), a(r3, t3[c2], e3.schema);
              }(r2[e2], c, o2);
            else if (r2[e2] && c.$isSingleNested)
              !function(t3, e3, r3) {
                var n2 = e3.schema.options.timestamps;
                if (n2) {
                  var o3 = s(n2, "createdAt"), i2 = s(n2, "updatedAt");
                  null != i2 && (t3[i2] = r3), null != o3 && (t3[o3] = r3), a(r3, t3, e3.schema);
                }
              }(r2[e2], c, o2);
            else if (l.length > 0) {
              var y, d = n(l);
              try {
                for (d.s(); !(y = d.n()).done; ) {
                  var _ = y.value, v = _.parentPath, m = _.parentSchemaType, b = m.schema.options.timestamps, g = s(b, "updatedAt");
                  if (b && null != g) {
                    if (m.$isSingleNested)
                      r2[v + "." + g] = o2;
                    else if (m.$isMongooseDocumentArray) {
                      var w = e2.substr(v.length + 1);
                      if (/^\d+$/.test(w)) {
                        r2[v + "." + w][g] = o2;
                        continue;
                      }
                      var O = w.indexOf(".");
                      r2[v + "." + (w = -1 !== O ? w.substr(0, O) : w) + "." + g] = o2;
                    }
                  }
                }
              } catch (t3) {
                d.e(t3);
              } finally {
                d.f();
              }
            } else if (null != c.schema && c.schema != t2 && r2[e2]) {
              var S = c.schema.options.timestamps, j = s(S, "createdAt"), A = s(S, "updatedAt");
              if (!S)
                return;
              null != A && (r2[e2][A] = o2), null != j && (r2[e2][j] = o2);
            }
          }
        }
        t.exports = a;
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2) {
          return t2.replace(/\.\$(\[[^\]]*\])?(?=\.)/g, ".0").replace(/\.\$(\[[^\]]*\])?$/g, ".0");
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(3);
        t.exports = function(t2, e2, r2, o, i) {
          var s = o, a = s, u = n(i, "overwrite", false), c = n(i, "timestamps", true);
          if (!c || null == s)
            return o;
          var l = null != c && false === c.createdAt, f = null != c && false === c.updatedAt;
          if (u)
            return o && o.$set && (o = o.$set, s.$set = {}, a = s.$set), f || !r2 || o[r2] || (a[r2] = t2), l || !e2 || o[e2] || (a[e2] = t2), s;
          if (o = o || {}, Array.isArray(s))
            return s.push({ $set: { updatedAt: t2 } }), s;
          if (s.$set = s.$set || {}, !f && r2 && (!o.$currentDate || !o.$currentDate[r2])) {
            var p = false;
            if (-1 !== r2.indexOf("."))
              for (var h = r2.split("."), y = 1; y < h.length; ++y) {
                var d = h.slice(-y).join("."), _ = h.slice(0, -y).join(".");
                if (null != o[_]) {
                  o[_][d] = t2, p = true;
                  break;
                }
                if (o.$set && o.$set[_]) {
                  o.$set[_][d] = t2, p = true;
                  break;
                }
              }
            p || (s.$set[r2] = t2), s.hasOwnProperty(r2) && delete s[r2];
          }
          if (!l && e2) {
            o[e2] && delete o[e2], o.$set && o.$set[e2] && delete o.$set[e2];
            var v = false;
            if (-1 !== e2.indexOf("."))
              for (var m = e2.split("."), b = 1; b < m.length; ++b) {
                var g = m.slice(-b).join("."), w = m.slice(0, -b).join(".");
                if (null != o[w]) {
                  o[w][g] = t2, v = true;
                  break;
                }
                if (o.$set && o.$set[w]) {
                  o.$set[w][g] = t2, v = true;
                  break;
                }
              }
            v || (s.$setOnInsert = s.$setOnInsert || {}, s.$setOnInsert[e2] = t2);
          }
          0 === Object.keys(s.$set).length && delete s.$set;
          return s;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(14), o = r(4);
        t.exports = function(t2, e2) {
          if ("string" == typeof t2)
            return;
          if ("function" == typeof t2)
            return;
          throw new n('Invalid ref at path "' + e2 + '". Got ' + o.inspect(t2, { depth: 0 }));
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = { useErrorHandlers: true, numCallbackParams: 1, nullResultByDefault: true }, o = e2.hooks.filter(function(t3) {
            var e3 = function(t4) {
              var e4 = {};
              t4.hasOwnProperty("query") && (e4.query = t4.query);
              t4.hasOwnProperty("document") && (e4.document = t4.document);
              return e4;
            }(t3);
            return "updateOne" === t3.name ? null == e3.query || !!e3.query : "deleteOne" === t3.name ? !!e3.query || 0 === Object.keys(e3).length : "validate" === t3.name || "remove" === t3.name ? !!e3.query : null == t3.query && null == t3.document || !!t3.query;
          });
          t2.prototype._execUpdate = o.createWrapper("update", t2.prototype._execUpdate, null, r2), t2.prototype.__distinct = o.createWrapper("distinct", t2.prototype.__distinct, null, r2), t2.prototype.validate = o.createWrapper("validate", t2.prototype.validate, null, r2), n.middlewareFunctions.filter(function(t3) {
            return "update" !== t3 && "distinct" !== t3 && "validate" !== t3;
          }).forEach(function(e3) {
            t2.prototype["_".concat(e3)] = o.createWrapper(e3, t2.prototype["_".concat(e3)], null, r2);
          });
        }
        t.exports = n, n.middlewareFunctions = ["count", "countDocuments", "deleteMany", "deleteOne", "distinct", "estimatedDocumentCount", "find", "findOne", "findOneAndDelete", "findOneAndRemove", "findOneAndReplace", "findOneAndUpdate", "remove", "replaceOne", "update", "updateMany", "updateOne", "validate"];
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        var i = r(6), s = r(5), a = r(150), u = r(79), c = r(1), l = i.CastError;
        function f(t2, e2) {
          this.enumValues = [], this.regExp = null, i.call(this, t2, e2, "String");
        }
        function p(t2) {
          return this.castForQuery(t2);
        }
        f.schemaName = "String", f.defaultOptions = {}, f.prototype = Object.create(i.prototype), f.prototype.constructor = f, Object.defineProperty(f.prototype, "OptionsConstructor", { configurable: false, enumerable: false, writable: false, value: a }), f._cast = u, f.cast = function(t2) {
          return 0 === arguments.length || (false === t2 && (t2 = this._defaultCaster), this._cast = t2), this._cast;
        }, f._defaultCaster = function(t2) {
          if (null != t2 && "string" != typeof t2)
            throw new Error();
          return t2;
        }, f.get = i.get, f.set = i.set, f._checkRequired = function(t2) {
          return (t2 instanceof String || "string" == typeof t2) && t2.length;
        }, f.checkRequired = i.checkRequired, f.prototype.enum = function() {
          if (this.enumValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.enumValidator;
          }, this), this.enumValidator = false), void 0 === arguments[0] || false === arguments[0])
            return this;
          var t2, e2;
          c.isObject(arguments[0]) ? Array.isArray(arguments[0].values) ? (t2 = arguments[0].values, e2 = arguments[0].message) : (t2 = c.object.vals(arguments[0]), e2 = s.messages.String.enum) : (t2 = arguments, e2 = s.messages.String.enum);
          var r2, o2 = n(t2);
          try {
            for (o2.s(); !(r2 = o2.n()).done; ) {
              var i2 = r2.value;
              void 0 !== i2 && this.enumValues.push(this.cast(i2));
            }
          } catch (t3) {
            o2.e(t3);
          } finally {
            o2.f();
          }
          var a2 = this.enumValues;
          return this.enumValidator = function(t3) {
            return void 0 === t3 || ~a2.indexOf(t3);
          }, this.validators.push({ validator: this.enumValidator, message: e2, type: "enum", enumValues: a2 }), this;
        }, f.prototype.lowercase = function(t2) {
          return arguments.length > 0 && !t2 ? this : this.set(function(t3, e2) {
            return "string" != typeof t3 && (t3 = e2.cast(t3)), t3 ? t3.toLowerCase() : t3;
          });
        }, f.prototype.uppercase = function(t2) {
          return arguments.length > 0 && !t2 ? this : this.set(function(t3, e2) {
            return "string" != typeof t3 && (t3 = e2.cast(t3)), t3 ? t3.toUpperCase() : t3;
          });
        }, f.prototype.trim = function(t2) {
          return arguments.length > 0 && !t2 ? this : this.set(function(t3, e2) {
            return "string" != typeof t3 && (t3 = e2.cast(t3)), t3 ? t3.trim() : t3;
          });
        }, f.prototype.minlength = function(t2, e2) {
          if (this.minlengthValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.minlengthValidator;
          }, this)), null != t2) {
            var r2 = e2 || s.messages.String.minlength;
            r2 = r2.replace(/{MINLENGTH}/, t2), this.validators.push({ validator: this.minlengthValidator = function(e3) {
              return null === e3 || e3.length >= t2;
            }, message: r2, type: "minlength", minlength: t2 });
          }
          return this;
        }, f.prototype.minLength = f.prototype.minlength, f.prototype.maxlength = function(t2, e2) {
          if (this.maxlengthValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.maxlengthValidator;
          }, this)), null != t2) {
            var r2 = e2 || s.messages.String.maxlength;
            r2 = r2.replace(/{MAXLENGTH}/, t2), this.validators.push({ validator: this.maxlengthValidator = function(e3) {
              return null === e3 || e3.length <= t2;
            }, message: r2, type: "maxlength", maxlength: t2 });
          }
          return this;
        }, f.prototype.maxLength = f.prototype.maxlength, f.prototype.match = function(t2, e2) {
          var r2 = e2 || s.messages.String.match;
          return this.validators.push({ validator: function(e3) {
            return !!t2 && (t2.lastIndex = 0, null == e3 || "" === e3 || t2.test(e3));
          }, message: r2, type: "regexp", regexp: t2 }), this;
        }, f.prototype.checkRequired = function(t2, e2) {
          return i._isRef(this, t2, e2, true) ? !!t2 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : f.checkRequired())(t2);
        }, f.prototype.cast = function(t2, e2, r2) {
          if (i._isRef(this, t2, e2, r2))
            return "string" == typeof t2 ? t2 : this._castRef(t2, e2, r2);
          var n2;
          n2 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : f.cast();
          try {
            return n2(t2);
          } catch (e3) {
            throw new l("string", t2, this.path, null, this);
          }
        };
        var h = c.options(i.prototype.$conditionalHandlers, { $all: function(t2) {
          var e2 = this;
          return Array.isArray(t2) ? t2.map(function(t3) {
            return e2.castForQuery(t3);
          }) : [this.castForQuery(t2)];
        }, $gt: p, $gte: p, $lt: p, $lte: p, $options: String, $regex: p, $not: p });
        Object.defineProperty(f.prototype, "$conditionalHandlers", { configurable: false, enumerable: false, writable: false, value: Object.freeze(h) }), f.prototype.castForQuery = function(t2, e2) {
          var r2;
          if (2 === arguments.length) {
            if (!(r2 = this.$conditionalHandlers[t2]))
              throw new Error("Can't use " + t2 + " with String.");
            return r2.call(this, e2);
          }
          return e2 = t2, "[object RegExp]" === Object.prototype.toString.call(e2) ? e2 : this._castForQuery(e2);
        }, t.exports = f;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "enum", f), Object.defineProperty(l.prototype, "match", f), Object.defineProperty(l.prototype, "lowercase", f), Object.defineProperty(l.prototype, "trim", f), Object.defineProperty(l.prototype, "uppercase", f), Object.defineProperty(l.prototype, "minLength", f), Object.defineProperty(l.prototype, "minlength", f), Object.defineProperty(l.prototype, "maxLength", f), Object.defineProperty(l.prototype, "maxlength", f), Object.defineProperty(l.prototype, "populate", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "min", f), Object.defineProperty(l.prototype, "max", f), Object.defineProperty(l.prototype, "enum", f), Object.defineProperty(l.prototype, "populate", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        var n = r(23);
        t.exports = function(t2) {
          return null == t2 ? t2 : "" === t2 ? null : ("string" != typeof t2 && "boolean" != typeof t2 || (t2 = Number(t2)), n.ok(!isNaN(t2)), t2 instanceof Number ? t2.valueOf() : "number" == typeof t2 ? t2 : Array.isArray(t2) || "function" != typeof t2.valueOf ? t2.toString && !Array.isArray(t2) && t2.toString() == Number(t2) ? Number(t2) : void n.ok(false) : Number(t2.valueOf()));
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(13), o = r(6), i = r(53), s = r(1);
        function a(t2, e2) {
          o.call(this, t2, e2, "Boolean");
        }
        a.schemaName = "Boolean", a.defaultOptions = {}, a.prototype = Object.create(o.prototype), a.prototype.constructor = a, a._cast = i, a.set = o.set, a.cast = function(t2) {
          return 0 === arguments.length || (false === t2 && (t2 = this._defaultCaster), this._cast = t2), this._cast;
        }, a._defaultCaster = function(t2) {
          if (null != t2 && "boolean" != typeof t2)
            throw new Error();
          return t2;
        }, a._checkRequired = function(t2) {
          return true === t2 || false === t2;
        }, a.checkRequired = o.checkRequired, a.prototype.checkRequired = function(t2) {
          return this.constructor._checkRequired(t2);
        }, Object.defineProperty(a, "convertToTrue", { get: function() {
          return i.convertToTrue;
        }, set: function(t2) {
          i.convertToTrue = t2;
        } }), Object.defineProperty(a, "convertToFalse", { get: function() {
          return i.convertToFalse;
        }, set: function(t2) {
          i.convertToFalse = t2;
        } }), a.prototype.cast = function(t2) {
          var e2;
          e2 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : a.cast();
          try {
            return e2(t2);
          } catch (e3) {
            throw new n("Boolean", t2, this.path, e3, this);
          }
        }, a.$conditionalHandlers = s.options(o.prototype.$conditionalHandlers, {}), a.prototype.castForQuery = function(t2, e2) {
          var r2;
          return 2 === arguments.length ? (r2 = a.$conditionalHandlers[t2]) ? r2.call(this, e2) : this._castForQuery(e2) : this._castForQuery(t2);
        }, a.prototype._castNullish = function(t2) {
          if (void 0 === t2 && null != this.$$context && null != this.$$context._mongooseOptions && this.$$context._mongooseOptions.omitUndefined)
            return t2;
          var e2 = "function" == typeof this.constructor.cast ? this.constructor.cast() : a.cast();
          return null == e2 ? t2 : !(e2.convertToFalse instanceof Set && e2.convertToFalse.has(t2)) && (!!(e2.convertToTrue instanceof Set && e2.convertToTrue.has(t2)) || t2);
        }, t.exports = a;
      }, function(t, e, r) {
        "use strict";
        var n, o, i = r(57), s = r(13), a = r(19).EventEmitter, u = r(160), c = r(6), l = r(33), f = r(93), p = r(3), h = r(94), y = r(4), d = r(1), _ = r(95), v = r(0).arrayAtomicsSymbol, m = r(0).arrayPathSymbol, b = r(0).documentArrayParent;
        function g(t2, e2, r2, n2) {
          null != n2 && null != n2._id ? e2 = h(e2, n2) : null != r2 && null != r2._id && (e2 = h(e2, r2));
          var o2 = w(e2, r2);
          o2.prototype.$basePath = t2, i.call(this, t2, o2, r2), this.schema = e2, this.schemaOptions = n2 || {}, this.$isMongooseDocumentArray = true, this.Constructor = o2, o2.base = e2.base;
          var s2 = this.defaultValue;
          "defaultValue" in this && void 0 === s2 || this.default(function() {
            var t3 = s2.call(this);
            return Array.isArray(t3) || (t3 = [t3]), t3;
          });
          var a2 = this;
          this.$embeddedSchemaType = new c(t2 + ".$", { required: p(this, "schemaOptions.required", false) }), this.$embeddedSchemaType.cast = function(t3, e3, r3) {
            return a2.cast(t3, e3, r3)[0];
          }, this.$embeddedSchemaType.$isMongooseDocumentArrayElement = true, this.$embeddedSchemaType.caster = this.Constructor, this.$embeddedSchemaType.schema = this.schema;
        }
        function w(t2, e2, n2) {
          function i2() {
            o.apply(this, arguments), this.$session(this.ownerDocument().$session());
          }
          o || (o = r(29));
          var s2 = null != n2 ? n2.prototype : o.prototype;
          for (var u2 in i2.prototype = Object.create(s2), i2.prototype.$__setSchema(t2), i2.schema = t2, i2.prototype.constructor = i2, i2.$isArraySubdocument = true, i2.events = new a(), t2.methods)
            i2.prototype[u2] = t2.methods[u2];
          for (var c2 in t2.statics)
            i2[c2] = t2.statics[c2];
          for (var l2 in a.prototype)
            i2[l2] = a.prototype[l2];
          return i2.options = e2, i2;
        }
        function O(t2, e2, r2) {
          if (r2 && e2) {
            for (var n2, o2, i2, s2 = t2.path + ".", a2 = Object.keys(e2), u2 = a2.length, c2 = {}; u2--; )
              if ((o2 = a2[u2]).startsWith(s2)) {
                if ("$" === (i2 = o2.substring(s2.length)))
                  continue;
                i2.startsWith("$.") && (i2 = i2.substr(2)), n2 || (n2 = true), c2[i2] = e2[o2];
              }
            return n2 && c2 || void 0;
          }
        }
        g.schemaName = "DocumentArray", g.options = { castNonArrays: true }, g.prototype = Object.create(i.prototype), g.prototype.constructor = g, g.prototype.OptionsConstructor = u, g.prototype.discriminator = function(t2, e2, r2) {
          "function" == typeof t2 && (t2 = d.getFunctionName(t2));
          var n2 = w(e2 = f(this.casterConstructor, t2, e2, r2), null, this.casterConstructor);
          n2.baseCasterConstructor = this.casterConstructor;
          try {
            Object.defineProperty(n2, "name", { value: t2 });
          } catch (t3) {
          }
          return this.casterConstructor.discriminators[t2] = n2, this.casterConstructor.discriminators[t2];
        }, g.prototype.doValidate = function(t2, e2, i2, s2) {
          n || (n = r(18));
          var a2 = this;
          try {
            c.prototype.doValidate.call(this, t2, function(r2) {
              if (r2)
                return r2.$isArrayValidatorError = true, e2(r2);
              var u2, c2 = t2 && t2.length;
              if (!c2)
                return e2();
              if (s2 && s2.updateValidator)
                return e2();
              t2.isMongooseDocumentArray || (t2 = new n(t2, a2.path, i2));
              function f2(t3) {
                null != t3 && ((u2 = t3) instanceof l || (u2.$isArrayValidatorError = true)), --c2 || e2(u2);
              }
              for (var p2 = 0, h2 = c2; p2 < h2; ++p2) {
                var y2 = t2[p2];
                if (null != y2) {
                  if (!(y2 instanceof o)) {
                    var d2 = _(a2.casterConstructor, t2[p2]);
                    y2 = t2[p2] = new d2(y2, t2, void 0, void 0, p2);
                  }
                  null == s2 || !s2.validateModifiedOnly || y2.isModified() ? y2.$__validate(f2) : --c2 || e2(u2);
                } else
                  --c2 || e2(u2);
              }
            }, i2);
          } catch (t3) {
            return t3.$isArrayValidatorError = true, e2(t3);
          }
        }, g.prototype.doValidateSync = function(t2, e2, r2) {
          var n2 = c.prototype.doValidateSync.call(this, t2, e2);
          if (null != n2)
            return n2.$isArrayValidatorError = true, n2;
          var i2 = t2 && t2.length, s2 = null;
          if (i2) {
            for (var a2 = 0, u2 = i2; a2 < u2; ++a2) {
              var l2 = t2[a2];
              if (l2) {
                if (!(l2 instanceof o)) {
                  var f2 = _(this.casterConstructor, t2[a2]);
                  l2 = t2[a2] = new f2(l2, t2, void 0, void 0, a2);
                }
                if (null == r2 || !r2.validateModifiedOnly || l2.isModified()) {
                  var p2 = l2.validateSync();
                  p2 && null == s2 && (s2 = p2);
                }
              }
            }
            return s2;
          }
        }, g.prototype.getDefault = function(t2) {
          var e2 = "function" == typeof this.defaultValue ? this.defaultValue.call(t2) : this.defaultValue;
          if (null == e2)
            return e2;
          n || (n = r(18)), Array.isArray(e2) || (e2 = [e2]), e2 = new n(e2, this.path, t2);
          for (var o2 = 0; o2 < e2.length; ++o2) {
            var i2 = new (_(this.casterConstructor, e2[o2]))({}, e2, void 0, void 0, o2);
            i2.init(e2[o2]), i2.isNew = true, Object.assign(i2.$__.activePaths.default, i2.$__.activePaths.init), i2.$__.activePaths.init = {}, e2[o2] = i2;
          }
          return e2;
        }, g.prototype.cast = function(t2, e2, i2, a2, u2) {
          if (n || (n = r(18)), null != t2 && null != t2[m] && t2 === a2)
            return t2;
          var c2, l2, f2 = { transform: false, virtuals: false };
          if (u2 = u2 || {}, !Array.isArray(t2)) {
            if (!i2 && !g.options.castNonArrays)
              throw new s("DocumentArray", y.inspect(t2), this.path, null, this);
            return e2 && i2 && e2.markModified(this.path), this.cast([t2], e2, i2, a2, u2);
          }
          t2 && t2.isMongooseDocumentArray || u2.skipDocumentArrayCast ? t2 && t2.isMongooseDocumentArray && (t2 = new n(t2, this.path, e2)) : t2 = new n(t2, this.path, e2), null != a2 && (t2[v] = a2[v] || {}), null != u2.arrayPathIndex && (t2[m] = this.path + "." + u2.arrayPathIndex);
          for (var p2 = t2.length, h2 = { skipId: true, willInit: true }, w2 = 0; w2 < p2; ++w2)
            if (t2[w2]) {
              var S = _(this.casterConstructor, t2[w2]);
              if (!t2[w2].$__ || t2[w2] instanceof S && t2[w2][b] === e2 || (t2[w2] = t2[w2].toObject({ transform: false, virtuals: t2[w2].schema === S.schema })), t2[w2] instanceof o)
                null == t2[w2].__index && t2[w2].$setIndex(w2);
              else if (null != t2[w2])
                if (i2)
                  e2 ? c2 || (c2 = O(this, e2.$__.selected, i2)) : c2 = true, l2 = new S(null, t2, h2, c2, w2), t2[w2] = l2.init(t2[w2]);
                else if (a2 && "function" == typeof a2.id && (l2 = a2.id(t2[w2]._id)), a2 && l2 && d.deepEqual(l2.toObject(f2), t2[w2]))
                  l2.set(t2[w2]), t2[w2] = l2;
                else
                  try {
                    l2 = new S(t2[w2], t2, void 0, void 0, w2), t2[w2] = l2;
                  } catch (e3) {
                    var j = y.inspect(t2[w2]);
                    throw new s("embedded", j, t2[m], e3, this);
                  }
            }
          return t2;
        }, g.prototype.clone = function() {
          var t2 = Object.assign({}, this.options), e2 = new this.constructor(this.path, this.schema, t2, this.schemaOptions);
          return e2.validators = this.validators.slice(), void 0 !== this.requiredValidator && (e2.requiredValidator = this.requiredValidator), e2.Constructor.discriminators = Object.assign({}, this.Constructor.discriminators), e2;
        }, g.prototype.applyGetters = function(t2, e2) {
          return c.prototype.applyGetters.call(this, t2, e2);
        }, g.defaultOptions = {}, g.set = c.set, t.exports = g;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "enum", f), Object.defineProperty(l.prototype, "of", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        t.exports = function t2(e2) {
          if (!Array.isArray(e2))
            return { min: 0, max: 0, containsNonArrayItem: true };
          if (0 === e2.length)
            return { min: 1, max: 1, containsNonArrayItem: false };
          if (1 === e2.length && !Array.isArray(e2[0]))
            return { min: 1, max: 1, containsNonArrayItem: false };
          for (var r2 = t2(e2[0]), n = 1; n < e2.length; ++n) {
            var o = t2(e2[n]);
            o.min < r2.min && (r2.min = o.min), o.max > r2.max && (r2.max = o.max), r2.containsNonArrayItem = r2.containsNonArrayItem || o.containsNonArrayItem;
          }
          return r2.min = r2.min + 1, r2.max = r2.max + 1, r2;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return o(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return o(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function o(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        function i(t2) {
          return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var s = r(13), a = r(34), u = r(56), c = r(158), l = r(3), f = r(24), p = r(159), h = r(83), y = r(4), d = r(21), _ = r(31), v = ["Polygon", "MultiPolygon"];
        function m(t2, e2, r2) {
          if (Array.isArray(t2))
            t2.forEach(function(n3, o3) {
              if (Array.isArray(n3) || d(n3))
                return m(n3, e2, r2);
              t2[o3] = e2.castForQueryWrapper({ val: n3, context: r2 });
            });
          else
            for (var n2 = Object.keys(t2), o2 = n2.length; o2--; ) {
              var i2 = n2[o2], s2 = t2[i2];
              Array.isArray(s2) || d(s2) ? (m(s2, e2, r2), t2[i2] = s2) : t2[i2] = e2.castForQuery({ val: s2, context: r2 });
            }
        }
        t.exports = function t2(e2, r2, o2, b) {
          if (Array.isArray(r2))
            throw new Error("Query filter must be an object, got an array ", y.inspect(r2));
          if (null == r2)
            return r2;
          r2.hasOwnProperty("_bsontype") && "ObjectID" !== r2._bsontype && delete r2._bsontype, null != e2 && null != e2.discriminators && null != r2[e2.options.discriminatorKey] && (e2 = p(e2, r2[e2.options.discriminatorKey]) || e2);
          var g, w, O, S, j, A, $ = Object.keys(r2), E = $.length;
          for (o2 = o2 || {}; E--; )
            if (A = r2[S = $[E]], "$or" === S || "$nor" === S || "$and" === S) {
              if (!Array.isArray(A))
                throw new s("Array", A, S);
              for (var P = 0; P < A.length; ++P) {
                if (null == A[P] || "object" !== i(A[P]))
                  throw new s("Object", A[P], S + "." + P);
                A[P] = t2(e2, A[P], o2, b);
              }
            } else {
              if ("$where" === S) {
                if ("string" !== (j = i(A)) && "function" !== j)
                  throw new Error("Must have a string or function for $where");
                "function" === j && (r2[S] = A.toString());
                continue;
              }
              if ("$elemMatch" === S)
                A = t2(e2, A, o2, b);
              else if ("$text" === S)
                A = c(A, S);
              else {
                if (!e2)
                  continue;
                if (!(w = e2.path(S)))
                  for (var x = S.split("."), T = x.length; T--; ) {
                    var k = x.slice(0, T).join("."), N = x.slice(T).join("."), B = e2.path(k), C = l(B, "schema.options.discriminatorKey");
                    if (null != B && null != l(B, "schema.discriminators") && null != C && N !== C) {
                      var R = l(r2, k + "." + C);
                      null != R && (w = B.schema.discriminators[R].path(N));
                    }
                  }
                if (w) {
                  if (null == A)
                    continue;
                  if ("Object" === f(A))
                    if (Object.keys(A).some(h))
                      for (var D = Object.keys(A), M = void 0, I = D.length; I--; )
                        if (O = A[M = D[I]], "$not" === M) {
                          if (O && w && !w.caster) {
                            if ((g = Object.keys(O)).length && h(g[0]))
                              for (var F in O)
                                O[F] = w.castForQueryWrapper({ $conditional: F, val: O[F], context: b });
                            else
                              A[M] = w.castForQueryWrapper({ $conditional: M, val: O, context: b });
                            continue;
                          }
                          t2(w.caster ? w.caster.schema : e2, O, o2, b);
                        } else
                          A[M] = w.castForQueryWrapper({ $conditional: M, val: O, context: b });
                    else
                      r2[S] = w.castForQueryWrapper({ val: A, context: b });
                  else if (Array.isArray(A) && -1 === ["Buffer", "Array"].indexOf(w.instance)) {
                    var L, U = [], V = n(A);
                    try {
                      for (V.s(); !(L = V.n()).done; ) {
                        var q = L.value;
                        U.push(w.castForQueryWrapper({ val: q, context: b }));
                      }
                    } catch (t3) {
                      V.e(t3);
                    } finally {
                      V.f();
                    }
                    r2[S] = { $in: U };
                  } else
                    r2[S] = w.castForQueryWrapper({ val: A, context: b });
                } else {
                  for (var W = S.split("."), H = W.length, Y = void 0, K = void 0, z = void 0; H-- && (Y = W.slice(0, H).join("."), !(w = e2.path(Y))); )
                    ;
                  if (w) {
                    w.caster && w.caster.schema ? ((z = {})[K = W.slice(H).join(".")] = A, r2[S] = t2(w.caster.schema, z, o2, b)[K]) : r2[S] = A;
                    continue;
                  }
                  if (d(A)) {
                    var Q = "";
                    if (A.$near ? Q = "$near" : A.$nearSphere ? Q = "$nearSphere" : A.$within ? Q = "$within" : A.$geoIntersects ? Q = "$geoIntersects" : A.$geoWithin && (Q = "$geoWithin"), Q) {
                      var J = new u.Number("__QueryCasting__"), G = A[Q];
                      if (null != A.$maxDistance && (A.$maxDistance = J.castForQueryWrapper({ val: A.$maxDistance, context: b })), null != A.$minDistance && (A.$minDistance = J.castForQueryWrapper({ val: A.$minDistance, context: b })), "$within" === Q) {
                        var X = G.$center || G.$centerSphere || G.$box || G.$polygon;
                        if (!X)
                          throw new Error("Bad $within parameter: " + JSON.stringify(A));
                        G = X;
                      } else if ("$near" === Q && "string" == typeof G.type && Array.isArray(G.coordinates))
                        G = G.coordinates;
                      else if (("$near" === Q || "$nearSphere" === Q || "$geoIntersects" === Q) && G.$geometry && "string" == typeof G.$geometry.type && Array.isArray(G.$geometry.coordinates))
                        null != G.$maxDistance && (G.$maxDistance = J.castForQueryWrapper({ val: G.$maxDistance, context: b })), null != G.$minDistance && (G.$minDistance = J.castForQueryWrapper({ val: G.$minDistance, context: b })), _(G.$geometry) && (G.$geometry = G.$geometry.toObject({ transform: false, virtuals: false })), G = G.$geometry.coordinates;
                      else if ("$geoWithin" === Q)
                        if (G.$geometry) {
                          _(G.$geometry) && (G.$geometry = G.$geometry.toObject({ virtuals: false }));
                          var Z = G.$geometry.type;
                          if (-1 === v.indexOf(Z))
                            throw new Error('Invalid geoJSON type for $geoWithin "' + Z + '", must be "Polygon" or "MultiPolygon"');
                          G = G.$geometry.coordinates;
                        } else
                          G = G.$box || G.$polygon || G.$center || G.$centerSphere, _(G) && (G = G.toObject({ virtuals: false }));
                      m(G, J, b);
                      continue;
                    }
                  }
                  if (e2.nested[S])
                    continue;
                  if (o2.upsert && o2.strict) {
                    if ("throw" === o2.strict)
                      throw new a(S);
                    throw new a(S, 'Path "' + S + '" is not in schema, strict mode is `true`, and upsert is `true`.');
                  }
                  if ("throw" === o2.strictQuery)
                    throw new a(S, 'Path "' + S + `" is not in schema and strictQuery is 'throw'.`);
                  o2.strictQuery && delete r2[S];
                }
              }
            }
          return r2;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var o = r(13), i = r(53), s = r(79);
        t.exports = function(t2, e2) {
          if (null == t2 || "object" !== n(t2))
            throw new o("$text", t2, e2);
          return null != t2.$search && (t2.$search = s(t2.$search, e2 + ".$search")), null != t2.$language && (t2.$language = s(t2.$language, e2 + ".$language")), null != t2.$caseSensitive && (t2.$caseSensitive = i(t2.$caseSensitive, e2 + ".$castSensitive")), null != t2.$diacriticSensitive && (t2.$diacriticSensitive = i(t2.$diacriticSensitive, e2 + ".$diacriticSensitive")), t2;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(82);
        t.exports = function(t2, e2) {
          if (null == t2 || null == t2.discriminators)
            return null;
          for (var r2 = 0, o = Object.keys(t2.discriminators); r2 < o.length; r2++) {
            var i = o[r2], s = t2.discriminators[i];
            if (null != s.discriminatorMapping && n(s.discriminatorMapping.value, e2))
              return s;
          }
          return null;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "excludeIndexes", f), Object.defineProperty(l.prototype, "_id", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        var o, i = r(13), s = r(19).EventEmitter, a = r(75), u = r(162), c = r(6), l = r(52), f = r(36).castToNumber, p = r(93), h = r(84), y = r(3), d = r(95), _ = r(94), v = r(17).internalToObjectOptions;
        function m(t2, e2, r2) {
          t2 = _(t2, r2), this.caster = b(t2), this.caster.path = e2, this.caster.prototype.$basePath = e2, this.schema = t2, this.$isSingleNested = true, c.call(this, e2, r2, "Embedded");
        }
        function b(t2, e2) {
          o || (o = r(92));
          var n2 = function(t3, e3, r2) {
            var n3 = this;
            this.$__parent = r2, o.apply(this, arguments), this.$session(this.ownerDocument().$session()), r2 && (r2.on("save", function() {
              n3.emit("save", n3), n3.constructor.emit("save", n3);
            }), r2.on("isNew", function(t4) {
              n3.isNew = t4, n3.emit("isNew", t4), n3.constructor.emit("isNew", t4);
            }));
          }, i2 = null != e2 ? e2.prototype : o.prototype;
          for (var a2 in (n2.prototype = Object.create(i2)).$__setSchema(t2), n2.prototype.constructor = n2, n2.schema = t2, n2.$isSingleNested = true, n2.events = new s(), n2.prototype.toBSON = function() {
            return this.toObject(v);
          }, t2.methods)
            n2.prototype[a2] = t2.methods[a2];
          for (var u2 in t2.statics)
            n2[u2] = t2.statics[u2];
          for (var c2 in s.prototype)
            n2[c2] = s.prototype[c2];
          return n2;
        }
        t.exports = m, m.prototype = Object.create(c.prototype), m.prototype.constructor = m, m.prototype.OptionsConstructor = u, m.prototype.$conditionalHandlers.$geoWithin = function(t2) {
          return { $geometry: this.castForQuery(t2.$geometry) };
        }, m.prototype.$conditionalHandlers.$near = m.prototype.$conditionalHandlers.$nearSphere = h.cast$near, m.prototype.$conditionalHandlers.$within = m.prototype.$conditionalHandlers.$geoWithin = h.cast$within, m.prototype.$conditionalHandlers.$geoIntersects = h.cast$geoIntersects, m.prototype.$conditionalHandlers.$minDistance = f, m.prototype.$conditionalHandlers.$maxDistance = f, m.prototype.$conditionalHandlers.$exists = l, m.prototype.cast = function(t2, e2, r2, o2, i2) {
          if (t2 && t2.$isSingleNested && t2.parent === e2)
            return t2;
          if (null != t2 && ("object" !== n(t2) || Array.isArray(t2)))
            throw new a(this.path, t2);
          var s2, u2 = d(this.caster, t2), c2 = y(e2, "$__.selected", {}), l2 = this.path, f2 = Object.keys(c2).reduce(function(t3, e3) {
            return e3.startsWith(l2 + ".") && (t3[e3.substr(l2.length + 1)] = c2[e3]), t3;
          }, {});
          return i2 = Object.assign({}, i2, { priorDoc: o2 }), r2 ? ((s2 = new u2(void 0, f2, e2)).init(t2), s2) : 0 === Object.keys(t2).length ? new u2({}, f2, e2, void 0, i2) : new u2(t2, f2, e2, void 0, i2);
        }, m.prototype.castForQuery = function(t2, e2, r2) {
          var n2;
          if (2 === arguments.length) {
            if (!(n2 = this.$conditionalHandlers[t2]))
              throw new Error("Can't use " + t2);
            return n2.call(this, e2);
          }
          if (null == (e2 = t2))
            return e2;
          this.options.runSetters && (e2 = this._applySetters(e2));
          var o2 = d(this.caster, e2), s2 = null != r2 && null != r2.strict ? r2.strict : void 0;
          try {
            e2 = new o2(e2, s2);
          } catch (t3) {
            if (!(t3 instanceof i))
              throw new i("Embedded", e2, this.path, t3, this);
            throw t3;
          }
          return e2;
        }, m.prototype.doValidate = function(t2, e2, r2, n2) {
          var o2 = d(this.caster, t2);
          if (n2 && n2.skipSchemaValidators)
            return t2 instanceof o2 || (t2 = new o2(t2, null, r2)), t2.validate(e2);
          c.prototype.doValidate.call(this, t2, function(r3) {
            return r3 ? e2(r3) : t2 ? void t2.validate(e2) : e2(null);
          }, r2, n2);
        }, m.prototype.doValidateSync = function(t2, e2, r2) {
          if (!r2 || !r2.skipSchemaValidators) {
            var n2 = c.prototype.doValidateSync.call(this, t2, e2);
            if (n2)
              return n2;
          }
          if (t2)
            return t2.validateSync();
        }, m.prototype.discriminator = function(t2, e2, r2) {
          return e2 = p(this.caster, t2, e2, r2), this.caster.discriminators[t2] = b(e2, this.caster), this.caster.discriminators[t2];
        }, m.defaultOptions = {}, m.set = c.set, m.prototype.clone = function() {
          var t2 = Object.assign({}, this.options), e2 = new this.constructor(this.schema, this.path, t2);
          return e2.validators = this.validators.slice(), void 0 !== this.requiredValidator && (e2.requiredValidator = this.requiredValidator), e2.caster.discriminators = Object.assign({}, this.caster.discriminators), e2;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "_id", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          var o = r(88), i = r(164), s = r(6), a = r(81), u = r(1), c = o.Binary, l = s.CastError;
          function f(t2, e3) {
            s.call(this, t2, e3, "Buffer");
          }
          function p(t2) {
            return this.castForQuery(t2);
          }
          f.schemaName = "Buffer", f.defaultOptions = {}, f.prototype = Object.create(s.prototype), f.prototype.constructor = f, f.prototype.OptionsConstructor = i, f._checkRequired = function(t2) {
            return !(!t2 || !t2.length);
          }, f.set = s.set, f.checkRequired = s.checkRequired, f.prototype.checkRequired = function(t2, e3) {
            return s._isRef(this, t2, e3, true) ? !!t2 : this.constructor._checkRequired(t2);
          }, f.prototype.cast = function(t2, r2, i2) {
            var a2;
            if (s._isRef(this, t2, r2, i2)) {
              if (t2 && t2.isMongooseBuffer)
                return t2;
              if (e2.isBuffer(t2))
                return t2 && t2.isMongooseBuffer || (t2 = new o(t2, [this.path, r2]), null != this.options.subtype && (t2._subtype = this.options.subtype)), t2;
              if (t2 instanceof c) {
                if (a2 = new o(t2.value(true), [this.path, r2]), "number" != typeof t2.sub_type)
                  throw new l("Buffer", t2, this.path, null, this);
                return a2._subtype = t2.sub_type, a2;
              }
              return this._castRef(t2, r2, i2);
            }
            if (t2 && t2._id && (t2 = t2._id), t2 && t2.isMongooseBuffer)
              return t2;
            if (e2.isBuffer(t2))
              return t2 && t2.isMongooseBuffer || (t2 = new o(t2, [this.path, r2]), null != this.options.subtype && (t2._subtype = this.options.subtype)), t2;
            if (t2 instanceof c) {
              if (a2 = new o(t2.value(true), [this.path, r2]), "number" != typeof t2.sub_type)
                throw new l("Buffer", t2, this.path, null, this);
              return a2._subtype = t2.sub_type, a2;
            }
            if (null === t2)
              return t2;
            var u2 = n(t2);
            if ("string" === u2 || "number" === u2 || Array.isArray(t2) || "object" === u2 && "Buffer" === t2.type && Array.isArray(t2.data))
              return "number" === u2 && (t2 = [t2]), a2 = new o(t2, [this.path, r2]), null != this.options.subtype && (a2._subtype = this.options.subtype), a2;
            throw new l("Buffer", t2, this.path, null, this);
          }, f.prototype.subtype = function(t2) {
            return this.options.subtype = t2, this;
          }, f.prototype.$conditionalHandlers = u.options(s.prototype.$conditionalHandlers, { $bitsAllClear: a, $bitsAnyClear: a, $bitsAllSet: a, $bitsAnySet: a, $gt: p, $gte: p, $lt: p, $lte: p }), f.prototype.castForQuery = function(t2, e3) {
            var r2;
            if (2 === arguments.length) {
              if (!(r2 = this.$conditionalHandlers[t2]))
                throw new Error("Can't use " + t2 + " with Buffer.");
              return r2.call(this, e3);
            }
            e3 = t2;
            var n2 = this._castForQuery(e3);
            return n2 ? n2.toObject({ transform: false, virtuals: false }) : n2;
          }, t.exports = f;
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "subtype", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        var n = r(5), o = r(166), i = r(6), s = r(167), a = r(24), u = r(1), c = i.CastError;
        function l(t2, e2) {
          i.call(this, t2, e2, "Date");
        }
        function f(t2) {
          return this.cast(t2);
        }
        l.schemaName = "Date", l.defaultOptions = {}, l.prototype = Object.create(i.prototype), l.prototype.constructor = l, l.prototype.OptionsConstructor = o, l._cast = s, l.set = i.set, l.cast = function(t2) {
          return 0 === arguments.length || (false === t2 && (t2 = this._defaultCaster), this._cast = t2), this._cast;
        }, l._defaultCaster = function(t2) {
          if (null != t2 && !(t2 instanceof Date))
            throw new Error();
          return t2;
        }, l.prototype.expires = function(t2) {
          return "Object" !== a(this._index) && (this._index = {}), this._index.expires = t2, u.expires(this._index), this;
        }, l._checkRequired = function(t2) {
          return t2 instanceof Date;
        }, l.checkRequired = i.checkRequired, l.prototype.checkRequired = function(t2, e2) {
          return i._isRef(this, t2, e2, true) ? !!t2 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : l.checkRequired())(t2);
        }, l.prototype.min = function(t2, e2) {
          if (this.minValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.minValidator;
          }, this)), t2) {
            var r2 = e2 || n.messages.Date.min;
            "string" == typeof r2 && (r2 = r2.replace(/{MIN}/, t2 === Date.now ? "Date.now()" : t2.toString()));
            var o2 = this;
            this.validators.push({ validator: this.minValidator = function(e3) {
              var r3 = t2;
              "function" == typeof t2 && t2 !== Date.now && (r3 = r3.call(this));
              var n2 = r3 === Date.now ? r3() : o2.cast(r3);
              return null === e3 || e3.valueOf() >= n2.valueOf();
            }, message: r2, type: "min", min: t2 });
          }
          return this;
        }, l.prototype.max = function(t2, e2) {
          if (this.maxValidator && (this.validators = this.validators.filter(function(t3) {
            return t3.validator !== this.maxValidator;
          }, this)), t2) {
            var r2 = e2 || n.messages.Date.max;
            "string" == typeof r2 && (r2 = r2.replace(/{MAX}/, t2 === Date.now ? "Date.now()" : t2.toString()));
            var o2 = this;
            this.validators.push({ validator: this.maxValidator = function(e3) {
              var r3 = t2;
              "function" == typeof r3 && r3 !== Date.now && (r3 = r3.call(this));
              var n2 = r3 === Date.now ? r3() : o2.cast(r3);
              return null === e3 || e3.valueOf() <= n2.valueOf();
            }, message: r2, type: "max", max: t2 });
          }
          return this;
        }, l.prototype.cast = function(t2) {
          var e2;
          e2 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : l.cast();
          try {
            return e2(t2);
          } catch (e3) {
            throw new c("date", t2, this.path, e3, this);
          }
        }, l.prototype.$conditionalHandlers = u.options(i.prototype.$conditionalHandlers, { $gt: f, $gte: f, $lt: f, $lte: f }), l.prototype.castForQuery = function(t2, e2) {
          if (2 !== arguments.length)
            return this._castForQuery(t2);
          var r2 = this.$conditionalHandlers[t2];
          if (!r2)
            throw new Error("Can't use " + t2 + " with Date.");
          return r2.call(this, e2);
        }, t.exports = l;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "min", f), Object.defineProperty(l.prototype, "max", f), Object.defineProperty(l.prototype, "expires", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        var n = r(23);
        t.exports = function(t2) {
          return null == t2 || "" === t2 ? null : t2 instanceof Date ? (n.ok(!isNaN(t2.valueOf())), t2) : (n.ok("boolean" != typeof t2), e2 = t2 instanceof Number || "number" == typeof t2 ? new Date(t2) : "string" == typeof t2 && !isNaN(Number(t2)) && (Number(t2) >= 275761 || Number(t2) < -271820) ? new Date(Number(t2)) : "function" == typeof t2.valueOf ? new Date(t2.valueOf()) : new Date(t2), isNaN(e2.valueOf()) ? void n.ok(false) : e2);
          var e2;
        };
      }, function(t, e, r) {
        "use strict";
        var n, o = r(169), i = r(6), s = r(89), a = r(24), u = r(11), c = r(1), l = i.CastError;
        function f(t2, e2) {
          var r2 = "string" == typeof t2 && 24 === t2.length && /^[a-f0-9]+$/i.test(t2), n2 = e2 && e2.suppressWarning;
          !r2 && void 0 !== t2 || n2 || (console.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."), console.trace()), i.call(this, t2, e2, "ObjectID");
        }
        function p(t2) {
          return this.cast(t2);
        }
        function h() {
          return new u();
        }
        function y(t2) {
          if (n || (n = r(12)), this instanceof n) {
            if (void 0 === t2) {
              var e2 = new u();
              return this.$__._id = e2, e2;
            }
            this.$__._id = t2;
          }
          return t2;
        }
        f.schemaName = "ObjectId", f.defaultOptions = {}, f.prototype = Object.create(i.prototype), f.prototype.constructor = f, f.prototype.OptionsConstructor = o, f.get = i.get, f.set = i.set, f.prototype.auto = function(t2) {
          return t2 && (this.default(h), this.set(y)), this;
        }, f._checkRequired = function(t2) {
          return t2 instanceof u;
        }, f._cast = s, f.cast = function(t2) {
          return 0 === arguments.length || (false === t2 && (t2 = this._defaultCaster), this._cast = t2), this._cast;
        }, f._defaultCaster = function(t2) {
          if (!(t2 instanceof u))
            throw new Error(t2 + " is not an instance of ObjectId");
          return t2;
        }, f.checkRequired = i.checkRequired, f.prototype.checkRequired = function(t2, e2) {
          return i._isRef(this, t2, e2, true) ? !!t2 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : f.checkRequired())(t2);
        }, f.prototype.cast = function(t2, e2, r2) {
          if (i._isRef(this, t2, e2, r2))
            return t2 instanceof u ? t2 : "objectid" === (a(t2) || "").toLowerCase() ? new u(t2.toHexString()) : this._castRef(t2, e2, r2);
          var n2;
          n2 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : f.cast();
          try {
            return n2(t2);
          } catch (e3) {
            throw new l("ObjectId", t2, this.path, e3, this);
          }
        }, f.prototype.$conditionalHandlers = c.options(i.prototype.$conditionalHandlers, { $gt: p, $gte: p, $lt: p, $lte: p }), h.$runBeforeSetters = true, t.exports = f;
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "auto", f), Object.defineProperty(l.prototype, "populate", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        var n = r(6), o = n.CastError, i = r(20), s = r(171), a = r(1);
        function u(t2, e2) {
          n.call(this, t2, e2, "Decimal128");
        }
        function c(t2) {
          return this.cast(t2);
        }
        u.schemaName = "Decimal128", u.defaultOptions = {}, u.prototype = Object.create(n.prototype), u.prototype.constructor = u, u._cast = s, u.set = n.set, u.cast = function(t2) {
          return 0 === arguments.length || (false === t2 && (t2 = this._defaultCaster), this._cast = t2), this._cast;
        }, u._defaultCaster = function(t2) {
          if (null != t2 && !(t2 instanceof i))
            throw new Error();
          return t2;
        }, u._checkRequired = function(t2) {
          return t2 instanceof i;
        }, u.checkRequired = n.checkRequired, u.prototype.checkRequired = function(t2, e2) {
          return n._isRef(this, t2, e2, true) ? !!t2 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : u.checkRequired())(t2);
        }, u.prototype.cast = function(t2, e2, r2) {
          if (n._isRef(this, t2, e2, r2))
            return t2 instanceof i ? t2 : this._castRef(t2, e2, r2);
          var s2;
          s2 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : u.cast();
          try {
            return s2(t2);
          } catch (e3) {
            throw new o("Decimal128", t2, this.path, e3, this);
          }
        }, u.prototype.$conditionalHandlers = a.options(n.prototype.$conditionalHandlers, { $gt: c, $gte: c, $lt: c, $lte: c }), t.exports = u;
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          var o = r(20), i = r(23);
          t.exports = function(t2) {
            return null == t2 ? t2 : "object" === n(t2) && "string" == typeof t2.$numberDecimal ? o.fromString(t2.$numberDecimal) : t2 instanceof o ? t2 : "string" == typeof t2 ? o.fromString(t2) : e2.isBuffer(t2) ? new o(t2) : "number" == typeof t2 ? o.fromString(String(t2)) : "function" == typeof t2.valueOf && "string" == typeof t2.valueOf() ? o.fromString(t2.valueOf()) : void i.ok(false);
          };
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        (function(e2) {
          function n(t2) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
              return typeof t3;
            } : function(t3) {
              return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
            })(t2);
          }
          function o(t2, e3) {
            var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
            if (!r2) {
              if (Array.isArray(t2) || (r2 = function(t3, e4) {
                if (!t3)
                  return;
                if ("string" == typeof t3)
                  return i(t3, e4);
                var r3 = Object.prototype.toString.call(t3).slice(8, -1);
                "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
                if ("Map" === r3 || "Set" === r3)
                  return Array.from(t3);
                if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                  return i(t3, e4);
              }(t2)) || e3 && t2 && "number" == typeof t2.length) {
                r2 && (t2 = r2);
                var n2 = 0, o2 = function() {
                };
                return { s: o2, n: function() {
                  return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
                }, e: function(t3) {
                  throw t3;
                }, f: o2 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s2, a2 = true, u2 = false;
            return { s: function() {
              r2 = r2.call(t2);
            }, n: function() {
              var t3 = r2.next();
              return a2 = t3.done, t3;
            }, e: function(t3) {
              u2 = true, s2 = t3;
            }, f: function() {
              try {
                a2 || null == r2.return || r2.return();
              } finally {
                if (u2)
                  throw s2;
              }
            } };
          }
          function i(t2, e3) {
            (null == e3 || e3 > t2.length) && (e3 = t2.length);
            for (var r2 = 0, n2 = new Array(e3); r2 < e3; r2++)
              n2[r2] = t2[r2];
            return n2;
          }
          function s(t2, e3) {
            for (var r2 = 0; r2 < e3.length; r2++) {
              var n2 = e3[r2];
              n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
            }
          }
          function a() {
            return (a = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e3, r2) {
              var n2 = u(t2, e3);
              if (n2) {
                var o2 = Object.getOwnPropertyDescriptor(n2, e3);
                return o2.get ? o2.get.call(arguments.length < 3 ? t2 : r2) : o2.value;
              }
            }).apply(this, arguments);
          }
          function u(t2, e3) {
            for (; !Object.prototype.hasOwnProperty.call(t2, e3) && null !== (t2 = p(t2)); )
              ;
            return t2;
          }
          function c(t2, e3) {
            return (c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e4) {
              return t3.__proto__ = e4, t3;
            })(t2, e3);
          }
          function l(t2) {
            var e3 = function() {
              if ("undefined" == typeof Reflect || !Reflect.construct)
                return false;
              if (Reflect.construct.sham)
                return false;
              if ("function" == typeof Proxy)
                return true;
              try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
                })), true;
              } catch (t3) {
                return false;
              }
            }();
            return function() {
              var r2, n2 = p(t2);
              if (e3) {
                var o2 = p(this).constructor;
                r2 = Reflect.construct(n2, arguments, o2);
              } else
                r2 = n2.apply(this, arguments);
              return f(this, r2);
            };
          }
          function f(t2, e3) {
            if (e3 && ("object" === n(e3) || "function" == typeof e3))
              return e3;
            if (void 0 !== e3)
              throw new TypeError("Derived constructors may only return object or undefined");
            return function(t3) {
              if (void 0 === t3)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
              return t3;
            }(t2);
          }
          function p(t2) {
            return (p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
              return t3.__proto__ || Object.getPrototypeOf(t3);
            })(t2);
          }
          var h = r(90), y = r(173), d = r(6), _ = function(t2) {
            !function(t3, e3) {
              if ("function" != typeof e3 && null !== e3)
                throw new TypeError("Super expression must either be null or a function");
              t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && c(t3, e3);
            }(f2, t2);
            var r2, n2, i2, u2 = l(f2);
            function f2(t3, e3) {
              var r3;
              return function(t4, e4) {
                if (!(t4 instanceof e4))
                  throw new TypeError("Cannot call a class as a function");
              }(this, f2), (r3 = u2.call(this, t3, e3, "Map")).$isSchemaMap = true, r3;
            }
            return r2 = f2, (n2 = [{ key: "set", value: function(t3, e3) {
              return d.set(t3, e3);
            } }, { key: "cast", value: function(t3, r3, n3) {
              if (t3 instanceof h)
                return t3;
              var i3 = this.path;
              if (n3) {
                var s2 = new h({}, i3, r3, this.$__schemaType);
                if (t3 instanceof e2.Map) {
                  var a2, u3 = o(t3.keys());
                  try {
                    for (u3.s(); !(a2 = u3.n()).done; ) {
                      var c2 = a2.value, l2 = t3.get(c2);
                      l2 = null == l2 ? s2.$__schemaType._castNullish(l2) : s2.$__schemaType.cast(l2, r3, true, null, { path: i3 + "." + c2 }), s2.$init(c2, l2);
                    }
                  } catch (t4) {
                    u3.e(t4);
                  } finally {
                    u3.f();
                  }
                } else
                  for (var f3 = 0, p2 = Object.keys(t3); f3 < p2.length; f3++) {
                    var y2 = p2[f3], d2 = t3[y2];
                    d2 = null == d2 ? s2.$__schemaType._castNullish(d2) : s2.$__schemaType.cast(d2, r3, true, null, { path: i3 + "." + y2 }), s2.$init(y2, d2);
                  }
                return s2;
              }
              return new h(t3, i3, r3, this.$__schemaType);
            } }, { key: "clone", value: function() {
              var t3 = a(p(f2.prototype), "clone", this).call(this);
              return null != this.$__schemaType && (t3.$__schemaType = this.$__schemaType.clone()), t3;
            } }]) && s(r2.prototype, n2), i2 && s(r2, i2), Object.defineProperty(r2, "prototype", { writable: false }), f2;
          }(d);
          _.prototype.OptionsConstructor = y, _.defaultOptions = {}, t.exports = _;
        }).call(this, r(9));
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          for (var r2 = 0; r2 < e2.length; r2++) {
            var n2 = e2[r2];
            n2.enumerable = n2.enumerable || false, n2.configurable = true, "value" in n2 && (n2.writable = true), Object.defineProperty(t2, n2.key, n2);
          }
        }
        function i(t2, e2) {
          if (!(t2 instanceof e2))
            throw new TypeError("Cannot call a class as a function");
        }
        function s(t2, e2) {
          return (s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          })(t2, e2);
        }
        function a(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var r2, n2 = c(t2);
            if (e2) {
              var o2 = c(this).constructor;
              r2 = Reflect.construct(n2, arguments, o2);
            } else
              r2 = n2.apply(this, arguments);
            return u(this, r2);
          };
        }
        function u(t2, e2) {
          if (e2 && ("object" === n(e2) || "function" == typeof e2))
            return e2;
          if (void 0 !== e2)
            throw new TypeError("Derived constructors may only return object or undefined");
          return function(t3) {
            if (void 0 === t3)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t3;
          }(t2);
        }
        function c(t2) {
          return (c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          })(t2);
        }
        var l = function(t2) {
          !function(t3, e3) {
            if ("function" != typeof e3 && null !== e3)
              throw new TypeError("Super expression must either be null or a function");
            t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && s(t3, e3);
          }(c2, t2);
          var e2, r2, n2, u2 = a(c2);
          function c2() {
            return i(this, c2), u2.apply(this, arguments);
          }
          return e2 = c2, r2 && o(e2.prototype, r2), n2 && o(e2, n2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        }(r(7)), f = r(8);
        Object.defineProperty(l.prototype, "of", f), t.exports = l;
      }, function(t, e, r) {
        "use strict";
        (function(t2) {
          function n(t3) {
            return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
              return typeof t4;
            } : function(t4) {
              return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
            })(t3);
          }
          var o = r(15).get().Binary, i = r(20), s = r(11), a = r(31);
          function u(e2) {
            return e2 && "object" === n(e2) && !(e2 instanceof Date) && !(e2 instanceof s) && (!Array.isArray(e2) || e2.length > 0) && !(e2 instanceof t2) && !(e2 instanceof i) && !(e2 instanceof o);
          }
          e.flatten = function e2(r2, n2, o2, i2) {
            var s2;
            s2 = r2 && a(r2) && !t2.isBuffer(r2) ? Object.keys(r2.toObject({ transform: false, virtuals: false })) : Object.keys(r2 || {});
            var c = s2.length, l = {};
            n2 = n2 ? n2 + "." : "";
            for (var f = 0; f < c; ++f) {
              var p = s2[f], h = r2[p];
              l[n2 + p] = h;
              var y = i2 && i2.path && i2.path(n2 + p), d = i2 && i2.nested && i2.nested[n2 + p];
              if (!y || "Mixed" !== y.instance) {
                if (u(h)) {
                  if (o2 && o2.skipArrays && Array.isArray(h))
                    continue;
                  var _ = e2(h, n2 + p, o2, i2);
                  for (var v in _)
                    l[v] = _[v];
                  Array.isArray(h) && (l[n2 + p] = h);
                }
                if (d)
                  for (var m = Object.keys(i2.paths), b = 0, g = m; b < g.length; b++) {
                    var w = g[b];
                    w.startsWith(n2 + p + ".") && !l.hasOwnProperty(w) && (l[w] = void 0);
                  }
              }
            }
            return l;
          }, e.modifiedPaths = function e2(r2, n2, o2) {
            var i2 = Object.keys(r2 || {}), s2 = i2.length;
            o2 = o2 || {}, n2 = n2 ? n2 + "." : "";
            for (var c = 0; c < s2; ++c) {
              var l = i2[c], f = r2[l];
              o2[n2 + l] = true, a(f) && !t2.isBuffer(f) && (f = f.toObject({ transform: false, virtuals: false })), u(f) && e2(f, n2 + l, o2);
            }
            return o2;
          };
        }).call(this, r(2).Buffer);
      }, function(t, e, r) {
        "use strict";
        var n = r(3);
        t.exports = function t2(e2, r2, o) {
          for (var i = (o = o || {}).typeOnly, s = r2.split("."), a = null, u = "adhocOrUndefined", c = 0; c < s.length; ++c) {
            var l = s.slice(0, c + 1).join(".");
            if (null != (a = e2.schema.path(l))) {
              if ("Mixed" === a.instance)
                return i ? "real" : a;
              if (u = e2.schema.pathType(l), (a.$isSingleNested || a.$isMongooseDocumentArrayElement) && null != a.schema.discriminators) {
                var f = a.schema.discriminators, p = e2.get(l + "." + n(a, "schema.options.discriminatorKey"));
                if (null == p || null == f[p])
                  continue;
                var h = s.slice(c + 1).join(".");
                return t2(e2.get(l), h, o);
              }
            } else
              u = "adhocOrUndefined";
          }
          return i ? u : a;
        };
      }, function(t, e, r) {
        "use strict";
        function n() {
          return null != this._id ? String(this._id) : null;
        }
        t.exports = function(t2) {
          !t2.paths.id && !t2.options.noVirtualId && t2.options.id && t2.virtual("id").get(n);
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(59);
        t.exports = function(t2) {
          if (null == t2)
            return null;
          var e2 = Object.keys(t2), r2 = e2.length, o = null;
          if (1 === r2 && "_id" === e2[0])
            o = !!t2[e2[r2]];
          else
            for (; r2--; )
              if ("_id" !== e2[r2] && n(t2[e2[r2]])) {
                o = !t2[e2[r2]];
                break;
              }
          return o;
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        function o(t2, e2) {
          var r2 = "undefined" != typeof Symbol && t2[Symbol.iterator] || t2["@@iterator"];
          if (!r2) {
            if (Array.isArray(t2) || (r2 = function(t3, e3) {
              if (!t3)
                return;
              if ("string" == typeof t3)
                return i(t3, e3);
              var r3 = Object.prototype.toString.call(t3).slice(8, -1);
              "Object" === r3 && t3.constructor && (r3 = t3.constructor.name);
              if ("Map" === r3 || "Set" === r3)
                return Array.from(t3);
              if ("Arguments" === r3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r3))
                return i(t3, e3);
            }(t2)) || e2 && t2 && "number" == typeof t2.length) {
              r2 && (t2 = r2);
              var n2 = 0, o2 = function() {
              };
              return { s: o2, n: function() {
                return n2 >= t2.length ? { done: true } : { done: false, value: t2[n2++] };
              }, e: function(t3) {
                throw t3;
              }, f: o2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r2 = r2.call(t2);
          }, n: function() {
            var t3 = r2.next();
            return a2 = t3.done, t3;
          }, e: function(t3) {
            u2 = true, s2 = t3;
          }, f: function() {
            try {
              a2 || null == r2.return || r2.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        function i(t2, e2) {
          (null == e2 || e2 > t2.length) && (e2 = t2.length);
          for (var r2 = 0, n2 = new Array(e2); r2 < e2; r2++)
            n2[r2] = t2[r2];
          return n2;
        }
        var s = r(179), a = r(3), u = r(37), c = r(59), l = r(26);
        function f(t2) {
          return function(e2) {
            e2.options || (e2.options = {}), null != t2 && Array.isArray(t2.virtuals) && ((t2 = Object.assign({}, t2)).virtuals = t2.virtuals.filter(function(t3) {
              return "string" == typeof t3 && t3.startsWith(e2.path + ".");
            }).map(function(t3) {
              return t3.slice(e2.path.length + 1);
            })), e2.options.lean = t2;
          };
        }
        e.preparePopulationOptions = function(t2, e2) {
          var r2 = t2.options.populate, n2 = Object.keys(r2).reduce(function(t3, e3) {
            return t3.concat([r2[e3]]);
          }, []);
          return null != e2.lean && n2.filter(function(t3) {
            return null == a(t3, "options.lean");
          }).forEach(f(e2.lean)), n2.forEach(function(e3) {
            e3._localModel = t2.model;
          }), n2;
        }, e.preparePopulationOptionsMQ = function(t2, e2) {
          var r2 = t2._mongooseOptions.populate, n2 = Object.keys(r2).reduce(function(t3, e3) {
            return t3.concat([r2[e3]]);
          }, []);
          null != e2.lean && n2.filter(function(t3) {
            return null == a(t3, "options.lean");
          }).forEach(f(e2.lean));
          var o2 = a(t2, "options.session", null);
          null != o2 && n2.forEach(function(t3) {
            null != t3.options ? "session" in t3.options || (t3.options.session = o2) : t3.options = { session: o2 };
          });
          var i2 = t2._fieldsForExec();
          return n2.forEach(function(t3) {
            t3._queryProjection = i2;
          }), n2.forEach(function(e3) {
            e3._localModel = t2.model;
          }), n2;
        }, e.createModel = function(t2, r2, n2, o2, i2) {
          t2.hooks.execPreSync("createModel", r2);
          var s2 = t2.schema ? t2.schema.discriminatorMapping : null, a2 = s2 && s2.isRoot ? s2.key : null, c2 = r2[a2];
          if (a2 && c2 && t2.discriminators) {
            var f2 = t2.discriminators[c2] || u(t2.discriminators, c2);
            if (f2) {
              var p = l(o2);
              return e.applyPaths(p, f2.schema), new f2(void 0, p, true);
            }
          }
          return void 0 === i2 && ((i2 = {}).defaults = true), new t2(void 0, n2, { skipId: true, isNew: false, willInit: true, defaults: i2.defaults });
        }, e.applyPaths = function(t2, e2) {
          var r2, i2, u2;
          if (t2) {
            for (u2 = (i2 = Object.keys(t2)).length; u2--; )
              if ("+" !== i2[u2][0]) {
                var l2 = t2[i2[u2]];
                if (c(l2)) {
                  r2 = !l2;
                  break;
                }
              }
          }
          var f2 = [], p = [], h = [];
          switch (function e3(n2, o2) {
            if (o2 || (o2 = ""), -1 !== h.indexOf(n2))
              return [];
            h.push(n2);
            var i3 = [];
            return n2.eachPath(function(n3, a2) {
              o2 && (n3 = o2 + "." + n3);
              var u3 = $(n3, a2);
              if (null == u3 && a2.$isMongooseArray && !a2.$isMongooseDocumentArray && (u3 = $(n3, a2.caster)), null != u3 && i3.push(u3), a2.schema) {
                var c2 = e3(a2.schema, n3);
                false === r2 && s(t2, n3, a2.schema, f2, c2);
              }
            }), h.pop(), i3;
          }(e2), r2) {
            case true:
              var y, d = o(p);
              try {
                for (d.s(); !(y = d.n()).done; ) {
                  var _ = y.value;
                  t2[_] = 0;
                }
              } catch (t3) {
                d.e(t3);
              } finally {
                d.f();
              }
              break;
            case false:
              e2 && e2.paths._id && e2.paths._id.options && false === e2.paths._id.options.select && (t2._id = 0);
              var v, m = o(f2);
              try {
                for (m.s(); !(v = m.n()).done; ) {
                  var b = v.value;
                  t2[b] = t2[b] || 1;
                }
              } catch (t3) {
                m.e(t3);
              } finally {
                m.f();
              }
              break;
            case void 0:
              if (null == t2)
                break;
              for (var g = 0, w = Object.keys(t2 || {}); g < w.length; g++) {
                var O = w[g];
                O.startsWith("+") && delete t2[O];
              }
              var S, j = o(p);
              try {
                for (j.s(); !(S = j.n()).done; ) {
                  var A = S.value;
                  t2[A] = 0;
                }
              } catch (t3) {
                j.e(t3);
              } finally {
                j.f();
              }
          }
          function $(e3, o2) {
            var s2 = "+" + e3, u3 = t2 && s2 in t2;
            if (u3 && delete t2[s2], "boolean" == typeof o2.selected) {
              if (u3)
                return delete t2[s2], void (false === r2 && i2.length > 1 && !~i2.indexOf(e3) && (t2[e3] = 1));
              for (var c2 = e3.split("."), l3 = "", h2 = 0; h2 < c2.length; ++h2)
                if (l3 += l3.length ? "." + c2[h2] : c2[h2], -1 !== p.indexOf(l3))
                  return;
              if (!r2 && a(o2, "options.$skipDiscriminatorCheck", false))
                for (var y2 = "", d2 = 0; d2 < c2.length; ++d2) {
                  y2 += (0 === y2.length ? "" : ".") + c2[d2];
                  var _2 = a(t2, y2, false) || a(t2, y2 + ".$", false);
                  if (_2 && "object" !== n(_2))
                    return;
                }
              return (o2.selected ? f2 : p).push(e3), e3;
            }
          }
        }, e.handleDeleteWriteOpResult = function(t2) {
          return function(e2, r2) {
            if (e2)
              return t2(e2);
            var n2 = Object.assign({}, r2.result);
            return null != a(r2, "result.n", null) && (n2.deletedCount = r2.result.n), null != r2.deletedCount && (n2.deletedCount = r2.deletedCount), t2(null, n2);
          };
        };
      }, function(t, e, r) {
        "use strict";
        t.exports = function(t2, e2, r2, n, o) {
          var i = Object.keys(t2).reduce(function(t3, r3) {
            return t3 || r3.startsWith(e2 + ".");
          }, false), s = e2 + "." + r2.options.discriminatorKey;
          i || 1 !== o.length || o[0] !== s || n.splice(n.indexOf(s), 1);
        };
      }, function(t, e, r) {
        "use strict";
        function n(t2) {
          return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          })(t2);
        }
        t.exports = function(t2) {
          return !!t2 && ("object" === n(t2) || "function" == typeof t2) && "function" == typeof t2.then;
        };
      }, function(t, e, r) {
        "use strict";
        var n = r(12), o = r(19).EventEmitter, i = r(5), s = r(54), a = r(11), u = i.ValidationError, c = r(78), l = r(21);
        function f(t2, e2, r2, o2, u2) {
          if (!(this instanceof f))
            return new f(t2, e2, r2, o2, u2);
          if (l(e2) && !e2.instanceOfSchema && (e2 = new s(e2)), e2 = this.schema || e2, !this.schema && e2.options._id && void 0 === (t2 = t2 || {})._id && (t2._id = new a()), !e2)
            throw new i.MissingSchemaError();
          for (var p in this.$__setSchema(e2), n.call(this, t2, r2, o2, u2), c(this, e2, { decorateDoc: true }), e2.methods)
            this[p] = e2.methods[p];
          for (var h in e2.statics)
            this[h] = e2.statics[h];
        }
        f.prototype = Object.create(n.prototype), f.prototype.constructor = f, f.events = new o(), f.$emitter = new o(), ["on", "once", "emit", "listeners", "removeListener", "setMaxListeners", "removeAllListeners", "addListener"].forEach(function(t2) {
          f[t2] = function() {
            return f.$emitter[t2].apply(f.$emitter, arguments);
          };
        }), f.ValidationError = u, t.exports = f;
      }]);
    });
  }
});
export default require_browser_umd();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2017 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
/*!
   * DivergentArrayError constructor.
   * @param {Array<String>} paths
   */
/*!
   * MissingSchema Error constructor.
   * @param {String} name
   */
/*!
   * OverwriteModel Error constructor.
   * @param {String} name
   */
/*!
   * OverwriteModel Error constructor.
   */
/*!
   * toString helper
   * TODO remove? This defaults to `${this.name}: ${this.message}`
   */
/*!
 * @ignore
 */
/*!
 * Applies virtuals properties to `json`.
 *
 * @param {Document} self
 * @param {Object} json
 * @return {Object} `json`
 */
/*!
 * Applies virtuals properties to `json`.
 */
/*!
 * Apply query middleware
 *
 * @param {Query} query constructor
 * @param {Model} model
 */
/*!
 * Casts val to an object suitable for `$text`. Throws an error if the object
 * can't be casted.
 *
 * @param {Any} val value to cast
 * @param {String} [path] path to associate with any errors that occured
 * @return {Object} casted object
 * @see https://docs.mongodb.com/manual/reference/operator/query/text/
 * @api private
 */
/*!
 * Centralize this so we can more easily work around issues with people
 * stubbing out `process.nextTick()` in tests using sinon:
 * https://github.com/sinonjs/lolex#automatically-incrementing-mocked-time
 * See gh-6074
 */
/*!
 * Compiles schemas.
 */
/*!
 * Create virtual properties with alias field
 */
/*!
 * Date Query casting.
 *
 * @api private
 */
/*!
 * Defines the accessor named prop on the incoming prototype.
 */
/*!
 * Dependencies
 */
/*!
 * Determines if `arg` is an object.
 *
 * @param {Object|Array|String|Function|RegExp|any} arg
 * @api private
 * @return {Boolean}
 */
/*!
 * Document exposes the NodeJS event emitter API, so you can use
 * `on`, `once`, etc.
 */
/*!
 * Find the correct constructor, taking into account discriminators
 */
/*!
 * Formats error messages
 */
/*!
 * Gather all indexes defined in the schema, including single nested,
 * document arrays, and embedded discriminators.
 */
/*!
 * Get the bson type, if it exists
 */
/*!
 * Getter for convenience with populate, see gh-6115
 */
/*!
 * Given a value, cast it to a boolean, or throw a `CastError` if the value
 * cannot be casted. `null` and `undefined` are considered valid.
 *
 * @param {Any} value
 * @param {String} [path] optional the path to set on the CastError
 * @return {Boolean|null|undefined}
 * @throws {CastError} if `value` is not one of the allowed values
 * @api private
 */
/*!
 * Given a value, cast it to a number, or throw a `CastError` if the value
 * cannot be casted. `null` and `undefined` are considered valid.
 *
 * @param {Any} value
 * @param {String} [path] optional the path to set on the CastError
 * @return {Boolean|null|undefined}
 * @throws {Error} if `value` is not one of the allowed values
 * @api private
 */
/*!
 * Given a value, cast it to a string, or throw a `CastError` if the value
 * cannot be casted. `null` and `undefined` are considered valid.
 *
 * @param {Any} value
 * @param {String} [path] optional the path to set on the CastError
 * @return {string|null|undefined}
 * @throws {CastError}
 * @api private
 */
/*!
 * Handle the `WriteOpResult` from the server
 */
/*!
 * If `val` is an object, returns constructor name, if possible. Otherwise returns undefined.
 */
/*!
 * If this is a document array, each element may contain single
 * populated paths, so we need to modify the top-level document's
 * populated cache. See gh-8247, gh-8265.
 */
/*!
 * Ignore
 */
/*!
 * Inherit from Document
 */
/*!
 * Inherit from EventEmitter.
 */
/*!
 * Inherit from the NodeJS document
 */
/*!
 * Init helper.
 *
 * @param {Object} self document instance
 * @param {Object} obj raw mongodb doc
 * @param {Object} doc object we are initializing
 * @api private
 */
/*!
 * Internal helper for update, updateMany, updateOne
 */
/*!
 * Just like handleArray, except also allows `[]` because surprisingly
 * `$in: [1, []]` works fine
 */
/*!
 * Like `schema.path()`, except with a document, because impossible to
 * determine path type without knowing the embedded discriminator key.
 */
/*!
 * Module dependencies
 */
/*!
 * Module dependencies.
 */
/*!
 * Module exports
 */
/*!
 * Module exports.
 */
/*!
 * Module requirements
 */
/*!
 * Module requirements.
 */
/*!
 * Object clone with Mongoose natives support.
 *
 * If options.minimize is true, creates a minimal data object. Empty objects and undefined values will not be cloned. This makes the data payload sent to MongoDB as small as possible.
 *
 * Functions are never cloned.
 *
 * @param {Object} obj the object to clone
 * @param {Object} options
 * @param {Boolean} isArrayChild true if cloning immediately underneath an array. Special case for minimize.
 * @return {Object} the cloned object
 * @api private
 */
/*!
 * Prepare a set of path options for query population.
 *
 * @param {Query} query
 * @param {Object} options
 * @return {Array}
 */
/*!
 * Register hooks for this model
 *
 * @param {Model} model
 * @param {Schema} schema
 */
/*!
 * Return the value of `obj` at the given `path`.
 *
 * @param {String} path
 * @param {Object} obj
 */
/*!
 * Returns if `v` is a mongoose object that has a `toObject()` method we can use.
 *
 * This is for compatibility with libs like Date.js which do foolish things to Natives.
 *
 * @param {any} v
 * @api private
 */
/*!
 * Returns the value passed to it.
 */
/*!
 * Returns this documents _id cast to a string.
 */
/*!
 * Runs queued functions
 */
/*!
 * Safer helper for hasOwnProperty checks
 *
 * @param {Object} obj
 * @param {String} prop
 */
/*!
 * Scopes paths selected in a query to this array.
 * Necessary for proper default application of subdocument values.
 *
 * @param {DocumentArrayPath} array - the array to scope `fields` paths
 * @param {Object|undefined} fields - the root fields selected in the query
 * @param {Boolean|undefined} init - if we are being created part of a query result
 */
/*!
 * Set each path query option to lean
 *
 * @param {Object} option
 */
/*!
 * Simplified lodash.get to work around the annoying null quirk. See:
 * https://github.com/lodash/lodash/issues/3659
 */
/*!
 * Since maps are stored as objects under the hood, keys must be strings
 * and can't contain any invalid characters
 */
/*!
 * Special case for when users use a common location schema to represent
 * locations for use with $geoWithin.
 * https://docs.mongodb.org/manual/reference/operator/query/geoWithin/
 *
 * @param {Object} val
 * @api private
 */
/*!
 * StateMachine represents a minimal `interface` for the
 * constructors it builds via StateMachine.ctor(...).
 *
 * @api private
 */
/*!
 * StateMachine.ctor('state1', 'state2', ...)
 * A factory method for subclassing StateMachine.
 * The arguments are a list of states. For each state,
 * the constructor's prototype gets state transition
 * methods named after each state. These transition methods
 * place their path argument into the given state.
 *
 * @param {String} state
 * @param {String} [state]
 * @return {Function} subclass constructor
 * @private
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/*!
 * The class that Mongoose uses internally to instantiate this SchemaType's `options` property.
 */
/*!
 * Use native promises by default
 */
/*!
 * [node-mongodb-native](https://github.com/mongodb/node-mongodb-native) ObjectId
 * @constructor NodeMongoDbObjectId
 * @see ObjectId
 */
/*!
 * exports
 */
/*!
 * ignore
 */
/*!
 * ignore. Deprecated re: #6405
 */
/*!
 * limit, skip, maxScan, batchSize, comment
 *
 * Sets these associated options.
 *
 *     query.comment('feed query');
 */
/*!
* returns discriminator by discriminatorMapping.value
*
* @param {Model} model
* @param {string} value
*/
/*!
* returns discriminator by discriminatorMapping.value
*
* @param {Schema} schema
* @param {string} value
*/
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=mongoose.js.map
